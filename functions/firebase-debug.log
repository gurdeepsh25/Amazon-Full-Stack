[debug] [2023-03-25T16:30:54.266Z] ----------------------------------------------------------------------
[debug] [2023-03-25T16:30:54.267Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Gurdeep Singh\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2023-03-25T16:30:54.268Z] CLI Version:   11.25.1
[debug] [2023-03-25T16:30:54.268Z] Platform:      win32
[debug] [2023-03-25T16:30:54.268Z] Node Version:  v18.12.1
[debug] [2023-03-25T16:30:54.268Z] Time:          Sat Mar 25 2023 22:00:54 GMT+0530 (India Standard Time)
[debug] [2023-03-25T16:30:54.269Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-25T16:30:54.344Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-25T16:30:54.344Z] > authorizing via signed-in user (gurdeepsh25@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2023-03-25T16:30:54.352Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-25T16:30:54.352Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project clone-eca8d. This may result in unexpected behavior. 
[debug] [2023-03-25T16:30:54.359Z] [hub] writing locator at C:\Users\GURDEE~1\AppData\Local\Temp\hub-clone-eca8d.json
[debug] [2023-03-25T16:30:54.369Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-25T16:30:54.369Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-25T16:30:54.369Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-03-25T16:30:54.373Z] defaultcredentials: writing to file C:\Users\Gurdeep Singh\AppData\Roaming\firebase\gurdeepsh25_gmail_com_application_default_credentials.json
[debug] [2023-03-25T16:30:54.382Z] Setting GAC to C:\Users\Gurdeep Singh\AppData\Roaming\firebase\gurdeepsh25_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Gurdeep Singh\\AppData\\Roaming\\firebase\\gurdeepsh25_gmail_com_application_default_credentials.json"}}
[debug] [2023-03-25T16:30:54.384Z] > refreshing access token with scopes: []
[debug] [2023-03-25T16:30:54.385Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-25T16:30:54.385Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-25T16:30:54.768Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-03-25T16:30:54.768Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-25T16:30:54.772Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig [none]
[debug] [2023-03-25T16:30:55.895Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig 200
[debug] [2023-03-25T16:30:55.895Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig {"projectId":"clone-eca8d","databaseURL":"https://clone-eca8d-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"clone-eca8d.appspot.com"}
[debug] [2023-03-25T16:30:55.910Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-03-25T16:30:55.910Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-03-25T16:30:55.910Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Gurdeep Singh\\.cache\\firebase\\emulators\\ui-v1.11.4\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Gurdeep Singh\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.4\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-03-25T16:30:55.997Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-03-25T16:30:55.998Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "G:\Amazon-full-stack\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"G:\\Amazon-full-stack\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2023-03-25T16:30:56.173Z] Validating nodejs source
[debug] [2023-03-25T16:30:57.872Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:30:57.873Z] Building nodejs source
[debug] [2023-03-25T16:30:57.873Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:30:57.875Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:30:57.881Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:30:58.022Z] Serving at port 8531

[debug] [2023-03-25T16:30:58.234Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:30:58.239Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-eca8d/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-eca8d/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-03-25T16:31:34.184Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api-2023-03-25T16:31:34.183Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:31:34.184Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api-2023-03-25T16:31:34.183Z"],"workRunningCount":1}
[debug] [2023-03-25T16:31:34.184Z] Accepted request GET /clone-eca8d/us-central1/api --> us-central1-api
[debug] [2023-03-25T16:31:34.188Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:31:34.189Z] [functions] Got req.url=/clone-eca8d/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api, mapping to path=/"}}
[debug] [2023-03-25T16:31:34.195Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:31:34.195Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:31:35.075Z] [runtime-status] [5048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.076Z] [runtime-status] [5048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.076Z] [runtime-status] [5048] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:31:35.077Z] [runtime-status] [5048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.237Z] [runtime-status] [5048] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:31:35.237Z] [runtime-status] [5048] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:31:35.238Z] [runtime-status] [5048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.238Z] [runtime-status] [5048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.240Z] [runtime-status] [5048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:31:35.240Z] [runtime-status] [5048] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:31:35.351Z] [runtime-status] [5048] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:31:35.351Z] [runtime-status] [5048] Listening to port: \\?\pipe\fire_emu_79ec056a3ec030bc {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5048] Listening to port: \\\\?\\pipe\\fire_emu_79ec056a3ec030bc"}}
[debug] [2023-03-25T16:31:35.402Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: IDLE"}}
[debug] [2023-03-25T16:31:35.403Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:31:35.404Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 4.7213ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.7213ms"}}
[debug] [2023-03-25T16:31:35.409Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: IDLE"}}
[debug] [2023-03-25T16:31:35.409Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:31:35.509Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2023-03-25T16:35:45.313Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:35:46.330Z] Validating nodejs source
[debug] [2023-03-25T16:35:49.021Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:35:49.021Z] Building nodejs source
[debug] [2023-03-25T16:35:49.022Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:35:49.023Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:35:49.036Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:35:49.055Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:35:49.245Z] Serving at port 8705

[debug] [2023-03-25T16:35:49.459Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:35:49.462Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:35:49.472Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-03-25T16:35:49.472Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: FINISHING"}}
[debug] [2023-03-25T16:35:49.479Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: exited"}}
[debug] [2023-03-25T16:35:49.479Z] [worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-62d3997e-f2a2-439e-9cc4-6d05b7a7b18a]: FINISHED"}}
[debug] [2023-03-25T16:35:49.930Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:35:50.939Z] Validating nodejs source
[debug] [2023-03-25T16:35:52.394Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:35:52.394Z] Building nodejs source
[debug] [2023-03-25T16:35:52.395Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:35:52.396Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:35:52.401Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:35:52.570Z] Serving at port 8520

[debug] [2023-03-25T16:35:52.788Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:35:52.791Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:36:02.424Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:36:03.428Z] Validating nodejs source
[debug] [2023-03-25T16:36:05.640Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:36:05.640Z] Building nodejs source
[debug] [2023-03-25T16:36:05.640Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:36:05.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:36:05.646Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:36:05.652Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:36:05.802Z] Serving at port 8931

[debug] [2023-03-25T16:36:06.018Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:36:06.021Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:36:06.658Z] Validating nodejs source
[debug] [2023-03-25T16:36:07.648Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:36:07.648Z] Building nodejs source
[debug] [2023-03-25T16:36:07.648Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:36:07.650Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:36:07.655Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:36:07.800Z] Serving at port 8213

[debug] [2023-03-25T16:36:08.018Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:36:08.021Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:36:14.292Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:36:15.302Z] Validating nodejs source
[debug] [2023-03-25T16:36:16.422Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:36:16.422Z] Building nodejs source
[debug] [2023-03-25T16:36:16.422Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:36:16.423Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:36:16.429Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:36:16.557Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:36:16.575Z] Serving at port 8838

[debug] [2023-03-25T16:36:16.790Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:36:16.793Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:36:17.568Z] Validating nodejs source
[debug] [2023-03-25T16:36:18.430Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:36:18.430Z] Building nodejs source
[debug] [2023-03-25T16:36:18.430Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:36:18.431Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:36:18.436Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:36:18.588Z] Serving at port 8796

[debug] [2023-03-25T16:36:18.809Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:36:18.812Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:36:19.263Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:36:20.274Z] Validating nodejs source
[debug] [2023-03-25T16:36:21.112Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:36:21.112Z] Building nodejs source
[debug] [2023-03-25T16:36:21.112Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:36:21.113Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:36:21.119Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:36:21.267Z] Serving at port 8417

[debug] [2023-03-25T16:36:21.477Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:36:21.480Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:37:15.889Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:16.890Z] Validating nodejs source
[debug] [2023-03-25T16:37:17.844Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:17.845Z] Building nodejs source
[debug] [2023-03-25T16:37:17.845Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:17.846Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:17.852Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:17.858Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:18.005Z] Serving at port 8102

[debug] [2023-03-25T16:37:18.216Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:37:18.218Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:37:18.864Z] Validating nodejs source
[debug] [2023-03-25T16:37:19.863Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:19.863Z] Building nodejs source
[debug] [2023-03-25T16:37:19.863Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:19.864Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:19.870Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:20.011Z] Serving at port 8531

[debug] [2023-03-25T16:37:20.220Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:37:20.223Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:37:27.964Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:28.964Z] Validating nodejs source
[debug] [2023-03-25T16:37:30.161Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:30.161Z] Building nodejs source
[debug] [2023-03-25T16:37:30.161Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:30.162Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:30.168Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:30.173Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:30.322Z] Serving at port 8470

[debug] [2023-03-25T16:37:30.333Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2023-03-25T16:37:30.334Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: missing ) after argument list
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: missing ) after argument list\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: missing ) after argument list\n                                         ^"}
[debug] [2023-03-25T16:37:30.339Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: missing ) after argument list {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: missing ) after argument list"}}
[debug] [2023-03-25T16:37:30.621Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:31.128Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:32.130Z] Validating nodejs source
[debug] [2023-03-25T16:37:33.033Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:33.033Z] Building nodejs source
[debug] [2023-03-25T16:37:33.033Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:33.034Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:33.039Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:33.180Z] Serving at port 8776

[debug] [2023-03-25T16:37:33.394Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:37:33.397Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:37:51.343Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:52.357Z] Validating nodejs source
[debug] [2023-03-25T16:37:53.456Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:53.456Z] Building nodejs source
[debug] [2023-03-25T16:37:53.456Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:53.457Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:53.463Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:53.470Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:53.614Z] Serving at port 8241

[debug] [2023-03-25T16:37:53.824Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: cors is not defined
[debug] [2023-03-25T16:37:53.824Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: cors is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: cors is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: cors is not defined\n                                         ^"}
[debug] [2023-03-25T16:37:53.826Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: cors is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: cors is not defined"}}
[debug] [2023-03-25T16:37:54.490Z] Validating nodejs source
[debug] [2023-03-25T16:37:55.457Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:55.457Z] Building nodejs source
[debug] [2023-03-25T16:37:55.457Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:55.458Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:55.463Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:55.469Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:55.615Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:37:55.616Z] Serving at port 8474

[debug] [2023-03-25T16:37:55.827Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:37:55.830Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:37:56.624Z] Validating nodejs source
[debug] [2023-03-25T16:37:57.561Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:37:57.562Z] Building nodejs source
[debug] [2023-03-25T16:37:57.562Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:37:57.563Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:37:57.570Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:37:57.722Z] Serving at port 8615

[debug] [2023-03-25T16:37:57.936Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:37:57.939Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:38:09.606Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:10.593Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:11.601Z] Validating nodejs source
[debug] [2023-03-25T16:38:12.594Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:12.594Z] Building nodejs source
[debug] [2023-03-25T16:38:12.594Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:12.595Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:12.600Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:12.748Z] Serving at port 8700

[debug] [2023-03-25T16:38:12.965Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2023-03-25T16:38:12.966Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: async is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: async is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: async is not defined\n                                         ^"}
[debug] [2023-03-25T16:38:12.968Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined"}}
[debug] [2023-03-25T16:38:20.245Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:21.261Z] Validating nodejs source
[debug] [2023-03-25T16:38:22.475Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:22.475Z] Building nodejs source
[debug] [2023-03-25T16:38:22.475Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:22.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:22.481Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:22.630Z] Serving at port 8888

[debug] [2023-03-25T16:38:22.849Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2023-03-25T16:38:22.850Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: async is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: async is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: async is not defined\n                                         ^"}
[debug] [2023-03-25T16:38:22.853Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined"}}
[debug] [2023-03-25T16:38:23.337Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:24.342Z] Validating nodejs source
[debug] [2023-03-25T16:38:28.912Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:28.912Z] Building nodejs source
[debug] [2023-03-25T16:38:28.912Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:28.916Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:28.921Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:28.927Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:29.063Z] Serving at port 8490

[debug] [2023-03-25T16:38:29.276Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2023-03-25T16:38:29.277Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: async is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: async is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: async is not defined\n                                         ^"}
[debug] [2023-03-25T16:38:29.279Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined"}}
[debug] [2023-03-25T16:38:29.943Z] Validating nodejs source
[debug] [2023-03-25T16:38:38.770Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:38.770Z] Building nodejs source
[debug] [2023-03-25T16:38:38.770Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:38.771Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:38.776Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:38.917Z] Serving at port 8202

[debug] [2023-03-25T16:38:39.124Z] Got response from /__/functions.yaml Failed to generate manifest from function source: ReferenceError: async is not defined
[debug] [2023-03-25T16:38:39.124Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:
     ...  function source: ReferenceError: async is not defined
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: ReferenceError: async is not defined\n\u0000","position":64,"line":0,"column":64},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 65:\n     ...  function source: ReferenceError: async is not defined\n                                         ^"}
[debug] [2023-03-25T16:38:39.126Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: ReferenceError: async is not defined"}}
[debug] [2023-03-25T16:38:40.174Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:40.636Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:41.639Z] Validating nodejs source
[debug] [2023-03-25T16:38:46.781Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:46.781Z] Building nodejs source
[debug] [2023-03-25T16:38:46.781Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:46.782Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:46.788Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:46.794Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:46.945Z] Serving at port 8678

[debug] [2023-03-25T16:38:46.954Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[debug] [2023-03-25T16:38:46.955Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token ')'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token ')'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token ')'\n                                         ^"}
[debug] [2023-03-25T16:38:46.957Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token ')' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token ')'"}}
[debug] [2023-03-25T16:38:47.801Z] Validating nodejs source
[debug] [2023-03-25T16:38:57.571Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:38:57.571Z] Building nodejs source
[debug] [2023-03-25T16:38:57.571Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:38:57.573Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:38:57.578Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:38:57.588Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:38:57.721Z] Serving at port 8615

[debug] [2023-03-25T16:38:57.937Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:38:57.939Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:38:58.595Z] Validating nodejs source
[debug] [2023-03-25T16:39:02.884Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:39:02.884Z] Building nodejs source
[debug] [2023-03-25T16:39:02.884Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:39:02.886Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:39:02.891Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:39:03.037Z] Serving at port 8734

[debug] [2023-03-25T16:39:03.255Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:39:03.258Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:40:40.931Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:40:41.933Z] Validating nodejs source
[debug] [2023-03-25T16:40:51.500Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:40:51.500Z] Building nodejs source
[debug] [2023-03-25T16:40:51.500Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:40:51.501Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:40:51.510Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:40:51.516Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:40:51.655Z] Serving at port 8068

[debug] [2023-03-25T16:40:51.865Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:40:51.867Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:40:52.083Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:40:53.091Z] Validating nodejs source
[debug] [2023-03-25T16:40:59.271Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:40:59.271Z] Building nodejs source
[debug] [2023-03-25T16:40:59.271Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:40:59.272Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:40:59.276Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:40:59.281Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:40:59.423Z] Serving at port 8118

[debug] [2023-03-25T16:40:59.433Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2023-03-25T16:40:59.433Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '}'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '}'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '}'\n                                         ^"}
[debug] [2023-03-25T16:40:59.435Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}'"}}
[debug] [2023-03-25T16:40:59.483Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:00.211Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:01.217Z] Validating nodejs source
[debug] [2023-03-25T16:41:07.131Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:07.131Z] Building nodejs source
[debug] [2023-03-25T16:41:07.131Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:07.132Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:07.137Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:07.276Z] Serving at port 8412

[debug] [2023-03-25T16:41:07.483Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:07.485Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:41:29.578Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:30.589Z] Validating nodejs source
[debug] [2023-03-25T16:41:34.182Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:34.182Z] Building nodejs source
[debug] [2023-03-25T16:41:34.182Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:34.183Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:34.188Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:34.335Z] Serving at port 8053

[debug] [2023-03-25T16:41:34.551Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:34.555Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:41:37.438Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:38.440Z] Validating nodejs source
[debug] [2023-03-25T16:41:40.505Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:40.505Z] Building nodejs source
[debug] [2023-03-25T16:41:40.505Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:40.509Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:40.517Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:40.528Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:40.693Z] Serving at port 8179

[debug] [2023-03-25T16:41:40.909Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:40.912Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:41:41.144Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:42.158Z] Validating nodejs source
[debug] [2023-03-25T16:41:46.218Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:46.218Z] Building nodejs source
[debug] [2023-03-25T16:41:46.218Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:46.219Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:46.224Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:46.229Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:46.478Z] Serving at port 8387

[debug] [2023-03-25T16:41:46.695Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:46.697Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:41:47.245Z] Validating nodejs source
[debug] [2023-03-25T16:41:53.531Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:53.531Z] Building nodejs source
[debug] [2023-03-25T16:41:53.531Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:53.532Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:53.536Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:53.546Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:53.684Z] Serving at port 8325

[debug] [2023-03-25T16:41:53.905Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:53.908Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:41:54.547Z] Validating nodejs source
[debug] [2023-03-25T16:41:59.308Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:41:59.309Z] Building nodejs source
[debug] [2023-03-25T16:41:59.309Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:41:59.310Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:41:59.314Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:41:59.320Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:41:59.459Z] Serving at port 8410

[debug] [2023-03-25T16:41:59.686Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:41:59.689Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:00.343Z] Validating nodejs source
[debug] [2023-03-25T16:42:01.267Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:01.937Z] Building nodejs source
[debug] [2023-03-25T16:42:01.938Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:01.939Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:01.943Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:01.948Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:02.085Z] Serving at port 8717

[debug] [2023-03-25T16:42:02.418Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:02.421Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:02.604Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:03.605Z] Validating nodejs source
[debug] [2023-03-25T16:42:05.049Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:05.049Z] Building nodejs source
[debug] [2023-03-25T16:42:05.049Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:05.050Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:05.055Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:05.060Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:05.195Z] Serving at port 8724

[debug] [2023-03-25T16:42:05.408Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:05.411Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:06.086Z] Validating nodejs source
[debug] [2023-03-25T16:42:08.123Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:08.123Z] Building nodejs source
[debug] [2023-03-25T16:42:08.123Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:08.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:08.128Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:08.133Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:08.275Z] Serving at port 8215

[debug] [2023-03-25T16:42:08.581Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:08.584Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:09.051Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:10.061Z] Validating nodejs source
[debug] [2023-03-25T16:42:12.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:12.826Z] Building nodejs source
[debug] [2023-03-25T16:42:12.826Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:12.828Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:12.832Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:12.838Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:12.978Z] Serving at port 8092

[debug] [2023-03-25T16:42:13.196Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:13.200Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:13.841Z] Validating nodejs source
[debug] [2023-03-25T16:42:14.906Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:14.906Z] Building nodejs source
[debug] [2023-03-25T16:42:14.906Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:14.907Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:14.911Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:15.056Z] Serving at port 8093

[debug] [2023-03-25T16:42:15.270Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:15.272Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:23.852Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:24.867Z] Validating nodejs source
[debug] [2023-03-25T16:42:26.332Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:26.333Z] Building nodejs source
[debug] [2023-03-25T16:42:26.333Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:26.334Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:26.338Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:26.481Z] Serving at port 8167

[debug] [2023-03-25T16:42:26.699Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:26.702Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:29.057Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:30.070Z] Validating nodejs source
[debug] [2023-03-25T16:42:31.098Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:31.098Z] Building nodejs source
[debug] [2023-03-25T16:42:31.098Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:31.099Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:31.103Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:31.255Z] Serving at port 8155

[debug] [2023-03-25T16:42:31.478Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:31.481Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:43.692Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:44.697Z] Validating nodejs source
[debug] [2023-03-25T16:42:45.877Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:45.877Z] Building nodejs source
[debug] [2023-03-25T16:42:45.877Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:45.878Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:45.884Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:45.889Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:46.029Z] Serving at port 8140

[debug] [2023-03-25T16:42:46.249Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:46.252Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:46.899Z] Validating nodejs source
[debug] [2023-03-25T16:42:48.916Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:48.916Z] Building nodejs source
[debug] [2023-03-25T16:42:48.916Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:48.917Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:48.922Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:48.927Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:49.064Z] Serving at port 8073

[debug] [2023-03-25T16:42:49.275Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:49.278Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:50.081Z] Validating nodejs source
[debug] [2023-03-25T16:42:51.019Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:51.020Z] Building nodejs source
[debug] [2023-03-25T16:42:51.020Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:51.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:51.025Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:51.170Z] Serving at port 8447

[debug] [2023-03-25T16:42:51.387Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:42:51.390Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:42:55.089Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:56.101Z] Validating nodejs source
[debug] [2023-03-25T16:42:57.141Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:42:57.141Z] Building nodejs source
[debug] [2023-03-25T16:42:57.141Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:42:57.142Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:42:57.147Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:42:57.286Z] Serving at port 8514

[debug] [2023-03-25T16:42:57.295Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2023-03-25T16:42:57.295Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '}'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '}'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '}'\n                                         ^"}
[debug] [2023-03-25T16:42:57.297Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}'"}}
[debug] [2023-03-25T16:42:58.470Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:42:59.471Z] Validating nodejs source
[debug] [2023-03-25T16:43:00.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:00.344Z] Building nodejs source
[debug] [2023-03-25T16:43:00.344Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:00.345Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:00.349Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:00.496Z] Serving at port 8481

[debug] [2023-03-25T16:43:00.504Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2023-03-25T16:43:00.505Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '}'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '}'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '}'\n                                         ^"}
[debug] [2023-03-25T16:43:00.508Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}'"}}
[debug] [2023-03-25T16:43:10.731Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:11.731Z] Validating nodejs source
[debug] [2023-03-25T16:43:13.182Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:13.183Z] Building nodejs source
[debug] [2023-03-25T16:43:13.183Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:13.183Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:13.188Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:13.333Z] Serving at port 8094

[debug] [2023-03-25T16:43:13.342Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2023-03-25T16:43:13.343Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Missing initializer in const d ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Missing initializer in const d ... \n                                         ^"}
[debug] [2023-03-25T16:43:13.345Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration"}}
[debug] [2023-03-25T16:43:13.434Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:14.441Z] Validating nodejs source
[debug] [2023-03-25T16:43:15.361Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:15.361Z] Building nodejs source
[debug] [2023-03-25T16:43:15.361Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:15.362Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:15.366Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:15.371Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:15.505Z] Serving at port 8023

[debug] [2023-03-25T16:43:15.514Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2023-03-25T16:43:15.514Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Missing initializer in const d ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Missing initializer in const d ... \n                                         ^"}
[debug] [2023-03-25T16:43:15.516Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration"}}
[debug] [2023-03-25T16:43:16.373Z] Validating nodejs source
[debug] [2023-03-25T16:43:17.280Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:17.280Z] Building nodejs source
[debug] [2023-03-25T16:43:17.280Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:17.281Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:17.285Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:17.447Z] Serving at port 8321

[debug] [2023-03-25T16:43:17.456Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2023-03-25T16:43:17.456Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Missing initializer in const d ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Missing initializer in const d ... \n                                         ^"}
[debug] [2023-03-25T16:43:17.458Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration"}}
[debug] [2023-03-25T16:43:19.181Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:20.189Z] Validating nodejs source
[debug] [2023-03-25T16:43:21.562Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:21.563Z] Building nodejs source
[debug] [2023-03-25T16:43:21.563Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:21.564Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:21.568Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:21.714Z] Serving at port 8710

[debug] [2023-03-25T16:43:21.721Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:21.934Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:21.937Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:22.735Z] Validating nodejs source
[debug] [2023-03-25T16:43:23.761Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:23.761Z] Building nodejs source
[debug] [2023-03-25T16:43:23.761Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:23.762Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:23.766Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:23.772Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:23.916Z] Serving at port 8944

[debug] [2023-03-25T16:43:24.124Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:24.127Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:24.778Z] Validating nodejs source
[debug] [2023-03-25T16:43:26.341Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:26.341Z] Building nodejs source
[debug] [2023-03-25T16:43:26.341Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:26.342Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:26.347Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:26.353Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:26.499Z] Serving at port 8786

[debug] [2023-03-25T16:43:26.511Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2023-03-25T16:43:26.511Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '}'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '}'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '}'\n                                         ^"}
[debug] [2023-03-25T16:43:26.513Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}'"}}
[debug] [2023-03-25T16:43:27.354Z] Validating nodejs source
[debug] [2023-03-25T16:43:28.512Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:28.512Z] Building nodejs source
[debug] [2023-03-25T16:43:28.512Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:28.513Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:28.517Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:28.522Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:28.661Z] Serving at port 8871

[debug] [2023-03-25T16:43:28.879Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:28.882Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:29.524Z] Validating nodejs source
[debug] [2023-03-25T16:43:30.421Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:30.421Z] Building nodejs source
[debug] [2023-03-25T16:43:30.421Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:30.422Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:30.426Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:30.437Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:30.576Z] Serving at port 8947

[debug] [2023-03-25T16:43:30.787Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:30.790Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:31.447Z] Validating nodejs source
[debug] [2023-03-25T16:43:32.524Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:32.525Z] Building nodejs source
[debug] [2023-03-25T16:43:32.525Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:32.525Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:32.530Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:32.677Z] Serving at port 8511

[debug] [2023-03-25T16:43:32.886Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:32.889Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:33.787Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:34.793Z] Validating nodejs source
[debug] [2023-03-25T16:43:36.438Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:36.438Z] Building nodejs source
[debug] [2023-03-25T16:43:36.438Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:36.439Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:36.443Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:36.588Z] Serving at port 8015

[debug] [2023-03-25T16:43:36.798Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:36.800Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:39.300Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:40.018Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:41.028Z] Validating nodejs source
[debug] [2023-03-25T16:43:42.243Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:42.243Z] Building nodejs source
[debug] [2023-03-25T16:43:42.243Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:42.244Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:42.248Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:42.389Z] Serving at port 8520

[debug] [2023-03-25T16:43:42.604Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:42.607Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:44.819Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:45.824Z] Validating nodejs source
[debug] [2023-03-25T16:43:47.201Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:47.201Z] Building nodejs source
[debug] [2023-03-25T16:43:47.201Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:47.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:47.208Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:47.353Z] Serving at port 8240

[debug] [2023-03-25T16:43:47.584Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:47.587Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:47.993Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:48.580Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:49.585Z] Validating nodejs source
[debug] [2023-03-25T16:43:51.354Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:51.354Z] Building nodejs source
[debug] [2023-03-25T16:43:51.354Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:51.355Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:51.359Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:51.365Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:51.509Z] Serving at port 8433

[debug] [2023-03-25T16:43:51.743Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:51.746Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:52.375Z] Validating nodejs source
[debug] [2023-03-25T16:43:53.729Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:53.730Z] Building nodejs source
[debug] [2023-03-25T16:43:53.730Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:53.731Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:53.738Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:53.758Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:53.900Z] Serving at port 8824

[debug] [2023-03-25T16:43:54.116Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:43:54.119Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:43:54.171Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:55.173Z] Validating nodejs source
[debug] [2023-03-25T16:43:56.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:43:56.159Z] Building nodejs source
[debug] [2023-03-25T16:43:56.159Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:43:56.160Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:43:56.164Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:43:56.170Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:56.310Z] Serving at port 8193

[debug] [2023-03-25T16:43:56.319Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2023-03-25T16:43:56.319Z] Failed to parse functions.yamlincomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: Unexpected token '}'
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: Unexpected token '}'\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: Unexpected token '}'\n                                         ^"}
[debug] [2023-03-25T16:43:56.320Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:56.322Z] shutdown requested via /__/quitquitquit

[error] !!  functions: Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}' {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load function definition from source: Failed to generate manifest from function source: SyntaxError: Unexpected token '}'"}}
[debug] [2023-03-25T16:43:57.044Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:58.013Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:43:59.022Z] Validating nodejs source
[debug] [2023-03-25T16:44:01.534Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:44:01.534Z] Building nodejs source
[debug] [2023-03-25T16:44:01.534Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:44:01.535Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:44:01.540Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:44:01.545Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:01.680Z] Serving at port 8111

[debug] [2023-03-25T16:44:01.887Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:44:01.890Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:44:02.546Z] Validating nodejs source
[debug] [2023-03-25T16:44:03.700Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:44:03.700Z] Building nodejs source
[debug] [2023-03-25T16:44:03.700Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:44:03.701Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:44:03.705Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:44:03.710Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:03.865Z] Serving at port 8820

[debug] [2023-03-25T16:44:04.054Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:04.078Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:44:04.081Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:44:04.732Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:05.739Z] Validating nodejs source
[debug] [2023-03-25T16:44:07.548Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:44:07.548Z] Building nodejs source
[debug] [2023-03-25T16:44:07.548Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:44:07.549Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:44:07.554Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:44:07.696Z] Serving at port 8886

[debug] [2023-03-25T16:44:07.910Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:44:07.913Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:44:08.006Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:08.456Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:08.666Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:44:09.680Z] Validating nodejs source
[debug] [2023-03-25T16:44:10.619Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:44:10.619Z] Building nodejs source
[debug] [2023-03-25T16:44:10.620Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:44:10.621Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:44:10.625Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:44:10.786Z] Serving at port 8623

[debug] [2023-03-25T16:44:11.001Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:44:11.004Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:07.214Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:08.225Z] Validating nodejs source
[debug] [2023-03-25T16:45:09.388Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:09.388Z] Building nodejs source
[debug] [2023-03-25T16:45:09.388Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:09.389Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:09.394Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:09.537Z] Serving at port 8315

[debug] [2023-03-25T16:45:09.754Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:09.757Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:11.653Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:12.659Z] Validating nodejs source
[debug] [2023-03-25T16:45:13.587Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:13.587Z] Building nodejs source
[debug] [2023-03-25T16:45:13.588Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:13.590Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:13.600Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:13.614Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:13.874Z] Serving at port 8679

[debug] [2023-03-25T16:45:14.210Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:14.215Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:14.622Z] Validating nodejs source
[debug] [2023-03-25T16:45:15.809Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:15.810Z] Building nodejs source
[debug] [2023-03-25T16:45:15.810Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:15.811Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:15.815Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:15.822Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:15.965Z] Serving at port 8624

[debug] [2023-03-25T16:45:16.178Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:16.180Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:16.822Z] Validating nodejs source
[debug] [2023-03-25T16:45:17.914Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:17.914Z] Building nodejs source
[debug] [2023-03-25T16:45:17.914Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:17.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:17.920Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:17.927Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:18.072Z] Serving at port 8892

[debug] [2023-03-25T16:45:18.289Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:18.293Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:18.531Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:19.539Z] Validating nodejs source
[debug] [2023-03-25T16:45:20.395Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:20.395Z] Building nodejs source
[debug] [2023-03-25T16:45:20.395Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:20.396Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:20.400Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:20.406Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:20.546Z] Serving at port 8736

[debug] [2023-03-25T16:45:20.766Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:20.769Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:21.409Z] Validating nodejs source
[debug] [2023-03-25T16:45:22.696Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:22.696Z] Building nodejs source
[debug] [2023-03-25T16:45:22.696Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:22.697Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:22.702Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:22.840Z] Serving at port 8685

[debug] [2023-03-25T16:45:23.051Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:23.054Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:28.767Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:29.782Z] Validating nodejs source
[debug] [2023-03-25T16:45:30.742Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:30.742Z] Building nodejs source
[debug] [2023-03-25T16:45:30.742Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:30.743Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:30.747Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:30.753Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:30.894Z] Serving at port 8896

[debug] [2023-03-25T16:45:31.110Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:31.113Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:31.758Z] Validating nodejs source
[debug] [2023-03-25T16:45:35.233Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:35.234Z] Building nodejs source
[debug] [2023-03-25T16:45:35.234Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:35.234Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:35.239Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:35.379Z] Serving at port 8767

[debug] [2023-03-25T16:45:35.592Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:35.595Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:39.262Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:40.270Z] Validating nodejs source
[debug] [2023-03-25T16:45:42.063Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:42.063Z] Building nodejs source
[debug] [2023-03-25T16:45:42.063Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:42.064Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:42.068Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:42.074Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:42.211Z] Serving at port 8294

[debug] [2023-03-25T16:45:42.431Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:42.433Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:43.078Z] Validating nodejs source
[debug] [2023-03-25T16:45:44.367Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:44.367Z] Building nodejs source
[debug] [2023-03-25T16:45:44.367Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:44.368Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:44.373Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:44.534Z] Serving at port 8934

[debug] [2023-03-25T16:45:44.754Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:44.757Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:51.223Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:52.230Z] Validating nodejs source
[debug] [2023-03-25T16:45:53.077Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:53.077Z] Building nodejs source
[debug] [2023-03-25T16:45:53.078Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:53.079Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:53.083Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:53.231Z] Serving at port 8015

[debug] [2023-03-25T16:45:53.359Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:53.507Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:53.515Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:54.277Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:55.285Z] Validating nodejs source
[debug] [2023-03-25T16:45:56.471Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:56.471Z] Building nodejs source
[debug] [2023-03-25T16:45:56.472Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:56.472Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:56.477Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:56.482Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:45:56.615Z] Serving at port 8972

[debug] [2023-03-25T16:45:56.824Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:56.826Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:57.483Z] Validating nodejs source
[debug] [2023-03-25T16:45:59.102Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:45:59.102Z] Building nodejs source
[debug] [2023-03-25T16:45:59.102Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:45:59.103Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:45:59.107Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:45:59.271Z] Serving at port 8809

[debug] [2023-03-25T16:45:59.483Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:45:59.486Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:45:59.980Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:00.993Z] Validating nodejs source
[debug] [2023-03-25T16:46:01.991Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:01.991Z] Building nodejs source
[debug] [2023-03-25T16:46:01.991Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:01.992Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:01.996Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:02.001Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:02.138Z] Serving at port 8350

[debug] [2023-03-25T16:46:02.351Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:02.353Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:46:03.011Z] Validating nodejs source
[debug] [2023-03-25T16:46:04.197Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:04.197Z] Building nodejs source
[debug] [2023-03-25T16:46:04.197Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:04.198Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:04.202Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:04.351Z] Serving at port 8501

[debug] [2023-03-25T16:46:04.573Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:04.576Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:46:04.803Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:05.811Z] Validating nodejs source
[debug] [2023-03-25T16:46:07.368Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:07.368Z] Building nodejs source
[debug] [2023-03-25T16:46:07.368Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:07.369Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:07.373Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:07.513Z] Serving at port 8001

[debug] [2023-03-25T16:46:07.725Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:07.728Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:46:08.282Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:09.289Z] Validating nodejs source
[debug] [2023-03-25T16:46:11.634Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:11.634Z] Building nodejs source
[debug] [2023-03-25T16:46:11.634Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:11.635Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:11.640Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:11.645Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:11.783Z] Serving at port 8624

[debug] [2023-03-25T16:46:11.990Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:11.992Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:46:12.650Z] Validating nodejs source
[debug] [2023-03-25T16:46:13.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:13.905Z] Building nodejs source
[debug] [2023-03-25T16:46:13.905Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:13.906Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:13.911Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:13.916Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:46:14.078Z] Serving at port 8982

[debug] [2023-03-25T16:46:14.296Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:14.299Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:46:14.930Z] Validating nodejs source
[debug] [2023-03-25T16:46:16.180Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:46:16.180Z] Building nodejs source
[debug] [2023-03-25T16:46:16.180Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:46:16.181Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:46:16.186Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:46:16.331Z] Serving at port 8770

[debug] [2023-03-25T16:46:16.550Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:46:16.552Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:49:09.774Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:49:09.774Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:49:09.774Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:49:09.774Z"],"workRunningCount":1}
[debug] [2023-03-25T16:49:09.774Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:49:09.778Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:49:09.779Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:49:09.779Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:49:09.784Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:49:09.784Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:49:10.697Z] [runtime-status] [17300] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.698Z] [runtime-status] [17300] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.699Z] [runtime-status] [17300] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:49:10.699Z] [runtime-status] [17300] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.852Z] [runtime-status] [17300] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:49:10.852Z] [runtime-status] [17300] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:49:10.852Z] [runtime-status] [17300] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.853Z] [runtime-status] [17300] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.855Z] [runtime-status] [17300] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:49:10.855Z] [runtime-status] [17300] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:49:10.964Z] [runtime-status] [17300] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:49:10.964Z] [runtime-status] [17300] Listening to port: \\?\pipe\fire_emu_45bd376d6a31c95e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17300] Listening to port: \\\\?\\pipe\\fire_emu_45bd376d6a31c95e"}}
[debug] [2023-03-25T16:49:11.008Z] [worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: IDLE"}}
[debug] [2023-03-25T16:49:11.008Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:49:11.009Z] [worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:49:11.021Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:49:11.023Z] [worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: exited"}}
[debug] [2023-03-25T16:49:11.023Z] [worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-77a51b0c-0a8f-433a-93c8-f5fd5334cada]: FINISHED"}}
[debug] [2023-03-25T16:50:27.079Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:27.079Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:27.079Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:27.079Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:27.079Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:27.081Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:27.081Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:27.082Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:27.086Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:27.086Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:27.969Z] [runtime-status] [7092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:27.970Z] [runtime-status] [7092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:27.970Z] [runtime-status] [7092] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:27.971Z] [runtime-status] [7092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:28.135Z] [runtime-status] [7092] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:28.135Z] [runtime-status] [7092] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:28.135Z] [runtime-status] [7092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:28.136Z] [runtime-status] [7092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:28.138Z] [runtime-status] [7092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:28.138Z] [runtime-status] [7092] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:28.232Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:28.232Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:27.079Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:28.233Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:27.079Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:28.232Z"],"workRunningCount":2}
[debug] [2023-03-25T16:50:28.233Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:28.235Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:28.235Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:28.239Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:28.239Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T16:50:28.256Z] [runtime-status] [7092] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:28.256Z] [runtime-status] [7092] Listening to port: \\?\pipe\fire_emu_d89d05e23dc0e15e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7092] Listening to port: \\\\?\\pipe\\fire_emu_d89d05e23dc0e15e"}}
[debug] [2023-03-25T16:50:28.307Z] [worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: IDLE"}}
[debug] [2023-03-25T16:50:28.307Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:28.308Z] [worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:28.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:28.232Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:28.326Z] [worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: exited"}}
[debug] [2023-03-25T16:50:28.327Z] [worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-38cad44d-4c1a-4ef6-9d0f-c35e1bf8e44f]: FINISHED"}}
[debug] [2023-03-25T16:50:29.114Z] [runtime-status] [20476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.115Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.115Z] [runtime-status] [20476] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:29.116Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.277Z] [runtime-status] [20476] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:29.277Z] [runtime-status] [20476] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:29.278Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.279Z] [runtime-status] [20476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.280Z] [runtime-status] [20476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:29.280Z] [runtime-status] [20476] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:29.395Z] [runtime-status] [20476] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:29.396Z] [runtime-status] [20476] Listening to port: \\?\pipe\fire_emu_b6117fab3ca47425 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20476] Listening to port: \\\\?\\pipe\\fire_emu_b6117fab3ca47425"}}
[debug] [2023-03-25T16:50:29.467Z] [worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: IDLE"}}
[debug] [2023-03-25T16:50:29.468Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-03-25T16:50:29.468Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:29.468Z] [worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:29.481Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:29.486Z] [worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: exited"}}
[debug] [2023-03-25T16:50:29.487Z] [worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d47c933b-2af1-4201-96f0-b6f98bf114cd]: FINISHED"}}
[debug] [2023-03-25T16:50:29.562Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:29.562Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:29.562Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:29.562Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:29.562Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:29.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:29.565Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:29.565Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:29.569Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:29.569Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:30.430Z] [runtime-status] [9700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.431Z] [runtime-status] [9700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.431Z] [runtime-status] [9700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:30.432Z] [runtime-status] [9700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.585Z] [runtime-status] [9700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:30.585Z] [runtime-status] [9700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:30.585Z] [runtime-status] [9700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.586Z] [runtime-status] [9700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.588Z] [runtime-status] [9700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:30.588Z] [runtime-status] [9700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:30.710Z] [runtime-status] [9700] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:30.710Z] [runtime-status] [9700] Listening to port: \\?\pipe\fire_emu_e869af7ed7087b9c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9700] Listening to port: \\\\?\\pipe\\fire_emu_e869af7ed7087b9c"}}
[debug] [2023-03-25T16:50:30.801Z] [worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: IDLE"}}
[debug] [2023-03-25T16:50:30.802Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:30.802Z] [worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:30.818Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:30.830Z] [worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: exited"}}
[debug] [2023-03-25T16:50:30.830Z] [worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45c86e08-255b-4225-bda9-8f5f7ae55743]: FINISHED"}}
[debug] [2023-03-25T16:50:45.053Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:45.053Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:45.054Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:45.053Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:45.054Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:45.056Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:45.056Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:45.056Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:45.061Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:45.061Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:45.932Z] [runtime-status] [1212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:45.933Z] [runtime-status] [1212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:45.933Z] [runtime-status] [1212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:45.934Z] [runtime-status] [1212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:46.085Z] [runtime-status] [1212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:46.085Z] [runtime-status] [1212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:46.086Z] [runtime-status] [1212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:46.087Z] [runtime-status] [1212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:46.088Z] [runtime-status] [1212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:46.088Z] [runtime-status] [1212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:46.198Z] [runtime-status] [1212] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:46.198Z] [runtime-status] [1212] Listening to port: \\?\pipe\fire_emu_00b19d5745369ce6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1212] Listening to port: \\\\?\\pipe\\fire_emu_00b19d5745369ce6"}}
[debug] [2023-03-25T16:50:46.281Z] [worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: IDLE"}}
[debug] [2023-03-25T16:50:46.282Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:46.282Z] [worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:46.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:46.298Z] [worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: exited"}}
[debug] [2023-03-25T16:50:46.298Z] [worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9818ea79-552e-4990-9101-9fe822754187]: FINISHED"}}
[debug] [2023-03-25T16:50:49.701Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:49.701Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:49.702Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:49.701Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:49.702Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:49.704Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:49.704Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:49.704Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:49.709Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:49.709Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:50.566Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.567Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.567Z] [runtime-status] [15860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:50.568Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.841Z] [runtime-status] [15860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:50.841Z] [runtime-status] [15860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:50.842Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.846Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.849Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:50.850Z] [runtime-status] [15860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:50.973Z] [runtime-status] [15860] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:50.973Z] [runtime-status] [15860] Listening to port: \\?\pipe\fire_emu_2ed40577846e113a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Listening to port: \\\\?\\pipe\\fire_emu_2ed40577846e113a"}}
[debug] [2023-03-25T16:50:51.023Z] [worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: IDLE"}}
[debug] [2023-03-25T16:50:51.023Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:51.024Z] [worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:51.035Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:51.039Z] [worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: exited"}}
[debug] [2023-03-25T16:50:51.039Z] [worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ffa3caf7-f68e-46ec-86dd-0518e1bbcb04]: FINISHED"}}
[debug] [2023-03-25T16:50:52.447Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:52.447Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:52.447Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:52.447Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:52.447Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:52.450Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:52.450Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:52.450Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:52.456Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:52.457Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:53.324Z] [runtime-status] [9688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.325Z] [runtime-status] [9688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.326Z] [runtime-status] [9688] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:53.326Z] [runtime-status] [9688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.481Z] [runtime-status] [9688] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:53.481Z] [runtime-status] [9688] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:53.482Z] [runtime-status] [9688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.483Z] [runtime-status] [9688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.484Z] [runtime-status] [9688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:53.484Z] [runtime-status] [9688] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:53.593Z] [runtime-status] [9688] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:53.593Z] [runtime-status] [9688] Listening to port: \\?\pipe\fire_emu_f3a69661981ffbad {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9688] Listening to port: \\\\?\\pipe\\fire_emu_f3a69661981ffbad"}}
[debug] [2023-03-25T16:50:53.664Z] [worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: IDLE"}}
[debug] [2023-03-25T16:50:53.664Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:53.664Z] [worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:53.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:53.683Z] [worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: exited"}}
[debug] [2023-03-25T16:50:53.683Z] [worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-28728ad8-2e79-4ffa-8e0d-afa3eadb7472]: FINISHED"}}
[debug] [2023-03-25T16:50:55.338Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:55.337Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:55.338Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:55.337Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:55.339Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:55.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:55.348Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:55.348Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:55.361Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:55.362Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:56.683Z] [runtime-status] [5416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.684Z] [runtime-status] [5416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.684Z] [runtime-status] [5416] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:56.685Z] [runtime-status] [5416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.967Z] [runtime-status] [5416] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:56.967Z] [runtime-status] [5416] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:56.967Z] [runtime-status] [5416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.968Z] [runtime-status] [5416] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.970Z] [runtime-status] [5416] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:56.970Z] [runtime-status] [5416] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:57.189Z] [runtime-status] [5416] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:57.189Z] [runtime-status] [5416] Listening to port: \\?\pipe\fire_emu_f29f8f8b78b6f701 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5416] Listening to port: \\\\?\\pipe\\fire_emu_f29f8f8b78b6f701"}}
[debug] [2023-03-25T16:50:57.243Z] [worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: IDLE"}}
[debug] [2023-03-25T16:50:57.243Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:57.244Z] [worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:57.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:57.260Z] [worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: exited"}}
[debug] [2023-03-25T16:50:57.260Z] [worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ea3f93b-ec65-43b2-8e88-4e5665ede6c2]: FINISHED"}}
[debug] [2023-03-25T16:50:58.149Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:58.149Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:58.149Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:50:58.149Z"],"workRunningCount":1}
[debug] [2023-03-25T16:50:58.149Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:50:58.153Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:50:58.154Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:50:58.154Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:50:58.161Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:50:58.161Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:50:59.066Z] [runtime-status] [20984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.067Z] [runtime-status] [20984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.068Z] [runtime-status] [20984] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:50:59.068Z] [runtime-status] [20984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.225Z] [runtime-status] [20984] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:50:59.226Z] [runtime-status] [20984] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:59.226Z] [runtime-status] [20984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.228Z] [runtime-status] [20984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.230Z] [runtime-status] [20984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:50:59.230Z] [runtime-status] [20984] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:50:59.343Z] [runtime-status] [20984] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:50:59.343Z] [runtime-status] [20984] Listening to port: \\?\pipe\fire_emu_27f79e8a0947e613 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20984] Listening to port: \\\\?\\pipe\\fire_emu_27f79e8a0947e613"}}
[debug] [2023-03-25T16:50:59.374Z] [worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: IDLE"}}
[debug] [2023-03-25T16:50:59.374Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:50:59.374Z] [worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:50:59.387Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:50:59.391Z] [worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: exited"}}
[debug] [2023-03-25T16:50:59.391Z] [worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b63437b1-368c-436f-8faa-41b11c881a64]: FINISHED"}}
[debug] [2023-03-25T16:51:06.128Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:06.128Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:06.128Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:06.128Z"],"workRunningCount":1}
[debug] [2023-03-25T16:51:06.128Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:51:06.130Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:51:06.130Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:51:06.130Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:51:06.135Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:51:06.135Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:51:07.019Z] [runtime-status] [16948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.020Z] [runtime-status] [16948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.021Z] [runtime-status] [16948] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:51:07.021Z] [runtime-status] [16948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.285Z] [runtime-status] [16948] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:51:07.285Z] [runtime-status] [16948] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:07.286Z] [runtime-status] [16948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.287Z] [runtime-status] [16948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.289Z] [runtime-status] [16948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:07.289Z] [runtime-status] [16948] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:07.409Z] [runtime-status] [16948] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:51:07.409Z] [runtime-status] [16948] Listening to port: \\?\pipe\fire_emu_4eb71d69452940d5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16948] Listening to port: \\\\?\\pipe\\fire_emu_4eb71d69452940d5"}}
[debug] [2023-03-25T16:51:07.458Z] [worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: IDLE"}}
[debug] [2023-03-25T16:51:07.458Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:51:07.459Z] [worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:51:07.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:07.487Z] [worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: exited"}}
[debug] [2023-03-25T16:51:07.487Z] [worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18b6cbe3-33d5-4ab9-87d5-b15ed15f7b89]: FINISHED"}}
[debug] [2023-03-25T16:51:08.147Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:08.147Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:08.147Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:08.147Z"],"workRunningCount":1}
[debug] [2023-03-25T16:51:08.147Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:51:08.151Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:51:08.151Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:51:08.151Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:51:08.157Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:51:08.157Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:51:09.034Z] [runtime-status] [4756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.035Z] [runtime-status] [4756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.035Z] [runtime-status] [4756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:51:09.036Z] [runtime-status] [4756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.296Z] [runtime-status] [4756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:51:09.296Z] [runtime-status] [4756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:09.297Z] [runtime-status] [4756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.297Z] [runtime-status] [4756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.299Z] [runtime-status] [4756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:09.299Z] [runtime-status] [4756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:09.414Z] [runtime-status] [4756] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:51:09.414Z] [runtime-status] [4756] Listening to port: \\?\pipe\fire_emu_37026ea44e2c796f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4756] Listening to port: \\\\?\\pipe\\fire_emu_37026ea44e2c796f"}}
[debug] [2023-03-25T16:51:09.471Z] [worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: IDLE"}}
[debug] [2023-03-25T16:51:09.471Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:51:09.472Z] [worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:51:09.484Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:09.486Z] [worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: exited"}}
[debug] [2023-03-25T16:51:09.486Z] [worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c7c30e12-04e0-4cfa-b029-dce39148fc5a]: FINISHED"}}
[debug] [2023-03-25T16:51:11.073Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:11.073Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:11.073Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:11.073Z"],"workRunningCount":1}
[debug] [2023-03-25T16:51:11.073Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:51:11.076Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:51:11.076Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:51:11.076Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:51:11.081Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:51:11.081Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:51:11.967Z] [runtime-status] [7176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:11.968Z] [runtime-status] [7176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:11.968Z] [runtime-status] [7176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:51:11.969Z] [runtime-status] [7176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:12.131Z] [runtime-status] [7176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:51:12.131Z] [runtime-status] [7176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:12.131Z] [runtime-status] [7176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:12.132Z] [runtime-status] [7176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:12.134Z] [runtime-status] [7176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:12.134Z] [runtime-status] [7176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:12.247Z] [runtime-status] [7176] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:51:12.248Z] [runtime-status] [7176] Listening to port: \\?\pipe\fire_emu_189ed254430f3ef8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7176] Listening to port: \\\\?\\pipe\\fire_emu_189ed254430f3ef8"}}
[debug] [2023-03-25T16:51:12.283Z] [worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: IDLE"}}
[debug] [2023-03-25T16:51:12.283Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:51:12.283Z] [worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:51:12.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:12.303Z] [worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: exited"}}
[debug] [2023-03-25T16:51:12.303Z] [worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-50368bcd-1209-4115-b4d9-44dfc611fa04]: FINISHED"}}
[debug] [2023-03-25T16:51:13.159Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:13.159Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:13.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:13.159Z"],"workRunningCount":1}
[debug] [2023-03-25T16:51:13.160Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:51:13.162Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:51:13.163Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:51:13.163Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:51:13.168Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:51:13.168Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:51:14.056Z] [runtime-status] [6896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.057Z] [runtime-status] [6896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.057Z] [runtime-status] [6896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:51:14.058Z] [runtime-status] [6896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.211Z] [runtime-status] [6896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:51:14.211Z] [runtime-status] [6896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:14.212Z] [runtime-status] [6896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.212Z] [runtime-status] [6896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.214Z] [runtime-status] [6896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:14.214Z] [runtime-status] [6896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:14.325Z] [runtime-status] [6896] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:51:14.325Z] [runtime-status] [6896] Listening to port: \\?\pipe\fire_emu_801ab84ed310211b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6896] Listening to port: \\\\?\\pipe\\fire_emu_801ab84ed310211b"}}
[debug] [2023-03-25T16:51:14.376Z] [worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: IDLE"}}
[debug] [2023-03-25T16:51:14.376Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:51:14.377Z] [worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:51:14.390Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:14.391Z] [worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: exited"}}
[debug] [2023-03-25T16:51:14.391Z] [worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-18cdb190-1ce8-4d27-8110-1d57dc1a2c7b]: FINISHED"}}
[debug] [2023-03-25T16:51:16.921Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:16.921Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:16.921Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:51:16.921Z"],"workRunningCount":1}
[debug] [2023-03-25T16:51:16.921Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:51:16.924Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:51:16.924Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:51:16.924Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:51:16.928Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:51:16.928Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:51:17.818Z] [runtime-status] [18808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.819Z] [runtime-status] [18808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.819Z] [runtime-status] [18808] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:51:17.820Z] [runtime-status] [18808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.976Z] [runtime-status] [18808] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:51:17.976Z] [runtime-status] [18808] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:17.976Z] [runtime-status] [18808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.977Z] [runtime-status] [18808] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.979Z] [runtime-status] [18808] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:51:17.979Z] [runtime-status] [18808] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:51:18.089Z] [runtime-status] [18808] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:51:18.089Z] [runtime-status] [18808] Listening to port: \\?\pipe\fire_emu_f7733c22fefca17f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18808] Listening to port: \\\\?\\pipe\\fire_emu_f7733c22fefca17f"}}
[debug] [2023-03-25T16:51:18.118Z] [worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: IDLE"}}
[debug] [2023-03-25T16:51:18.118Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:51:18.118Z] [worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:51:18.130Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:51:18.135Z] [worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: exited"}}
[debug] [2023-03-25T16:51:18.135Z] [worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-26a40474-f0ea-4445-8883-5ecf323f9305]: FINISHED"}}
[debug] [2023-03-25T16:52:31.555Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.555Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:52:31.555Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.555Z"],"workRunningCount":1}
[debug] [2023-03-25T16:52:31.555Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:52:31.558Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:52:31.558Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:52:31.558Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:52:31.563Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:52:31.563Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:52:31.564Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.564Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.555Z"],"workRunningCount":1}
[debug] [2023-03-25T16:52:31.564Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.555Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.564Z"],"workRunningCount":2}
[debug] [2023-03-25T16:52:31.564Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:52:31.567Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:52:31.567Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:52:31.574Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:52:31.574Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T16:52:32.484Z] [runtime-status] [16912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.484Z] [runtime-status] [11464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.485Z] [runtime-status] [16912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.485Z] [runtime-status] [11464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.486Z] [runtime-status] [16912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:52:32.486Z] [runtime-status] [11464] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:52:32.486Z] [runtime-status] [16912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.486Z] [runtime-status] [11464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.648Z] [runtime-status] [11464] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:52:32.648Z] [runtime-status] [16912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:52:32.648Z] [runtime-status] [16912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:52:32.648Z] [runtime-status] [11464] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:52:32.649Z] [runtime-status] [11464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.649Z] [runtime-status] [16912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.650Z] [runtime-status] [11464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.650Z] [runtime-status] [16912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.651Z] [runtime-status] [11464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.651Z] [runtime-status] [11464] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:52:32.652Z] [runtime-status] [16912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:52:32.652Z] [runtime-status] [16912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:52:32.772Z] [runtime-status] [11464] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:52:32.772Z] [runtime-status] [11464] Listening to port: \\?\pipe\fire_emu_75982838fc96c787 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11464] Listening to port: \\\\?\\pipe\\fire_emu_75982838fc96c787"}}
[debug] [2023-03-25T16:52:32.773Z] [runtime-status] [16912] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:52:32.773Z] [runtime-status] [16912] Listening to port: \\?\pipe\fire_emu_1d4facbe6fda2ea4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16912] Listening to port: \\\\?\\pipe\\fire_emu_1d4facbe6fda2ea4"}}
[debug] [2023-03-25T16:52:32.861Z] [worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: IDLE"}}
[debug] [2023-03-25T16:52:32.861Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:52:32.861Z] [worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:52:32.872Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:52:31.564Z"],"workRunningCount":1}
[debug] [2023-03-25T16:52:32.878Z] [worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: exited"}}
[debug] [2023-03-25T16:52:32.878Z] [worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b87c7760-4920-44a5-8f49-3c2181e3d4fc]: FINISHED"}}
[debug] [2023-03-25T16:52:32.879Z] [worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: IDLE"}}
[debug] [2023-03-25T16:52:32.879Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-03-25T16:52:32.879Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:52:32.879Z] [worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:52:32.893Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:52:32.896Z] [worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: exited"}}
[debug] [2023-03-25T16:52:32.896Z] [worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-98a41718-b919-405d-9f6d-982b24640c80]: FINISHED"}}
[debug] [2023-03-25T16:53:31.869Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:53:31.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:53:31.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:53:31.869Z"],"workRunningCount":1}
[debug] [2023-03-25T16:53:31.869Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:53:31.872Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:53:31.872Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:53:31.873Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:53:31.878Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:53:31.879Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:53:32.736Z] [runtime-status] [18892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.737Z] [runtime-status] [18892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.737Z] [runtime-status] [18892] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:53:32.738Z] [runtime-status] [18892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.890Z] [runtime-status] [18892] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:53:32.890Z] [runtime-status] [18892] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:53:32.891Z] [runtime-status] [18892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.891Z] [runtime-status] [18892] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.893Z] [runtime-status] [18892] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:32.893Z] [runtime-status] [18892] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:53:33.002Z] [runtime-status] [18892] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:53:33.002Z] [runtime-status] [18892] Listening to port: \\?\pipe\fire_emu_bccb899162694890 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18892] Listening to port: \\\\?\\pipe\\fire_emu_bccb899162694890"}}
[debug] [2023-03-25T16:53:33.082Z] [worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: IDLE"}}
[debug] [2023-03-25T16:53:33.082Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:53:33.083Z] [worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:53:33.095Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:53:33.101Z] [worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: exited"}}
[debug] [2023-03-25T16:53:33.101Z] [worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b9f45825-63ef-4d42-9d46-c9e2c2ca9395]: FINISHED"}}
[debug] [2023-03-25T16:53:33.443Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:53:33.443Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:53:33.444Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:53:33.443Z"],"workRunningCount":1}
[debug] [2023-03-25T16:53:33.444Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:53:33.447Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:53:33.447Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:53:33.447Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:53:33.451Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:53:33.452Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:53:34.335Z] [runtime-status] [9480] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.336Z] [runtime-status] [9480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.336Z] [runtime-status] [9480] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:53:34.337Z] [runtime-status] [9480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.492Z] [runtime-status] [9480] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:53:34.492Z] [runtime-status] [9480] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:53:34.493Z] [runtime-status] [9480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.494Z] [runtime-status] [9480] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.495Z] [runtime-status] [9480] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:53:34.495Z] [runtime-status] [9480] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:53:34.602Z] [runtime-status] [9480] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:53:34.602Z] [runtime-status] [9480] Listening to port: \\?\pipe\fire_emu_0205860b616e301c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9480] Listening to port: \\\\?\\pipe\\fire_emu_0205860b616e301c"}}
[debug] [2023-03-25T16:53:34.660Z] [worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: IDLE"}}
[debug] [2023-03-25T16:53:34.660Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:53:34.661Z] [worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:53:34.672Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:53:34.676Z] [worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: exited"}}
[debug] [2023-03-25T16:53:34.676Z] [worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b93c8c7-0988-4b28-b503-7c5ee09b355c]: FINISHED"}}
[debug] [2023-03-25T16:57:19.666Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:57:20.673Z] Validating nodejs source
[debug] [2023-03-25T16:57:22.056Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:57:22.056Z] Building nodejs source
[debug] [2023-03-25T16:57:22.056Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:57:22.057Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:57:22.062Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:57:22.218Z] Serving at port 8852

[debug] [2023-03-25T16:57:22.456Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:57:22.459Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T16:57:28.724Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:28.723Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:28.724Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:28.723Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:28.724Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:57:28.727Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:57:28.727Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:57:28.727Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:57:28.732Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:57:28.732Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:57:29.609Z] [runtime-status] [11620] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.610Z] [runtime-status] [11620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.610Z] [runtime-status] [11620] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:57:29.611Z] [runtime-status] [11620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.772Z] [runtime-status] [11620] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:57:29.773Z] [runtime-status] [11620] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:29.773Z] [runtime-status] [11620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.774Z] [runtime-status] [11620] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.775Z] [runtime-status] [11620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:29.776Z] [runtime-status] [11620] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:29.887Z] [runtime-status] [11620] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:57:29.888Z] [runtime-status] [11620] Listening to port: \\?\pipe\fire_emu_c7741f69f7a676d8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11620] Listening to port: \\\\?\\pipe\\fire_emu_c7741f69f7a676d8"}}
[debug] [2023-03-25T16:57:29.944Z] [worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: IDLE"}}
[debug] [2023-03-25T16:57:29.944Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:57:29.944Z] [worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_a6NkM8TiKNenzi?t=1679763448', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_a6NkM8TiKNenzi?t=1679763448',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_a6NkM8TiKNenzi?t=1679763448',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 16:57:28 GMT', {"user":"      date: 'Sat, 25 Mar 2023 16:57:28 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 16:57:28 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5', {"user":"      'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5',\r"}}
[info] >        'original-request': 'req_a6NkM8TiKNenzi', {"user":"      'original-request': 'req_a6NkM8TiKNenzi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_a6NkM8TiKNenzi',\r"}}
[info] >        'request-id': 'req_a6NkM8TiKNenzi', {"user":"      'request-id': 'req_a6NkM8TiKNenzi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_a6NkM8TiKNenzi',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_a6NkM8TiKNenzi' {"user":"    requestId: 'req_a6NkM8TiKNenzi'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_a6NkM8TiKNenzi'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 16:57:28 GMT', {"user":"    date: 'Sat, 25 Mar 2023 16:57:28 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 16:57:28 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5', {"user":"    'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c18c05b2-0b64-4233-be9c-8249586761c5',\r"}}
[info] >      'original-request': 'req_a6NkM8TiKNenzi', {"user":"    'original-request': 'req_a6NkM8TiKNenzi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_a6NkM8TiKNenzi',\r"}}
[info] >      'request-id': 'req_a6NkM8TiKNenzi', {"user":"    'request-id': 'req_a6NkM8TiKNenzi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_a6NkM8TiKNenzi',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_a6NkM8TiKNenzi', {"user":"  requestId: 'req_a6NkM8TiKNenzi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_a6NkM8TiKNenzi',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:57:30.733Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:30.733Z] [worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: exited"}}
[debug] [2023-03-25T16:57:30.733Z] [worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a24e933a-963f-468d-8932-7f5a2a7e14a5]: FINISHED"}}
[debug] [2023-03-25T16:57:31.151Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.151Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:31.151Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.151Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:31.151Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:57:31.155Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:57:31.155Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:57:31.155Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T16:57:31.161Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:57:31.161Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:57:31.162Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.162Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.151Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:31.163Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.151Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.162Z"],"workRunningCount":2}
[debug] [2023-03-25T16:57:31.163Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:57:31.166Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:57:31.167Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:57:31.172Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:57:31.172Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T16:57:32.139Z] [runtime-status] [23436] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.140Z] [runtime-status] [23436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.140Z] [runtime-status] [23436] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:57:32.141Z] [runtime-status] [23436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.142Z] [runtime-status] [5020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.143Z] [runtime-status] [5020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.143Z] [runtime-status] [5020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:57:32.144Z] [runtime-status] [5020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.311Z] [runtime-status] [5020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:57:32.311Z] [runtime-status] [5020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:32.311Z] [runtime-status] [5020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.312Z] [runtime-status] [23436] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:57:32.312Z] [runtime-status] [23436] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:32.312Z] [runtime-status] [23436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.312Z] [runtime-status] [5020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.313Z] [runtime-status] [23436] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.315Z] [runtime-status] [5020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.315Z] [runtime-status] [5020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:32.315Z] [runtime-status] [23436] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:32.316Z] [runtime-status] [23436] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:32.442Z] [runtime-status] [23436] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:57:32.442Z] [runtime-status] [23436] Listening to port: \\?\pipe\fire_emu_c8a7330f2e3d4f7a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23436] Listening to port: \\\\?\\pipe\\fire_emu_c8a7330f2e3d4f7a"}}
[debug] [2023-03-25T16:57:32.443Z] [runtime-status] [5020] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:57:32.443Z] [runtime-status] [5020] Listening to port: \\?\pipe\fire_emu_6a66fb45b9e2c35b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5020] Listening to port: \\\\?\\pipe\\fire_emu_6a66fb45b9e2c35b"}}
[debug] [2023-03-25T16:57:32.487Z] [worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: IDLE"}}
[debug] [2023-03-25T16:57:32.487Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:57:32.487Z] [worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: BUSY"}}
[debug] [2023-03-25T16:57:32.488Z] [worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: IDLE"}}
[debug] [2023-03-25T16:57:32.488Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:57:32.488Z] [worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_ZqJ66zjzwArMLb?t=1679763451', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_ZqJ66zjzwArMLb?t=1679763451',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_ZqJ66zjzwArMLb?t=1679763451',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 16:57:32 GMT', {"user":"      date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22', {"user":"      'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22',\r"}}
[info] >        'original-request': 'req_ZqJ66zjzwArMLb', {"user":"      'original-request': 'req_ZqJ66zjzwArMLb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ZqJ66zjzwArMLb',\r"}}
[info] >        'request-id': 'req_ZqJ66zjzwArMLb', {"user":"      'request-id': 'req_ZqJ66zjzwArMLb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ZqJ66zjzwArMLb',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_ZqJ66zjzwArMLb' {"user":"    requestId: 'req_ZqJ66zjzwArMLb'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ZqJ66zjzwArMLb'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 16:57:32 GMT', {"user":"    date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22', {"user":"    'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '17a9012f-321f-4c8c-9d02-398944f9ec22',\r"}}
[info] >      'original-request': 'req_ZqJ66zjzwArMLb', {"user":"    'original-request': 'req_ZqJ66zjzwArMLb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ZqJ66zjzwArMLb',\r"}}
[info] >      'request-id': 'req_ZqJ66zjzwArMLb', {"user":"    'request-id': 'req_ZqJ66zjzwArMLb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ZqJ66zjzwArMLb',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_ZqJ66zjzwArMLb', {"user":"  requestId: 'req_ZqJ66zjzwArMLb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ZqJ66zjzwArMLb',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:57:33.910Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:31.151Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:33.910Z] [worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: exited"}}
[debug] [2023-03-25T16:57:33.910Z] [worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-45093795-b46e-4b61-9bed-866c2647b79a]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_uljMfudbr3Vrve?t=1679763452', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_uljMfudbr3Vrve?t=1679763452',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_uljMfudbr3Vrve?t=1679763452',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 16:57:32 GMT', {"user":"      date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f', {"user":"      'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f',\r"}}
[info] >        'original-request': 'req_uljMfudbr3Vrve', {"user":"      'original-request': 'req_uljMfudbr3Vrve',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_uljMfudbr3Vrve',\r"}}
[info] >        'request-id': 'req_uljMfudbr3Vrve', {"user":"      'request-id': 'req_uljMfudbr3Vrve',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_uljMfudbr3Vrve',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_uljMfudbr3Vrve' {"user":"    requestId: 'req_uljMfudbr3Vrve'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_uljMfudbr3Vrve'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 16:57:32 GMT', {"user":"    date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 16:57:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f', {"user":"    'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '8eb6bdbf-1e40-484a-a1f4-1bb02fefe15f',\r"}}
[info] >      'original-request': 'req_uljMfudbr3Vrve', {"user":"    'original-request': 'req_uljMfudbr3Vrve',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_uljMfudbr3Vrve',\r"}}
[info] >      'request-id': 'req_uljMfudbr3Vrve', {"user":"    'request-id': 'req_uljMfudbr3Vrve',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_uljMfudbr3Vrve',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_uljMfudbr3Vrve', {"user":"  requestId: 'req_uljMfudbr3Vrve',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_uljMfudbr3Vrve',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:57:33.952Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:33.952Z] [worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: exited"}}
[debug] [2023-03-25T16:57:33.952Z] [worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fd6590d6-d0b3-4390-8885-c6792761ba58]: FINISHED"}}
[debug] [2023-03-25T16:57:43.533Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.533Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:43.533Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.533Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:43.533Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:57:43.537Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:57:43.537Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:57:43.537Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T16:57:43.544Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:57:43.544Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T16:57:43.545Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.545Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.533Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:43.545Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.533Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.545Z"],"workRunningCount":2}
[debug] [2023-03-25T16:57:43.545Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T16:57:43.549Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T16:57:43.549Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T16:57:43.554Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T16:57:43.554Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T16:57:44.445Z] [runtime-status] [15064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.446Z] [runtime-status] [15708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.446Z] [runtime-status] [15064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.447Z] [runtime-status] [15064] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:57:44.447Z] [runtime-status] [15708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.447Z] [runtime-status] [15708] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T16:57:44.447Z] [runtime-status] [15064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.448Z] [runtime-status] [15708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.608Z] [runtime-status] [15064] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:57:44.608Z] [runtime-status] [15708] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T16:57:44.608Z] [runtime-status] [15708] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:44.608Z] [runtime-status] [15064] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:44.609Z] [runtime-status] [15064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.609Z] [runtime-status] [15708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.610Z] [runtime-status] [15064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.610Z] [runtime-status] [15708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.611Z] [runtime-status] [15064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.611Z] [runtime-status] [15708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T16:57:44.611Z] [runtime-status] [15708] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:44.612Z] [runtime-status] [15064] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T16:57:44.724Z] [runtime-status] [15708] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:57:44.724Z] [runtime-status] [15064] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T16:57:44.724Z] [runtime-status] [15064] Listening to port: \\?\pipe\fire_emu_0c8c24b4934aae37 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15064] Listening to port: \\\\?\\pipe\\fire_emu_0c8c24b4934aae37"}}
[debug] [2023-03-25T16:57:44.724Z] [runtime-status] [15708] Listening to port: \\?\pipe\fire_emu_f3ef21735e17d7d0 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15708] Listening to port: \\\\?\\pipe\\fire_emu_f3ef21735e17d7d0"}}
[debug] [2023-03-25T16:57:44.750Z] [worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: IDLE"}}
[debug] [2023-03-25T16:57:44.750Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:57:44.751Z] [worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T16:57:44.759Z] [worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: IDLE"}}
[debug] [2023-03-25T16:57:44.759Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T16:57:44.759Z] [worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_pHWaXRD0JjneyY?t=1679763463', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_pHWaXRD0JjneyY?t=1679763463',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_pHWaXRD0JjneyY?t=1679763463',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 16:57:43 GMT', {"user":"      date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7', {"user":"      'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7',\r"}}
[info] >        'original-request': 'req_pHWaXRD0JjneyY', {"user":"      'original-request': 'req_pHWaXRD0JjneyY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_pHWaXRD0JjneyY',\r"}}
[info] >        'request-id': 'req_pHWaXRD0JjneyY', {"user":"      'request-id': 'req_pHWaXRD0JjneyY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_pHWaXRD0JjneyY',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_pHWaXRD0JjneyY' {"user":"    requestId: 'req_pHWaXRD0JjneyY'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_pHWaXRD0JjneyY'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 16:57:43 GMT', {"user":"    date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7', {"user":"    'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '6dfcf0ca-9654-46b2-98b8-03b0ba1c3fd7',\r"}}
[info] >      'original-request': 'req_pHWaXRD0JjneyY', {"user":"    'original-request': 'req_pHWaXRD0JjneyY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_pHWaXRD0JjneyY',\r"}}
[info] >      'request-id': 'req_pHWaXRD0JjneyY', {"user":"    'request-id': 'req_pHWaXRD0JjneyY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_pHWaXRD0JjneyY',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_pHWaXRD0JjneyY', {"user":"  requestId: 'req_pHWaXRD0JjneyY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_pHWaXRD0JjneyY',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:57:45.664Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T16:57:43.545Z"],"workRunningCount":1}
[debug] [2023-03-25T16:57:45.664Z] [worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: exited"}}
[debug] [2023-03-25T16:57:45.665Z] [worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f8e206d-03d7-47f6-8abd-2f629bab57f2]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_t4comeFdpgvrDd?t=1679763463', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_t4comeFdpgvrDd?t=1679763463',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_t4comeFdpgvrDd?t=1679763463',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 16:57:43 GMT', {"user":"      date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8', {"user":"      'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8',\r"}}
[info] >        'original-request': 'req_t4comeFdpgvrDd', {"user":"      'original-request': 'req_t4comeFdpgvrDd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_t4comeFdpgvrDd',\r"}}
[info] >        'request-id': 'req_t4comeFdpgvrDd', {"user":"      'request-id': 'req_t4comeFdpgvrDd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_t4comeFdpgvrDd',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_t4comeFdpgvrDd' {"user":"    requestId: 'req_t4comeFdpgvrDd'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_t4comeFdpgvrDd'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 16:57:43 GMT', {"user":"    date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 16:57:43 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8', {"user":"    'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '5e0c2745-77b0-42d0-a735-2d566583b8c8',\r"}}
[info] >      'original-request': 'req_t4comeFdpgvrDd', {"user":"    'original-request': 'req_t4comeFdpgvrDd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_t4comeFdpgvrDd',\r"}}
[info] >      'request-id': 'req_t4comeFdpgvrDd', {"user":"    'request-id': 'req_t4comeFdpgvrDd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_t4comeFdpgvrDd',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_t4comeFdpgvrDd', {"user":"  requestId: 'req_t4comeFdpgvrDd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_t4comeFdpgvrDd',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T16:57:45.761Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T16:57:45.761Z] [worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: exited"}}
[debug] [2023-03-25T16:57:45.761Z] [worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c2b1ebf7-a9ce-49e3-b4f9-774489b2872c]: FINISHED"}}
[debug] [2023-03-25T16:58:49.353Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T16:58:50.355Z] Validating nodejs source
[debug] [2023-03-25T16:58:52.553Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T16:58:52.553Z] Building nodejs source
[debug] [2023-03-25T16:58:52.553Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T16:58:52.554Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T16:58:52.559Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T16:58:52.699Z] Serving at port 8377

[debug] [2023-03-25T16:58:52.910Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T16:58:52.913Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T17:00:09.439Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:00:09.439Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:00:09.439Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:00:09.439Z"],"workRunningCount":1}
[debug] [2023-03-25T17:00:09.439Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:00:09.442Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:00:09.442Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:00:09.442Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:00:09.447Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:00:09.447Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:00:10.318Z] [runtime-status] [23172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.319Z] [runtime-status] [23172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.320Z] [runtime-status] [23172] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:00:10.320Z] [runtime-status] [23172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.480Z] [runtime-status] [23172] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:00:10.480Z] [runtime-status] [23172] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:00:10.481Z] [runtime-status] [23172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.482Z] [runtime-status] [23172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.483Z] [runtime-status] [23172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:00:10.483Z] [runtime-status] [23172] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:00:10.595Z] [runtime-status] [23172] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:00:10.595Z] [runtime-status] [23172] Listening to port: \\?\pipe\fire_emu_29f110f18f2e78b4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [23172] Listening to port: \\\\?\\pipe\\fire_emu_29f110f18f2e78b4"}}
[debug] [2023-03-25T17:00:10.644Z] [worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: IDLE"}}
[debug] [2023-03-25T17:00:10.644Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:00:10.644Z] [worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:00:10.654Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:00:10.659Z] [worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: exited"}}
[debug] [2023-03-25T17:00:10.659Z] [worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2f2dd962-f21a-409b-83b5-9126f9caa050]: FINISHED"}}
[debug] [2023-03-25T17:02:42.909Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.909Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:02:42.909Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.909Z"],"workRunningCount":1}
[debug] [2023-03-25T17:02:42.909Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:02:42.913Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:02:42.913Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:02:42.913Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T17:02:42.920Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:02:42.920Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:02:42.921Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.921Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.909Z"],"workRunningCount":1}
[debug] [2023-03-25T17:02:42.921Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.909Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.921Z"],"workRunningCount":2}
[debug] [2023-03-25T17:02:42.921Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:02:42.924Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:02:42.924Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:02:42.930Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:02:42.930Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:02:43.857Z] [runtime-status] [19132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:43.858Z] [runtime-status] [19132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:43.858Z] [runtime-status] [19132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:02:43.859Z] [runtime-status] [19132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:43.862Z] [runtime-status] [16488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:43.863Z] [runtime-status] [16488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:43.864Z] [runtime-status] [16488] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:02:43.864Z] [runtime-status] [16488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.022Z] [runtime-status] [19132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:02:44.023Z] [runtime-status] [19132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:44.023Z] [runtime-status] [19132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.024Z] [runtime-status] [19132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.026Z] [runtime-status] [19132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.027Z] [runtime-status] [19132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:44.029Z] [runtime-status] [16488] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:02:44.029Z] [runtime-status] [16488] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:44.030Z] [runtime-status] [16488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.031Z] [runtime-status] [16488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.033Z] [runtime-status] [16488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:44.033Z] [runtime-status] [16488] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:44.152Z] [runtime-status] [19132] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:02:44.153Z] [runtime-status] [19132] Listening to port: \\?\pipe\fire_emu_e22216a019719124 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19132] Listening to port: \\\\?\\pipe\\fire_emu_e22216a019719124"}}
[debug] [2023-03-25T17:02:44.158Z] [runtime-status] [16488] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:02:44.158Z] [runtime-status] [16488] Listening to port: \\?\pipe\fire_emu_0ff56f27ba11fff4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16488] Listening to port: \\\\?\\pipe\\fire_emu_0ff56f27ba11fff4"}}
[debug] [2023-03-25T17:02:44.239Z] [worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: IDLE"}}
[debug] [2023-03-25T17:02:44.240Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:02:44.240Z] [worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: BUSY"}}
[debug] [2023-03-25T17:02:44.240Z] [worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: IDLE"}}
[debug] [2023-03-25T17:02:44.241Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:02:44.241Z] [worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:02:44.257Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:42.909Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:02:44.257Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:02:44.259Z] [worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: exited"}}
[debug] [2023-03-25T17:02:44.259Z] [worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-34268800-f234-4693-81e7-641856f0bb6d]: FINISHED"}}
[debug] [2023-03-25T17:02:44.259Z] [worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: exited"}}
[debug] [2023-03-25T17:02:44.259Z] [worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b49c3956-a860-41ff-8fe4-1be7f8063b76]: FINISHED"}}
[debug] [2023-03-25T17:02:49.589Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.589Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:02:49.590Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.589Z"],"workRunningCount":1}
[debug] [2023-03-25T17:02:49.590Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:02:49.592Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:02:49.592Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:02:49.592Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:02:49.599Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:02:49.599Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:02:49.601Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.601Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.589Z"],"workRunningCount":1}
[debug] [2023-03-25T17:02:49.601Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.589Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.601Z"],"workRunningCount":2}
[debug] [2023-03-25T17:02:49.601Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:02:49.605Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:02:49.605Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:02:49.611Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:02:49.611Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:02:50.503Z] [runtime-status] [16756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.504Z] [runtime-status] [10044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.504Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.504Z] [runtime-status] [10044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.505Z] [runtime-status] [16756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:02:50.505Z] [runtime-status] [10044] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:02:50.505Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.505Z] [runtime-status] [10044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.666Z] [runtime-status] [10044] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:02:50.666Z] [runtime-status] [10044] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:50.667Z] [runtime-status] [10044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.667Z] [runtime-status] [16756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:02:50.668Z] [runtime-status] [16756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:50.668Z] [runtime-status] [10044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.668Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.669Z] [runtime-status] [16756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.669Z] [runtime-status] [10044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.669Z] [runtime-status] [10044] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:50.670Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:02:50.670Z] [runtime-status] [16756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:02:50.781Z] [runtime-status] [10044] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:02:50.782Z] [runtime-status] [16756] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:02:50.782Z] [runtime-status] [16756] Listening to port: \\?\pipe\fire_emu_4ef11283d7dfabb2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Listening to port: \\\\?\\pipe\\fire_emu_4ef11283d7dfabb2"}}
[debug] [2023-03-25T17:02:50.782Z] [runtime-status] [10044] Listening to port: \\?\pipe\fire_emu_5befd1f0f896ac28 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10044] Listening to port: \\\\?\\pipe\\fire_emu_5befd1f0f896ac28"}}
[debug] [2023-03-25T17:02:50.805Z] [worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: IDLE"}}
[debug] [2023-03-25T17:02:50.805Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:02:50.805Z] [worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: BUSY"}}
[debug] [2023-03-25T17:02:50.806Z] [worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: IDLE"}}
[debug] [2023-03-25T17:02:50.806Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:02:50.806Z] [worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:02:50.822Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:02:49.601Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:02:50.823Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:02:50.823Z] [worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: exited"}}
[debug] [2023-03-25T17:02:50.823Z] [worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-017c2623-246a-4d8b-acbd-dba33aba7a84]: FINISHED"}}
[debug] [2023-03-25T17:02:50.823Z] [worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: exited"}}
[debug] [2023-03-25T17:02:50.823Z] [worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f83e608b-fa46-4471-ba4b-5446ad12e4f7]: FINISHED"}}
[debug] [2023-03-25T17:05:41.622Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T17:05:42.625Z] Validating nodejs source
[debug] [2023-03-25T17:05:44.761Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T17:05:44.761Z] Building nodejs source
[debug] [2023-03-25T17:05:44.761Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T17:05:44.761Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T17:05:44.766Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T17:05:44.911Z] Serving at port 8382

[debug] [2023-03-25T17:05:45.120Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T17:05:45.122Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T17:05:53.373Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.373Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:05:53.374Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.373Z"],"workRunningCount":1}
[debug] [2023-03-25T17:05:53.374Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:05:53.378Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:05:53.378Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:05:53.378Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:05:53.386Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:05:53.386Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:05:53.391Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.391Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.373Z"],"workRunningCount":1}
[debug] [2023-03-25T17:05:53.391Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.373Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.391Z"],"workRunningCount":2}
[debug] [2023-03-25T17:05:53.391Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:05:53.395Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:05:53.395Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:05:53.403Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:05:53.403Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:05:54.384Z] [runtime-status] [16244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.385Z] [runtime-status] [16544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.385Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.386Z] [runtime-status] [16244] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:05:54.386Z] [runtime-status] [16544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.386Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.386Z] [runtime-status] [16544] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:05:54.387Z] [runtime-status] [16544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.543Z] [runtime-status] [16244] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:05:54.543Z] [runtime-status] [16244] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:54.543Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.544Z] [runtime-status] [16544] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:05:54.545Z] [runtime-status] [16544] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:54.545Z] [runtime-status] [16544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.545Z] [runtime-status] [16244] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.546Z] [runtime-status] [16544] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.546Z] [runtime-status] [16244] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.546Z] [runtime-status] [16244] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:54.547Z] [runtime-status] [16544] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:54.547Z] [runtime-status] [16544] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:54.661Z] [runtime-status] [16244] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:05:54.661Z] [runtime-status] [16244] Listening to port: \\?\pipe\fire_emu_1f03aefae00d9a78 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16244] Listening to port: \\\\?\\pipe\\fire_emu_1f03aefae00d9a78"}}
[debug] [2023-03-25T17:05:54.662Z] [runtime-status] [16544] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:05:54.662Z] [runtime-status] [16544] Listening to port: \\?\pipe\fire_emu_f9b56e1a4ed9a01d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16544] Listening to port: \\\\?\\pipe\\fire_emu_f9b56e1a4ed9a01d"}}
[debug] [2023-03-25T17:05:54.719Z] [worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: IDLE"}}
[debug] [2023-03-25T17:05:54.719Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:05:54.720Z] [worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: BUSY"}}
[debug] [2023-03-25T17:05:54.720Z] [worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: IDLE"}}
[debug] [2023-03-25T17:05:54.720Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:05:54.721Z] [worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_xJ5VOQ0q3jv4Rg?t=1679763955', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_xJ5VOQ0q3jv4Rg?t=1679763955',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_xJ5VOQ0q3jv4Rg?t=1679763955',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:05:55 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca', {"user":"      'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca',\r"}}
[info] >        'original-request': 'req_xJ5VOQ0q3jv4Rg', {"user":"      'original-request': 'req_xJ5VOQ0q3jv4Rg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_xJ5VOQ0q3jv4Rg',\r"}}
[info] >        'request-id': 'req_xJ5VOQ0q3jv4Rg', {"user":"      'request-id': 'req_xJ5VOQ0q3jv4Rg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_xJ5VOQ0q3jv4Rg',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_xJ5VOQ0q3jv4Rg' {"user":"    requestId: 'req_xJ5VOQ0q3jv4Rg'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_xJ5VOQ0q3jv4Rg'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:05:55 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca', {"user":"    'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '27e09527-d8a7-42f9-8e90-2f873527d1ca',\r"}}
[info] >      'original-request': 'req_xJ5VOQ0q3jv4Rg', {"user":"    'original-request': 'req_xJ5VOQ0q3jv4Rg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_xJ5VOQ0q3jv4Rg',\r"}}
[info] >      'request-id': 'req_xJ5VOQ0q3jv4Rg', {"user":"    'request-id': 'req_xJ5VOQ0q3jv4Rg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_xJ5VOQ0q3jv4Rg',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_xJ5VOQ0q3jv4Rg', {"user":"  requestId: 'req_xJ5VOQ0q3jv4Rg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_xJ5VOQ0q3jv4Rg',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:05:57.298Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:53.391Z"],"workRunningCount":1}
[debug] [2023-03-25T17:05:57.298Z] [worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: exited"}}
[debug] [2023-03-25T17:05:57.298Z] [worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e1b99952-97af-40d9-86f0-0f4ce8f90d40]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_AqNY7gsrrHTIeL?t=1679763955', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_AqNY7gsrrHTIeL?t=1679763955',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_AqNY7gsrrHTIeL?t=1679763955',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:05:55 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1', {"user":"      'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1',\r"}}
[info] >        'original-request': 'req_AqNY7gsrrHTIeL', {"user":"      'original-request': 'req_AqNY7gsrrHTIeL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_AqNY7gsrrHTIeL',\r"}}
[info] >        'request-id': 'req_AqNY7gsrrHTIeL', {"user":"      'request-id': 'req_AqNY7gsrrHTIeL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_AqNY7gsrrHTIeL',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_AqNY7gsrrHTIeL' {"user":"    requestId: 'req_AqNY7gsrrHTIeL'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_AqNY7gsrrHTIeL'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:05:55 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:05:55 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1', {"user":"    'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9376dd25-1a08-4b69-89ce-2ba63a2390a1',\r"}}
[info] >      'original-request': 'req_AqNY7gsrrHTIeL', {"user":"    'original-request': 'req_AqNY7gsrrHTIeL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_AqNY7gsrrHTIeL',\r"}}
[info] >      'request-id': 'req_AqNY7gsrrHTIeL', {"user":"    'request-id': 'req_AqNY7gsrrHTIeL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_AqNY7gsrrHTIeL',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_AqNY7gsrrHTIeL', {"user":"  requestId: 'req_AqNY7gsrrHTIeL',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_AqNY7gsrrHTIeL',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:05:57.435Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:05:57.435Z] [worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: exited"}}
[debug] [2023-03-25T17:05:57.435Z] [worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a270a706-3949-4440-bbab-475df12a6c01]: FINISHED"}}
[debug] [2023-03-25T17:05:58.805Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.805Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:05:58.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.805Z"],"workRunningCount":1}
[debug] [2023-03-25T17:05:58.806Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:05:58.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:05:58.809Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:05:58.809Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:05:58.814Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:05:58.814Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:05:58.815Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.815Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.805Z"],"workRunningCount":1}
[debug] [2023-03-25T17:05:58.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.805Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.815Z"],"workRunningCount":2}
[debug] [2023-03-25T17:05:58.816Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:05:58.819Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:05:58.819Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:05:58.827Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:05:58.827Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:05:59.734Z] [runtime-status] [17200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.734Z] [runtime-status] [15096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.735Z] [runtime-status] [17200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.735Z] [runtime-status] [15096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.735Z] [runtime-status] [17200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:05:59.735Z] [runtime-status] [15096] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:05:59.736Z] [runtime-status] [17200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.736Z] [runtime-status] [15096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.893Z] [runtime-status] [15096] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:05:59.893Z] [runtime-status] [15096] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:59.894Z] [runtime-status] [17200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:05:59.894Z] [runtime-status] [15096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.894Z] [runtime-status] [17200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:59.894Z] [runtime-status] [17200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.895Z] [runtime-status] [15096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.895Z] [runtime-status] [17200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.896Z] [runtime-status] [15096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.896Z] [runtime-status] [15096] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:05:59.897Z] [runtime-status] [17200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:05:59.897Z] [runtime-status] [17200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:00.021Z] [runtime-status] [17200] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:00.021Z] [runtime-status] [17200] Listening to port: \\?\pipe\fire_emu_6cf84495998e361e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17200] Listening to port: \\\\?\\pipe\\fire_emu_6cf84495998e361e"}}
[debug] [2023-03-25T17:06:00.027Z] [runtime-status] [15096] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:00.027Z] [runtime-status] [15096] Listening to port: \\?\pipe\fire_emu_f936993731cc5fe1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15096] Listening to port: \\\\?\\pipe\\fire_emu_f936993731cc5fe1"}}
[debug] [2023-03-25T17:06:00.034Z] [worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: IDLE"}}
[debug] [2023-03-25T17:06:00.034Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:00.036Z] [worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: BUSY"}}
[debug] [2023-03-25T17:06:00.037Z] [worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: IDLE"}}
[debug] [2023-03-25T17:06:00.037Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:00.038Z] [worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_KfCPaokvs5YHZd?t=1679763958', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_KfCPaokvs5YHZd?t=1679763958',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_KfCPaokvs5YHZd?t=1679763958',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:05:58 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:05:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:05:58 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023', {"user":"      'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023',\r"}}
[info] >        'original-request': 'req_KfCPaokvs5YHZd', {"user":"      'original-request': 'req_KfCPaokvs5YHZd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_KfCPaokvs5YHZd',\r"}}
[info] >        'request-id': 'req_KfCPaokvs5YHZd', {"user":"      'request-id': 'req_KfCPaokvs5YHZd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_KfCPaokvs5YHZd',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_KfCPaokvs5YHZd' {"user":"    requestId: 'req_KfCPaokvs5YHZd'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_KfCPaokvs5YHZd'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:05:58 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:05:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:05:58 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023', {"user":"    'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '10287395-b620-448a-b312-8ee78d2c6023',\r"}}
[info] >      'original-request': 'req_KfCPaokvs5YHZd', {"user":"    'original-request': 'req_KfCPaokvs5YHZd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_KfCPaokvs5YHZd',\r"}}
[info] >      'request-id': 'req_KfCPaokvs5YHZd', {"user":"    'request-id': 'req_KfCPaokvs5YHZd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_KfCPaokvs5YHZd',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_KfCPaokvs5YHZd', {"user":"  requestId: 'req_KfCPaokvs5YHZd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_KfCPaokvs5YHZd',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:00.759Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:05:58.815Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:00.759Z] [worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: exited"}}
[debug] [2023-03-25T17:06:00.759Z] [worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e56b5e71-200a-41d6-b388-a09513229ee1]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_JRUGNr0c0a0uXv?t=1679763958', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_JRUGNr0c0a0uXv?t=1679763958',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_JRUGNr0c0a0uXv?t=1679763958',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:05:59 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:05:59 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:05:59 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352', {"user":"      'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352',\r"}}
[info] >        'original-request': 'req_JRUGNr0c0a0uXv', {"user":"      'original-request': 'req_JRUGNr0c0a0uXv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_JRUGNr0c0a0uXv',\r"}}
[info] >        'request-id': 'req_JRUGNr0c0a0uXv', {"user":"      'request-id': 'req_JRUGNr0c0a0uXv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JRUGNr0c0a0uXv',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_JRUGNr0c0a0uXv' {"user":"    requestId: 'req_JRUGNr0c0a0uXv'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JRUGNr0c0a0uXv'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:05:59 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:05:59 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:05:59 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352', {"user":"    'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '990fb674-4879-46b2-ba07-f5ff4ff69352',\r"}}
[info] >      'original-request': 'req_JRUGNr0c0a0uXv', {"user":"    'original-request': 'req_JRUGNr0c0a0uXv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_JRUGNr0c0a0uXv',\r"}}
[info] >      'request-id': 'req_JRUGNr0c0a0uXv', {"user":"    'request-id': 'req_JRUGNr0c0a0uXv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JRUGNr0c0a0uXv',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_JRUGNr0c0a0uXv', {"user":"  requestId: 'req_JRUGNr0c0a0uXv',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JRUGNr0c0a0uXv',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:00.854Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:06:00.854Z] [worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: exited"}}
[debug] [2023-03-25T17:06:00.854Z] [worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8671e1b1-ba26-41aa-99bd-299e68768bd3]: FINISHED"}}
[debug] [2023-03-25T17:06:34.393Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.393Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:06:34.393Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.393Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:34.393Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:06:34.397Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:06:34.398Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:06:34.398Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:06:34.404Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:06:34.405Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:06:34.406Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.406Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.393Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:34.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.393Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.406Z"],"workRunningCount":2}
[debug] [2023-03-25T17:06:34.406Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:06:34.409Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:06:34.410Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:06:34.415Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:06:34.415Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:06:35.379Z] [runtime-status] [11224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.380Z] [runtime-status] [11224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.380Z] [runtime-status] [11224] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:06:35.381Z] [runtime-status] [11224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.408Z] [runtime-status] [14636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.409Z] [runtime-status] [14636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.409Z] [runtime-status] [14636] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:06:35.410Z] [runtime-status] [14636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.553Z] [runtime-status] [11224] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:06:35.553Z] [runtime-status] [11224] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:35.554Z] [runtime-status] [11224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.555Z] [runtime-status] [11224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.556Z] [runtime-status] [11224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.556Z] [runtime-status] [11224] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:35.592Z] [runtime-status] [14636] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:06:35.592Z] [runtime-status] [14636] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:35.592Z] [runtime-status] [14636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.593Z] [runtime-status] [14636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.595Z] [runtime-status] [14636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:35.595Z] [runtime-status] [14636] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:35.689Z] [runtime-status] [11224] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:35.690Z] [runtime-status] [11224] Listening to port: \\?\pipe\fire_emu_971cc2ab7141db65 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11224] Listening to port: \\\\?\\pipe\\fire_emu_971cc2ab7141db65"}}
[debug] [2023-03-25T17:06:35.721Z] [runtime-status] [14636] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:35.721Z] [runtime-status] [14636] Listening to port: \\?\pipe\fire_emu_e9dc191b3cb83907 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14636] Listening to port: \\\\?\\pipe\\fire_emu_e9dc191b3cb83907"}}
[debug] [2023-03-25T17:06:35.725Z] [worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: IDLE"}}
[debug] [2023-03-25T17:06:35.725Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:35.725Z] [worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: BUSY"}}
[debug] [2023-03-25T17:06:35.726Z] [worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: IDLE"}}
[debug] [2023-03-25T17:06:35.726Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:35.726Z] [worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_4WjsNDnSCtcZwl?t=1679763995', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_4WjsNDnSCtcZwl?t=1679763995',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_4WjsNDnSCtcZwl?t=1679763995',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:06:35 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:06:35 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:06:35 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859', {"user":"      'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859',\r"}}
[info] >        'original-request': 'req_4WjsNDnSCtcZwl', {"user":"      'original-request': 'req_4WjsNDnSCtcZwl',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_4WjsNDnSCtcZwl',\r"}}
[info] >        'request-id': 'req_4WjsNDnSCtcZwl', {"user":"      'request-id': 'req_4WjsNDnSCtcZwl',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_4WjsNDnSCtcZwl',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_4WjsNDnSCtcZwl' {"user":"    requestId: 'req_4WjsNDnSCtcZwl'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_4WjsNDnSCtcZwl'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:06:35 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:06:35 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:06:35 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859', {"user":"    'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e21473e5-7715-4025-9499-aadcf1685859',\r"}}
[info] >      'original-request': 'req_4WjsNDnSCtcZwl', {"user":"    'original-request': 'req_4WjsNDnSCtcZwl',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_4WjsNDnSCtcZwl',\r"}}
[info] >      'request-id': 'req_4WjsNDnSCtcZwl', {"user":"    'request-id': 'req_4WjsNDnSCtcZwl',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_4WjsNDnSCtcZwl',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_4WjsNDnSCtcZwl', {"user":"  requestId: 'req_4WjsNDnSCtcZwl',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_4WjsNDnSCtcZwl',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:37.721Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:34.406Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:37.721Z] [worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: exited"}}
[debug] [2023-03-25T17:06:37.721Z] [worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d7be3565-5075-4e4b-a646-b96d4895a2f6]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_L29WKCiXHFghDU?t=1679763995', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_L29WKCiXHFghDU?t=1679763995',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_L29WKCiXHFghDU?t=1679763995',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:06:36 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:06:36 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:06:36 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de', {"user":"      'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de',\r"}}
[info] >        'original-request': 'req_L29WKCiXHFghDU', {"user":"      'original-request': 'req_L29WKCiXHFghDU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_L29WKCiXHFghDU',\r"}}
[info] >        'request-id': 'req_L29WKCiXHFghDU', {"user":"      'request-id': 'req_L29WKCiXHFghDU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_L29WKCiXHFghDU',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_L29WKCiXHFghDU' {"user":"    requestId: 'req_L29WKCiXHFghDU'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_L29WKCiXHFghDU'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:06:36 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:06:36 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:06:36 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de', {"user":"    'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '7a5df313-7c32-4116-aae6-a2ef2a7cb0de',\r"}}
[info] >      'original-request': 'req_L29WKCiXHFghDU', {"user":"    'original-request': 'req_L29WKCiXHFghDU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_L29WKCiXHFghDU',\r"}}
[info] >      'request-id': 'req_L29WKCiXHFghDU', {"user":"    'request-id': 'req_L29WKCiXHFghDU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_L29WKCiXHFghDU',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_L29WKCiXHFghDU', {"user":"  requestId: 'req_L29WKCiXHFghDU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_L29WKCiXHFghDU',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:37.913Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:06:37.913Z] [worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: exited"}}
[debug] [2023-03-25T17:06:37.913Z] [worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dae2684d-3d79-4c57-95d7-9b5ae6cbf417]: FINISHED"}}
[debug] [2023-03-25T17:06:45.610Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.610Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:06:45.611Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.610Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:45.611Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:06:45.613Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:06:45.613Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:06:45.613Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:06:45.620Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:06:45.620Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:06:45.622Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.622Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.610Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:45.622Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.610Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.622Z"],"workRunningCount":2}
[debug] [2023-03-25T17:06:45.622Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:06:45.626Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:06:45.626Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:06:45.632Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:06:45.632Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:06:46.516Z] [runtime-status] [5984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.516Z] [runtime-status] [20380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.517Z] [runtime-status] [5984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.518Z] [runtime-status] [20380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.518Z] [runtime-status] [5984] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:06:46.518Z] [runtime-status] [20380] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:06:46.518Z] [runtime-status] [5984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.518Z] [runtime-status] [20380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.677Z] [runtime-status] [20380] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:06:46.677Z] [runtime-status] [20380] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:46.678Z] [runtime-status] [20380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.678Z] [runtime-status] [5984] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:06:46.678Z] [runtime-status] [5984] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:46.678Z] [runtime-status] [20380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.679Z] [runtime-status] [5984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.679Z] [runtime-status] [5984] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.680Z] [runtime-status] [20380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.680Z] [runtime-status] [20380] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:46.681Z] [runtime-status] [5984] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:06:46.681Z] [runtime-status] [5984] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:06:46.796Z] [runtime-status] [5984] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:46.796Z] [runtime-status] [5984] Listening to port: \\?\pipe\fire_emu_8a3c4ff3540584a5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [5984] Listening to port: \\\\?\\pipe\\fire_emu_8a3c4ff3540584a5"}}
[debug] [2023-03-25T17:06:46.796Z] [runtime-status] [20380] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:06:46.797Z] [runtime-status] [20380] Listening to port: \\?\pipe\fire_emu_8d53fe67474872d7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20380] Listening to port: \\\\?\\pipe\\fire_emu_8d53fe67474872d7"}}
[debug] [2023-03-25T17:06:46.811Z] [worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: IDLE"}}
[debug] [2023-03-25T17:06:46.811Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:46.811Z] [worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T17:06:46.847Z] [worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: IDLE"}}
[debug] [2023-03-25T17:06:46.847Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:06:46.847Z] [worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_pSXNWBj78NZO5W?t=1679764005', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_pSXNWBj78NZO5W?t=1679764005',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_pSXNWBj78NZO5W?t=1679764005',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:06:45 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9', {"user":"      'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9',\r"}}
[info] >        'original-request': 'req_pSXNWBj78NZO5W', {"user":"      'original-request': 'req_pSXNWBj78NZO5W',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_pSXNWBj78NZO5W',\r"}}
[info] >        'request-id': 'req_pSXNWBj78NZO5W', {"user":"      'request-id': 'req_pSXNWBj78NZO5W',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_pSXNWBj78NZO5W',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_pSXNWBj78NZO5W' {"user":"    requestId: 'req_pSXNWBj78NZO5W'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_pSXNWBj78NZO5W'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:06:45 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9', {"user":"    'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '348e206b-0f01-426e-b32f-09588061efe9',\r"}}
[info] >      'original-request': 'req_pSXNWBj78NZO5W', {"user":"    'original-request': 'req_pSXNWBj78NZO5W',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_pSXNWBj78NZO5W',\r"}}
[info] >      'request-id': 'req_pSXNWBj78NZO5W', {"user":"    'request-id': 'req_pSXNWBj78NZO5W',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_pSXNWBj78NZO5W',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_pSXNWBj78NZO5W', {"user":"  requestId: 'req_pSXNWBj78NZO5W',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_pSXNWBj78NZO5W',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:47.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:06:45.610Z"],"workRunningCount":1}
[debug] [2023-03-25T17:06:47.549Z] [worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: exited"}}
[debug] [2023-03-25T17:06:47.549Z] [worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bacb4c15-981f-46bf-9908-b8b92fa53507]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_a3EgWWPGjaGAkr?t=1679764005', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_a3EgWWPGjaGAkr?t=1679764005',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_a3EgWWPGjaGAkr?t=1679764005',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:06:45 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0', {"user":"      'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0',\r"}}
[info] >        'original-request': 'req_a3EgWWPGjaGAkr', {"user":"      'original-request': 'req_a3EgWWPGjaGAkr',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_a3EgWWPGjaGAkr',\r"}}
[info] >        'request-id': 'req_a3EgWWPGjaGAkr', {"user":"      'request-id': 'req_a3EgWWPGjaGAkr',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_a3EgWWPGjaGAkr',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_a3EgWWPGjaGAkr' {"user":"    requestId: 'req_a3EgWWPGjaGAkr'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_a3EgWWPGjaGAkr'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:06:45 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:06:45 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0', {"user":"    'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '5103a99e-fbb5-4e47-9a65-abf27cdde7b0',\r"}}
[info] >      'original-request': 'req_a3EgWWPGjaGAkr', {"user":"    'original-request': 'req_a3EgWWPGjaGAkr',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_a3EgWWPGjaGAkr',\r"}}
[info] >      'request-id': 'req_a3EgWWPGjaGAkr', {"user":"    'request-id': 'req_a3EgWWPGjaGAkr',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_a3EgWWPGjaGAkr',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_a3EgWWPGjaGAkr', {"user":"  requestId: 'req_a3EgWWPGjaGAkr',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_a3EgWWPGjaGAkr',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:06:47.655Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:06:47.656Z] [worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: exited"}}
[debug] [2023-03-25T17:06:47.656Z] [worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2c4b0259-d5d9-4a1c-8ebd-130b736fbc2f]: FINISHED"}}
[debug] [2023-03-25T17:09:25.700Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:25.700Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:25.700Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:25.700Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:25.700Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:09:25.704Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:09:25.704Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:09:25.704Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:09:25.714Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:09:25.714Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:09:26.590Z] [runtime-status] [1000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.591Z] [runtime-status] [1000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.591Z] [runtime-status] [1000] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:09:26.592Z] [runtime-status] [1000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.745Z] [runtime-status] [1000] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:09:26.745Z] [runtime-status] [1000] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:26.746Z] [runtime-status] [1000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.746Z] [runtime-status] [1000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.748Z] [runtime-status] [1000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:26.748Z] [runtime-status] [1000] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:26.858Z] [runtime-status] [1000] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:09:26.858Z] [runtime-status] [1000] Listening to port: \\?\pipe\fire_emu_8c2d29d6a2b9e8f1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1000] Listening to port: \\\\?\\pipe\\fire_emu_8c2d29d6a2b9e8f1"}}
[debug] [2023-03-25T17:09:26.910Z] [worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: IDLE"}}
[debug] [2023-03-25T17:09:26.910Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:09:26.911Z] [worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_DmRfzYZSwc5AHY?t=1679764165', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_DmRfzYZSwc5AHY?t=1679764165',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_DmRfzYZSwc5AHY?t=1679764165',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:09:25 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:09:25 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:09:25 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6', {"user":"      'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6',\r"}}
[info] >        'original-request': 'req_DmRfzYZSwc5AHY', {"user":"      'original-request': 'req_DmRfzYZSwc5AHY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_DmRfzYZSwc5AHY',\r"}}
[info] >        'request-id': 'req_DmRfzYZSwc5AHY', {"user":"      'request-id': 'req_DmRfzYZSwc5AHY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_DmRfzYZSwc5AHY',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_DmRfzYZSwc5AHY' {"user":"    requestId: 'req_DmRfzYZSwc5AHY'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_DmRfzYZSwc5AHY'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:09:25 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:09:25 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:09:25 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6', {"user":"    'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1d7fb007-bb7f-47c6-965a-78e7745d11d6',\r"}}
[info] >      'original-request': 'req_DmRfzYZSwc5AHY', {"user":"    'original-request': 'req_DmRfzYZSwc5AHY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_DmRfzYZSwc5AHY',\r"}}
[info] >      'request-id': 'req_DmRfzYZSwc5AHY', {"user":"    'request-id': 'req_DmRfzYZSwc5AHY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_DmRfzYZSwc5AHY',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_DmRfzYZSwc5AHY', {"user":"  requestId: 'req_DmRfzYZSwc5AHY',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_DmRfzYZSwc5AHY',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:09:27.715Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:27.715Z] [worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: exited"}}
[debug] [2023-03-25T17:09:27.715Z] [worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8ffc06b8-85cc-4c0a-adc6-fee7733054fb]: FINISHED"}}
[debug] [2023-03-25T17:09:30.558Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.558Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:30.558Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.558Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:30.558Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:09:30.562Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:09:30.562Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:09:30.562Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T17:09:30.567Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:09:30.568Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:09:30.569Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.569Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.558Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:30.569Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.558Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.569Z"],"workRunningCount":2}
[debug] [2023-03-25T17:09:30.569Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:09:30.572Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:09:30.572Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:09:30.579Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:09:30.579Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:09:31.562Z] [runtime-status] [22728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.562Z] [runtime-status] [1352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.562Z] [runtime-status] [22728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.562Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.563Z] [runtime-status] [22728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:09:31.563Z] [runtime-status] [1352] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:09:31.563Z] [runtime-status] [22728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.563Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.731Z] [runtime-status] [22728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:09:31.731Z] [runtime-status] [1352] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:09:31.732Z] [runtime-status] [22728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:31.732Z] [runtime-status] [1352] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:31.732Z] [runtime-status] [22728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.732Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.733Z] [runtime-status] [22728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.733Z] [runtime-status] [1352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.734Z] [runtime-status] [22728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.734Z] [runtime-status] [22728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:31.734Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:31.735Z] [runtime-status] [1352] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:31.853Z] [runtime-status] [22728] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:09:31.853Z] [runtime-status] [1352] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:09:31.853Z] [runtime-status] [1352] Listening to port: \\?\pipe\fire_emu_16792aad92c21660 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Listening to port: \\\\?\\pipe\\fire_emu_16792aad92c21660"}}
[debug] [2023-03-25T17:09:31.853Z] [runtime-status] [22728] Listening to port: \\?\pipe\fire_emu_7aff685a6fc17b67 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22728] Listening to port: \\\\?\\pipe\\fire_emu_7aff685a6fc17b67"}}
[debug] [2023-03-25T17:09:31.889Z] [worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: IDLE"}}
[debug] [2023-03-25T17:09:31.889Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:09:31.889Z] [worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: BUSY"}}
[debug] [2023-03-25T17:09:31.890Z] [worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: IDLE"}}
[debug] [2023-03-25T17:09:31.890Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:09:31.890Z] [worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_E3Tklzvucv09N1?t=1679764172', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_E3Tklzvucv09N1?t=1679764172',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_E3Tklzvucv09N1?t=1679764172',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:09:32 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803', {"user":"      'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803',\r"}}
[info] >        'original-request': 'req_E3Tklzvucv09N1', {"user":"      'original-request': 'req_E3Tklzvucv09N1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_E3Tklzvucv09N1',\r"}}
[info] >        'request-id': 'req_E3Tklzvucv09N1', {"user":"      'request-id': 'req_E3Tklzvucv09N1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_E3Tklzvucv09N1',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_E3Tklzvucv09N1' {"user":"    requestId: 'req_E3Tklzvucv09N1'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_E3Tklzvucv09N1'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:09:32 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803', {"user":"    'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'dcfdd21e-788c-4bca-aec2-c5a82647a803',\r"}}
[info] >      'original-request': 'req_E3Tklzvucv09N1', {"user":"    'original-request': 'req_E3Tklzvucv09N1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_E3Tklzvucv09N1',\r"}}
[info] >      'request-id': 'req_E3Tklzvucv09N1', {"user":"    'request-id': 'req_E3Tklzvucv09N1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_E3Tklzvucv09N1',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_E3Tklzvucv09N1', {"user":"  requestId: 'req_E3Tklzvucv09N1',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_E3Tklzvucv09N1',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:09:34.174Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:30.569Z"],"workRunningCount":1}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_eeHVvytfZCyE7O?t=1679764172', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_eeHVvytfZCyE7O?t=1679764172',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_eeHVvytfZCyE7O?t=1679764172',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:09:32 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204', {"user":"      'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204',\r"}}
[info] >        'original-request': 'req_eeHVvytfZCyE7O', {"user":"      'original-request': 'req_eeHVvytfZCyE7O',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_eeHVvytfZCyE7O',\r"}}
[info] >        'request-id': 'req_eeHVvytfZCyE7O', {"user":"      'request-id': 'req_eeHVvytfZCyE7O',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_eeHVvytfZCyE7O',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_eeHVvytfZCyE7O' {"user":"    requestId: 'req_eeHVvytfZCyE7O'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_eeHVvytfZCyE7O'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:09:32 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:09:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204', {"user":"    'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'c0b44677-a855-4dff-bf5d-924744ab9204',\r"}}
[info] >      'original-request': 'req_eeHVvytfZCyE7O', {"user":"    'original-request': 'req_eeHVvytfZCyE7O',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_eeHVvytfZCyE7O',\r"}}
[info] >      'request-id': 'req_eeHVvytfZCyE7O', {"user":"    'request-id': 'req_eeHVvytfZCyE7O',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_eeHVvytfZCyE7O',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_eeHVvytfZCyE7O', {"user":"  requestId: 'req_eeHVvytfZCyE7O',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_eeHVvytfZCyE7O',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:09:34.198Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:34.198Z] [worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: exited"}}
[debug] [2023-03-25T17:09:34.198Z] [worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-866bc2e4-7c2f-4982-a2a5-a35429aad38f]: FINISHED"}}
[debug] [2023-03-25T17:09:34.198Z] [worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: exited"}}
[debug] [2023-03-25T17:09:34.199Z] [worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e666201-e001-417c-bc71-20970ed2ee20]: FINISHED"}}
[debug] [2023-03-25T17:09:41.866Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.866Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:41.866Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.866Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:41.867Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:09:41.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:09:41.870Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:09:41.870Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:09:41.875Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:09:41.875Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:09:41.876Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.876Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.866Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:41.876Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.866Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.876Z"],"workRunningCount":2}
[debug] [2023-03-25T17:09:41.876Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:09:41.879Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:09:41.879Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:09:41.884Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:09:41.884Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:09:42.788Z] [runtime-status] [18520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.789Z] [runtime-status] [18520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.790Z] [runtime-status] [14712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.790Z] [runtime-status] [18520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:09:42.790Z] [runtime-status] [18520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.791Z] [runtime-status] [14712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.791Z] [runtime-status] [14712] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:09:42.792Z] [runtime-status] [14712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.955Z] [runtime-status] [18520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:09:42.956Z] [runtime-status] [18520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:42.956Z] [runtime-status] [14712] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:09:42.956Z] [runtime-status] [14712] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:42.956Z] [runtime-status] [18520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.956Z] [runtime-status] [14712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.957Z] [runtime-status] [18520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.957Z] [runtime-status] [14712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.958Z] [runtime-status] [18520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.958Z] [runtime-status] [18520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:42.959Z] [runtime-status] [14712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:09:42.959Z] [runtime-status] [14712] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:09:43.075Z] [runtime-status] [14712] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:09:43.076Z] [runtime-status] [14712] Listening to port: \\?\pipe\fire_emu_bce61e14fcbca1a5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14712] Listening to port: \\\\?\\pipe\\fire_emu_bce61e14fcbca1a5"}}
[debug] [2023-03-25T17:09:43.076Z] [runtime-status] [18520] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:09:43.076Z] [runtime-status] [18520] Listening to port: \\?\pipe\fire_emu_49cdedf0d7cd8a8b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18520] Listening to port: \\\\?\\pipe\\fire_emu_49cdedf0d7cd8a8b"}}
[debug] [2023-03-25T17:09:43.079Z] [worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: IDLE"}}
[debug] [2023-03-25T17:09:43.079Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:09:43.080Z] [worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: BUSY"}}
[debug] [2023-03-25T17:09:43.080Z] [worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: IDLE"}}
[debug] [2023-03-25T17:09:43.080Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:09:43.081Z] [worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vzks5XV25KoTGf?t=1679764181', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vzks5XV25KoTGf?t=1679764181',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vzks5XV25KoTGf?t=1679764181',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:09:41 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:09:41 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:09:41 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0', {"user":"      'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0',\r"}}
[info] >        'original-request': 'req_Vzks5XV25KoTGf', {"user":"      'original-request': 'req_Vzks5XV25KoTGf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Vzks5XV25KoTGf',\r"}}
[info] >        'request-id': 'req_Vzks5XV25KoTGf', {"user":"      'request-id': 'req_Vzks5XV25KoTGf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Vzks5XV25KoTGf',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Vzks5XV25KoTGf' {"user":"    requestId: 'req_Vzks5XV25KoTGf'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Vzks5XV25KoTGf'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:09:41 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:09:41 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:09:41 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0', {"user":"    'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '3ef5a867-31e9-47d9-81a6-c47aeda767a0',\r"}}
[info] >      'original-request': 'req_Vzks5XV25KoTGf', {"user":"    'original-request': 'req_Vzks5XV25KoTGf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Vzks5XV25KoTGf',\r"}}
[info] >      'request-id': 'req_Vzks5XV25KoTGf', {"user":"    'request-id': 'req_Vzks5XV25KoTGf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Vzks5XV25KoTGf',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Vzks5XV25KoTGf', {"user":"  requestId: 'req_Vzks5XV25KoTGf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Vzks5XV25KoTGf',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:09:43.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:09:41.876Z"],"workRunningCount":1}
[debug] [2023-03-25T17:09:43.769Z] [worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: exited"}}
[debug] [2023-03-25T17:09:43.769Z] [worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1eb82a81-2a4d-4c6c-88e4-56756c92f9fb]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Y9BHd8DQQ2jtqJ?t=1679764181', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Y9BHd8DQQ2jtqJ?t=1679764181',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Y9BHd8DQQ2jtqJ?t=1679764181',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:09:42 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:09:42 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:09:42 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036', {"user":"      'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036',\r"}}
[info] >        'original-request': 'req_Y9BHd8DQQ2jtqJ', {"user":"      'original-request': 'req_Y9BHd8DQQ2jtqJ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Y9BHd8DQQ2jtqJ',\r"}}
[info] >        'request-id': 'req_Y9BHd8DQQ2jtqJ', {"user":"      'request-id': 'req_Y9BHd8DQQ2jtqJ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Y9BHd8DQQ2jtqJ',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Y9BHd8DQQ2jtqJ' {"user":"    requestId: 'req_Y9BHd8DQQ2jtqJ'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Y9BHd8DQQ2jtqJ'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:09:42 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:09:42 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:09:42 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036', {"user":"    'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'bca9f1e0-ed42-40f2-90b1-3a56a9880036',\r"}}
[info] >      'original-request': 'req_Y9BHd8DQQ2jtqJ', {"user":"    'original-request': 'req_Y9BHd8DQQ2jtqJ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Y9BHd8DQQ2jtqJ',\r"}}
[info] >      'request-id': 'req_Y9BHd8DQQ2jtqJ', {"user":"    'request-id': 'req_Y9BHd8DQQ2jtqJ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Y9BHd8DQQ2jtqJ',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Y9BHd8DQQ2jtqJ', {"user":"  requestId: 'req_Y9BHd8DQQ2jtqJ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Y9BHd8DQQ2jtqJ',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:09:43.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:09:43.835Z] [worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: exited"}}
[debug] [2023-03-25T17:09:43.835Z] [worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0e4bef9b-fa4d-4824-865e-b506ab5a4c5a]: FINISHED"}}
[debug] [2023-03-25T17:10:10.788Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.788Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:10:10.789Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.788Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:10.789Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:10.792Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:10.792Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:10.792Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:10:10.797Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:10.797Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:10:10.798Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.798Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.788Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:10.798Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.788Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.798Z"],"workRunningCount":2}
[debug] [2023-03-25T17:10:10.798Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:10.801Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:10.801Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:10.808Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:10.808Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:10:11.813Z] [runtime-status] [7800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.813Z] [runtime-status] [11080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.814Z] [runtime-status] [7800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.814Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.814Z] [runtime-status] [7800] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:11.815Z] [runtime-status] [11080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:11.815Z] [runtime-status] [7800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.815Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.975Z] [runtime-status] [11080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:11.976Z] [runtime-status] [11080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:11.976Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.977Z] [runtime-status] [7800] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:11.977Z] [runtime-status] [7800] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:11.977Z] [runtime-status] [11080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.978Z] [runtime-status] [7800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.979Z] [runtime-status] [7800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.979Z] [runtime-status] [11080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.979Z] [runtime-status] [11080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:11.980Z] [runtime-status] [7800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:11.980Z] [runtime-status] [7800] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:12.096Z] [runtime-status] [11080] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:12.096Z] [runtime-status] [11080] Listening to port: \\?\pipe\fire_emu_035737ae0fe65eb8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11080] Listening to port: \\\\?\\pipe\\fire_emu_035737ae0fe65eb8"}}
[debug] [2023-03-25T17:10:12.097Z] [runtime-status] [7800] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:12.097Z] [runtime-status] [7800] Listening to port: \\?\pipe\fire_emu_0fc05e178dc41ce5 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7800] Listening to port: \\\\?\\pipe\\fire_emu_0fc05e178dc41ce5"}}
[debug] [2023-03-25T17:10:12.121Z] [worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: IDLE"}}
[debug] [2023-03-25T17:10:12.121Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:12.122Z] [worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: BUSY"}}
[debug] [2023-03-25T17:10:12.122Z] [worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: IDLE"}}
[debug] [2023-03-25T17:10:12.122Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:12.122Z] [worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_i1765OMR9dFDco?t=1679764211', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_i1765OMR9dFDco?t=1679764211',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_i1765OMR9dFDco?t=1679764211',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:11 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e', {"user":"      'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e',\r"}}
[info] >        'original-request': 'req_i1765OMR9dFDco', {"user":"      'original-request': 'req_i1765OMR9dFDco',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_i1765OMR9dFDco',\r"}}
[info] >        'request-id': 'req_i1765OMR9dFDco', {"user":"      'request-id': 'req_i1765OMR9dFDco',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_i1765OMR9dFDco',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_i1765OMR9dFDco' {"user":"    requestId: 'req_i1765OMR9dFDco'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_i1765OMR9dFDco'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:11 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e', {"user":"    'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '8c0d005a-9a69-439b-8393-1b6a2a7f7e9e',\r"}}
[info] >      'original-request': 'req_i1765OMR9dFDco', {"user":"    'original-request': 'req_i1765OMR9dFDco',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_i1765OMR9dFDco',\r"}}
[info] >      'request-id': 'req_i1765OMR9dFDco', {"user":"    'request-id': 'req_i1765OMR9dFDco',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_i1765OMR9dFDco',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_i1765OMR9dFDco', {"user":"  requestId: 'req_i1765OMR9dFDco',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_i1765OMR9dFDco',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:10:13.190Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:10.798Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:13.191Z] [worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: exited"}}
[debug] [2023-03-25T17:10:13.191Z] [worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baba1fe1-d269-40c3-ab76-364b97e588d1]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_cB78aGhAiyjVrC?t=1679764211', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_cB78aGhAiyjVrC?t=1679764211',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_cB78aGhAiyjVrC?t=1679764211',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:11 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6', {"user":"      'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6',\r"}}
[info] >        'original-request': 'req_cB78aGhAiyjVrC', {"user":"      'original-request': 'req_cB78aGhAiyjVrC',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_cB78aGhAiyjVrC',\r"}}
[info] >        'request-id': 'req_cB78aGhAiyjVrC', {"user":"      'request-id': 'req_cB78aGhAiyjVrC',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_cB78aGhAiyjVrC',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_cB78aGhAiyjVrC' {"user":"    requestId: 'req_cB78aGhAiyjVrC'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_cB78aGhAiyjVrC'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:11 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:11 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6', {"user":"    'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '73e76449-4fb8-42c5-88e5-2455df771df6',\r"}}
[info] >      'original-request': 'req_cB78aGhAiyjVrC', {"user":"    'original-request': 'req_cB78aGhAiyjVrC',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_cB78aGhAiyjVrC',\r"}}
[info] >      'request-id': 'req_cB78aGhAiyjVrC', {"user":"    'request-id': 'req_cB78aGhAiyjVrC',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_cB78aGhAiyjVrC',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_cB78aGhAiyjVrC', {"user":"  requestId: 'req_cB78aGhAiyjVrC',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_cB78aGhAiyjVrC',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:10:13.423Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:10:13.423Z] [worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: exited"}}
[debug] [2023-03-25T17:10:13.423Z] [worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6d5f8963-ad25-48d0-b2b2-861493a6190e]: FINISHED"}}
[debug] [2023-03-25T17:10:16.451Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.451Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:10:16.451Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.451Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:16.451Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:16.453Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:16.454Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:16.454Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:10:16.459Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:16.459Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:10:16.460Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.460Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.451Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:16.460Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.451Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.460Z"],"workRunningCount":2}
[debug] [2023-03-25T17:10:16.460Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:16.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:16.464Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:16.470Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:16.470Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:10:17.369Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.370Z] [runtime-status] [9824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.370Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.371Z] [runtime-status] [9824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.371Z] [runtime-status] [15860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:17.371Z] [runtime-status] [9824] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:17.371Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.371Z] [runtime-status] [9824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.529Z] [runtime-status] [15860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:17.530Z] [runtime-status] [9824] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:17.530Z] [runtime-status] [9824] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:17.530Z] [runtime-status] [15860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:17.530Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.530Z] [runtime-status] [9824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.531Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.531Z] [runtime-status] [9824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.533Z] [runtime-status] [9824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.533Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:17.533Z] [runtime-status] [9824] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:17.533Z] [runtime-status] [15860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:17.650Z] [runtime-status] [15860] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:17.651Z] [runtime-status] [9824] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:17.651Z] [runtime-status] [9824] Listening to port: \\?\pipe\fire_emu_f2fdd8b35c18e090 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9824] Listening to port: \\\\?\\pipe\\fire_emu_f2fdd8b35c18e090"}}
[debug] [2023-03-25T17:10:17.651Z] [runtime-status] [15860] Listening to port: \\?\pipe\fire_emu_19a8ca902a807693 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Listening to port: \\\\?\\pipe\\fire_emu_19a8ca902a807693"}}
[debug] [2023-03-25T17:10:17.671Z] [worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: IDLE"}}
[debug] [2023-03-25T17:10:17.671Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:17.671Z] [worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: BUSY"}}
[debug] [2023-03-25T17:10:17.672Z] [worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: IDLE"}}
[debug] [2023-03-25T17:10:17.672Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:17.672Z] [worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_SAtVaacfEendV9?t=1679764216', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_SAtVaacfEendV9?t=1679764216',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_SAtVaacfEendV9?t=1679764216',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:16 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6', {"user":"      'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6',\r"}}
[info] >        'original-request': 'req_SAtVaacfEendV9', {"user":"      'original-request': 'req_SAtVaacfEendV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_SAtVaacfEendV9',\r"}}
[info] >        'request-id': 'req_SAtVaacfEendV9', {"user":"      'request-id': 'req_SAtVaacfEendV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_SAtVaacfEendV9',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_SAtVaacfEendV9' {"user":"    requestId: 'req_SAtVaacfEendV9'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_SAtVaacfEendV9'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:16 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6', {"user":"    'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'ea7554d9-a3c2-49d7-ab76-1ebb565488f6',\r"}}
[info] >      'original-request': 'req_SAtVaacfEendV9', {"user":"    'original-request': 'req_SAtVaacfEendV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_SAtVaacfEendV9',\r"}}
[info] >      'request-id': 'req_SAtVaacfEendV9', {"user":"    'request-id': 'req_SAtVaacfEendV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_SAtVaacfEendV9',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_SAtVaacfEendV9', {"user":"  requestId: 'req_SAtVaacfEendV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_SAtVaacfEendV9',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:10:18.541Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:16.460Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:18.541Z] [worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: exited"}}
[debug] [2023-03-25T17:10:18.541Z] [worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b67a3058-7585-49da-b3f8-9e4c8288b292]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_nyvsuwoBmcqnL3?t=1679764216', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_nyvsuwoBmcqnL3?t=1679764216',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_nyvsuwoBmcqnL3?t=1679764216',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:16 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a', {"user":"      'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a',\r"}}
[info] >        'original-request': 'req_nyvsuwoBmcqnL3', {"user":"      'original-request': 'req_nyvsuwoBmcqnL3',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_nyvsuwoBmcqnL3',\r"}}
[info] >        'request-id': 'req_nyvsuwoBmcqnL3', {"user":"      'request-id': 'req_nyvsuwoBmcqnL3',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_nyvsuwoBmcqnL3',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_nyvsuwoBmcqnL3' {"user":"    requestId: 'req_nyvsuwoBmcqnL3'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_nyvsuwoBmcqnL3'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:16 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:16 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a', {"user":"    'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '168f24fe-d2b6-4dfb-8a5e-67f419856a6a',\r"}}
[info] >      'original-request': 'req_nyvsuwoBmcqnL3', {"user":"    'original-request': 'req_nyvsuwoBmcqnL3',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_nyvsuwoBmcqnL3',\r"}}
[info] >      'request-id': 'req_nyvsuwoBmcqnL3', {"user":"    'request-id': 'req_nyvsuwoBmcqnL3',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_nyvsuwoBmcqnL3',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_nyvsuwoBmcqnL3', {"user":"  requestId: 'req_nyvsuwoBmcqnL3',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_nyvsuwoBmcqnL3',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:10:18.743Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:10:18.743Z] [worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: exited"}}
[debug] [2023-03-25T17:10:18.743Z] [worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3e048fee-6af5-44a7-9736-fe756fb6f416]: FINISHED"}}
[debug] [2023-03-25T17:10:58.115Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.115Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:10:58.115Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.115Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:58.115Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:58.118Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:58.118Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:58.118Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:10:58.122Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:58.122Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:10:58.153Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.153Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.115Z"],"workRunningCount":1}
[debug] [2023-03-25T17:10:58.153Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.115Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.153Z"],"workRunningCount":2}
[debug] [2023-03-25T17:10:58.153Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:10:58.156Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:10:58.156Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:10:58.162Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:10:58.162Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:10:59.011Z] [runtime-status] [17736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.012Z] [runtime-status] [17736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.012Z] [runtime-status] [17736] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:59.013Z] [runtime-status] [17736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.039Z] [runtime-status] [13944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.040Z] [runtime-status] [13944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.040Z] [runtime-status] [13944] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:10:59.041Z] [runtime-status] [13944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.169Z] [runtime-status] [17736] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:59.169Z] [runtime-status] [17736] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:59.169Z] [runtime-status] [17736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.170Z] [runtime-status] [17736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.172Z] [runtime-status] [17736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.172Z] [runtime-status] [17736] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:59.196Z] [runtime-status] [13944] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:10:59.197Z] [runtime-status] [13944] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:59.197Z] [runtime-status] [13944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.198Z] [runtime-status] [13944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.200Z] [runtime-status] [13944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:10:59.200Z] [runtime-status] [13944] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:10:59.286Z] [runtime-status] [17736] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:59.286Z] [runtime-status] [17736] Listening to port: \\?\pipe\fire_emu_25d7ec4cc5810b8e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17736] Listening to port: \\\\?\\pipe\\fire_emu_25d7ec4cc5810b8e"}}
[debug] [2023-03-25T17:10:59.309Z] [runtime-status] [13944] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:10:59.310Z] [runtime-status] [13944] Listening to port: \\?\pipe\fire_emu_f9ecc9cf98766804 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13944] Listening to port: \\\\?\\pipe\\fire_emu_f9ecc9cf98766804"}}
[debug] [2023-03-25T17:10:59.337Z] [worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: IDLE"}}
[debug] [2023-03-25T17:10:59.337Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:59.338Z] [worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T17:10:59.369Z] [worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: IDLE"}}
[debug] [2023-03-25T17:10:59.370Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:10:59.370Z] [worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_xvkRlQTZGcoQrf?t=1679764258', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_xvkRlQTZGcoQrf?t=1679764258',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_xvkRlQTZGcoQrf?t=1679764258',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:58 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114', {"user":"      'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114',\r"}}
[info] >        'original-request': 'req_xvkRlQTZGcoQrf', {"user":"      'original-request': 'req_xvkRlQTZGcoQrf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_xvkRlQTZGcoQrf',\r"}}
[info] >        'request-id': 'req_xvkRlQTZGcoQrf', {"user":"      'request-id': 'req_xvkRlQTZGcoQrf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_xvkRlQTZGcoQrf',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_xvkRlQTZGcoQrf' {"user":"    requestId: 'req_xvkRlQTZGcoQrf'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_xvkRlQTZGcoQrf'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:58 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114', {"user":"    'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '2fd61959-36ea-472c-ad2c-12c1d673a114',\r"}}
[info] >      'original-request': 'req_xvkRlQTZGcoQrf', {"user":"    'original-request': 'req_xvkRlQTZGcoQrf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_xvkRlQTZGcoQrf',\r"}}
[info] >      'request-id': 'req_xvkRlQTZGcoQrf', {"user":"    'request-id': 'req_xvkRlQTZGcoQrf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_xvkRlQTZGcoQrf',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_xvkRlQTZGcoQrf', {"user":"  requestId: 'req_xvkRlQTZGcoQrf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_xvkRlQTZGcoQrf',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:11:00.110Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:10:58.153Z"],"workRunningCount":1}
[debug] [2023-03-25T17:11:00.110Z] [worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: exited"}}
[debug] [2023-03-25T17:11:00.110Z] [worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4dd58a58-0e9a-4806-9238-8d6d949caedb]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_FszoWMyldtDhzg?t=1679764258', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_FszoWMyldtDhzg?t=1679764258',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_FszoWMyldtDhzg?t=1679764258',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:10:58 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510', {"user":"      'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510',\r"}}
[info] >        'original-request': 'req_FszoWMyldtDhzg', {"user":"      'original-request': 'req_FszoWMyldtDhzg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_FszoWMyldtDhzg',\r"}}
[info] >        'request-id': 'req_FszoWMyldtDhzg', {"user":"      'request-id': 'req_FszoWMyldtDhzg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_FszoWMyldtDhzg',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_FszoWMyldtDhzg' {"user":"    requestId: 'req_FszoWMyldtDhzg'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_FszoWMyldtDhzg'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:10:58 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:10:58 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510', {"user":"    'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '80cef6be-858a-4dd1-967e-af02578fc510',\r"}}
[info] >      'original-request': 'req_FszoWMyldtDhzg', {"user":"    'original-request': 'req_FszoWMyldtDhzg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_FszoWMyldtDhzg',\r"}}
[info] >      'request-id': 'req_FszoWMyldtDhzg', {"user":"    'request-id': 'req_FszoWMyldtDhzg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_FszoWMyldtDhzg',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_FszoWMyldtDhzg', {"user":"  requestId: 'req_FszoWMyldtDhzg',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_FszoWMyldtDhzg',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:11:00.168Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:11:00.168Z] [worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: exited"}}
[debug] [2023-03-25T17:11:00.168Z] [worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-53d7c416-68ad-459d-9a38-21192d139c87]: FINISHED"}}
[debug] [2023-03-25T17:13:51.300Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.300Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:13:51.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.300Z"],"workRunningCount":1}
[debug] [2023-03-25T17:13:51.301Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:13:51.304Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:13:51.304Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:13:51.304Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:13:51.310Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:13:51.311Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:13:51.312Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.312Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.300Z"],"workRunningCount":1}
[debug] [2023-03-25T17:13:51.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.300Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.312Z"],"workRunningCount":2}
[debug] [2023-03-25T17:13:51.312Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:13:51.316Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:13:51.317Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:13:51.322Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:13:51.322Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:13:52.303Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.303Z] [runtime-status] [17812] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.303Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.304Z] [runtime-status] [17812] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.304Z] [runtime-status] [15860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:13:52.304Z] [runtime-status] [17812] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:13:52.304Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.305Z] [runtime-status] [17812] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.473Z] [runtime-status] [15860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:13:52.474Z] [runtime-status] [15860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:13:52.474Z] [runtime-status] [17812] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:13:52.474Z] [runtime-status] [17812] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:13:52.474Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.475Z] [runtime-status] [17812] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.475Z] [runtime-status] [15860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.475Z] [runtime-status] [17812] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.476Z] [runtime-status] [15860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.477Z] [runtime-status] [17812] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:13:52.477Z] [runtime-status] [17812] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:13:52.477Z] [runtime-status] [15860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:13:52.594Z] [runtime-status] [17812] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:13:52.594Z] [runtime-status] [15860] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:13:52.594Z] [runtime-status] [15860] Listening to port: \\?\pipe\fire_emu_832c528eb5924070 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [15860] Listening to port: \\\\?\\pipe\\fire_emu_832c528eb5924070"}}
[debug] [2023-03-25T17:13:52.594Z] [runtime-status] [17812] Listening to port: \\?\pipe\fire_emu_02be00c94daa15ac {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17812] Listening to port: \\\\?\\pipe\\fire_emu_02be00c94daa15ac"}}
[debug] [2023-03-25T17:13:52.636Z] [worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: IDLE"}}
[debug] [2023-03-25T17:13:52.636Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:13:52.637Z] [worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: BUSY"}}
[debug] [2023-03-25T17:13:52.637Z] [worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: IDLE"}}
[debug] [2023-03-25T17:13:52.637Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:13:52.638Z] [worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_tsKFY6Jax0th1R?t=1679764434', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_tsKFY6Jax0th1R?t=1679764434',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_tsKFY6Jax0th1R?t=1679764434',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:13:55 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6', {"user":"      'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6',\r"}}
[info] >        'original-request': 'req_tsKFY6Jax0th1R', {"user":"      'original-request': 'req_tsKFY6Jax0th1R',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tsKFY6Jax0th1R',\r"}}
[info] >        'request-id': 'req_tsKFY6Jax0th1R', {"user":"      'request-id': 'req_tsKFY6Jax0th1R',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tsKFY6Jax0th1R',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_tsKFY6Jax0th1R' {"user":"    requestId: 'req_tsKFY6Jax0th1R'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tsKFY6Jax0th1R'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:13:55 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6', {"user":"    'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9e2fb6a7-4b15-44d1-98fa-940374265bf6',\r"}}
[info] >      'original-request': 'req_tsKFY6Jax0th1R', {"user":"    'original-request': 'req_tsKFY6Jax0th1R',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tsKFY6Jax0th1R',\r"}}
[info] >      'request-id': 'req_tsKFY6Jax0th1R', {"user":"    'request-id': 'req_tsKFY6Jax0th1R',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tsKFY6Jax0th1R',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_tsKFY6Jax0th1R', {"user":"  requestId: 'req_tsKFY6Jax0th1R',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tsKFY6Jax0th1R',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:13:56.886Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:13:51.312Z"],"workRunningCount":1}
[debug] [2023-03-25T17:13:56.886Z] [worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: exited"}}
[debug] [2023-03-25T17:13:56.886Z] [worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-51be1687-45a7-4d76-a7fa-7ecf2d08dde2]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_zsAFbSalpRTtIM?t=1679764435', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_zsAFbSalpRTtIM?t=1679764435',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_zsAFbSalpRTtIM?t=1679764435',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:13:55 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a', {"user":"      'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a',\r"}}
[info] >        'original-request': 'req_zsAFbSalpRTtIM', {"user":"      'original-request': 'req_zsAFbSalpRTtIM',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_zsAFbSalpRTtIM',\r"}}
[info] >        'request-id': 'req_zsAFbSalpRTtIM', {"user":"      'request-id': 'req_zsAFbSalpRTtIM',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_zsAFbSalpRTtIM',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_zsAFbSalpRTtIM' {"user":"    requestId: 'req_zsAFbSalpRTtIM'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_zsAFbSalpRTtIM'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:13:55 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:13:55 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a', {"user":"    'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'd3bf56c9-f7df-4287-a719-a0fcafbc0e2a',\r"}}
[info] >      'original-request': 'req_zsAFbSalpRTtIM', {"user":"    'original-request': 'req_zsAFbSalpRTtIM',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_zsAFbSalpRTtIM',\r"}}
[info] >      'request-id': 'req_zsAFbSalpRTtIM', {"user":"    'request-id': 'req_zsAFbSalpRTtIM',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_zsAFbSalpRTtIM',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_zsAFbSalpRTtIM', {"user":"  requestId: 'req_zsAFbSalpRTtIM',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_zsAFbSalpRTtIM',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:13:57.058Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:13:57.058Z] [worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: exited"}}
[debug] [2023-03-25T17:13:57.058Z] [worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-31c3829c-f361-4773-885d-65a529c9f2a7]: FINISHED"}}
[debug] [2023-03-25T17:15:19.702Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.702Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:15:19.702Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.702Z"],"workRunningCount":1}
[debug] [2023-03-25T17:15:19.702Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:15:19.705Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:15:19.705Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:15:19.705Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:15:19.710Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:15:19.710Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:15:19.712Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.712Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.702Z"],"workRunningCount":1}
[debug] [2023-03-25T17:15:19.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.702Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.712Z"],"workRunningCount":2}
[debug] [2023-03-25T17:15:19.712Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100} --> us-central1-api
[debug] [2023-03-25T17:15:19.715Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:15:19.715Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=${getBasketTotal(basket)%20*%20100}, mapping to path=/payments/create?total=${getBasketTotal(basket)%20*%20100}"}}
[debug] [2023-03-25T17:15:19.722Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:15:19.722Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:15:20.611Z] [runtime-status] [2280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.611Z] [runtime-status] [2668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.612Z] [runtime-status] [2668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.612Z] [runtime-status] [2280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.612Z] [runtime-status] [2668] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:15:20.613Z] [runtime-status] [2280] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:15:20.613Z] [runtime-status] [2668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.614Z] [runtime-status] [2280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2280] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2280] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2668] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2668] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.774Z] [runtime-status] [2668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.775Z] [runtime-status] [2280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.775Z] [runtime-status] [2668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.777Z] [runtime-status] [2668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.777Z] [runtime-status] [2280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:15:20.777Z] [runtime-status] [2280] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:15:20.777Z] [runtime-status] [2668] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:15:20.893Z] [runtime-status] [2280] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:15:20.894Z] [runtime-status] [2280] Listening to port: \\?\pipe\fire_emu_5e58abce2bb52dbb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2280] Listening to port: \\\\?\\pipe\\fire_emu_5e58abce2bb52dbb"}}
[debug] [2023-03-25T17:15:20.894Z] [runtime-status] [2668] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:15:20.894Z] [runtime-status] [2668] Listening to port: \\?\pipe\fire_emu_f4b7ff3796966866 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2668] Listening to port: \\\\?\\pipe\\fire_emu_f4b7ff3796966866"}}
[debug] [2023-03-25T17:15:21.000Z] [worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: IDLE"}}
[debug] [2023-03-25T17:15:21.000Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:15:21.001Z] [worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: BUSY"}}
[debug] [2023-03-25T17:15:21.001Z] [worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: IDLE"}}
[debug] [2023-03-25T17:15:21.001Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:15:21.002Z] [worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_trHaoJXqcT7wV9?t=1679764520', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_trHaoJXqcT7wV9?t=1679764520',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_trHaoJXqcT7wV9?t=1679764520',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:15:21 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426', {"user":"      'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426',\r"}}
[info] >        'original-request': 'req_trHaoJXqcT7wV9', {"user":"      'original-request': 'req_trHaoJXqcT7wV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_trHaoJXqcT7wV9',\r"}}
[info] >        'request-id': 'req_trHaoJXqcT7wV9', {"user":"      'request-id': 'req_trHaoJXqcT7wV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_trHaoJXqcT7wV9',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_trHaoJXqcT7wV9' {"user":"    requestId: 'req_trHaoJXqcT7wV9'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_trHaoJXqcT7wV9'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:15:21 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426', {"user":"    'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'adefa405-b6ca-43bf-8a2b-fb946ebd6426',\r"}}
[info] >      'original-request': 'req_trHaoJXqcT7wV9', {"user":"    'original-request': 'req_trHaoJXqcT7wV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_trHaoJXqcT7wV9',\r"}}
[info] >      'request-id': 'req_trHaoJXqcT7wV9', {"user":"    'request-id': 'req_trHaoJXqcT7wV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_trHaoJXqcT7wV9',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_trHaoJXqcT7wV9', {"user":"  requestId: 'req_trHaoJXqcT7wV9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_trHaoJXqcT7wV9',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:15:22.882Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:15:19.702Z"],"workRunningCount":1}
[debug] [2023-03-25T17:15:22.882Z] [worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: exited"}}
[debug] [2023-03-25T17:15:22.882Z] [worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c1fc6e03-d21e-481c-8cb5-b835385c3aa7]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100} {"user":"StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: ${getBasketTotal(basket) * 100}\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: ${getBasketTotal(basket) * 100}', {"user":"    message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: ${getBasketTotal(basket) * 100}',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_JUIaJk96kHcmir?t=1679764521', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_JUIaJk96kHcmir?t=1679764521',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_JUIaJk96kHcmir?t=1679764521',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:15:21 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '365', {"user":"      'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '365',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75', {"user":"      'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75',\r"}}
[info] >        'original-request': 'req_JUIaJk96kHcmir', {"user":"      'original-request': 'req_JUIaJk96kHcmir',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_JUIaJk96kHcmir',\r"}}
[info] >        'request-id': 'req_JUIaJk96kHcmir', {"user":"      'request-id': 'req_JUIaJk96kHcmir',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JUIaJk96kHcmir',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_JUIaJk96kHcmir' {"user":"    requestId: 'req_JUIaJk96kHcmir'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JUIaJk96kHcmir'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:15:21 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:15:21 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '365', {"user":"    'content-length': '365',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '365',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75', {"user":"    'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '3b50b1ca-745f-43a6-a35f-6eda2f9c5a75',\r"}}
[info] >      'original-request': 'req_JUIaJk96kHcmir', {"user":"    'original-request': 'req_JUIaJk96kHcmir',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_JUIaJk96kHcmir',\r"}}
[info] >      'request-id': 'req_JUIaJk96kHcmir', {"user":"    'request-id': 'req_JUIaJk96kHcmir',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JUIaJk96kHcmir',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_JUIaJk96kHcmir', {"user":"  requestId: 'req_JUIaJk96kHcmir',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JUIaJk96kHcmir',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:15:22.982Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:15:22.982Z] [worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: exited"}}
[debug] [2023-03-25T17:15:22.982Z] [worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-54e64c5c-2e42-4900-8967-e374ae33f4b5]: FINISHED"}}
[debug] [2023-03-25T17:19:01.776Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:01.776Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:19:01.776Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:01.776Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:01.776Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=189800 --> us-central1-api
[debug] [2023-03-25T17:19:01.778Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:01.778Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=189800, mapping to path=/payments/create?total=189800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=189800, mapping to path=/payments/create?total=189800"}}
[debug] [2023-03-25T17:19:01.778Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:19:01.782Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:19:01.782Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:19:02.652Z] [runtime-status] [8144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.653Z] [runtime-status] [8144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.654Z] [runtime-status] [8144] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:19:02.654Z] [runtime-status] [8144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.811Z] [runtime-status] [8144] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:19:02.811Z] [runtime-status] [8144] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:02.811Z] [runtime-status] [8144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.812Z] [runtime-status] [8144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.814Z] [runtime-status] [8144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:02.814Z] [runtime-status] [8144] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:02.929Z] [runtime-status] [8144] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:19:02.929Z] [runtime-status] [8144] Listening to port: \\?\pipe\fire_emu_55161ad67cf7b575 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8144] Listening to port: \\\\?\\pipe\\fire_emu_55161ad67cf7b575"}}
[debug] [2023-03-25T17:19:02.980Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE"}}
[debug] [2023-03-25T17:19:02.980Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:02.981Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T17:19:03.776Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:03.776Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:01.776Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:03.776Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:01.776Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:03.776Z"],"workRunningCount":2}
[debug] [2023-03-25T17:19:03.776Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=189800 --> us-central1-api
[debug] [2023-03-25T17:19:03.778Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:03.778Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=189800, mapping to path=/payments/create?total=189800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=189800, mapping to path=/payments/create?total=189800"}}
[debug] [2023-03-25T17:19:03.783Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:19:03.783Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] i  functions: Finished "us-central1-api" in 1231.0966ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1231.0966ms"}}
[debug] [2023-03-25T17:19:04.212Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE"}}
[debug] [2023-03-25T17:19:04.212Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:03.776Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:04.637Z] [runtime-status] [8992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.638Z] [runtime-status] [8992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.639Z] [runtime-status] [8992] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:19:04.639Z] [runtime-status] [8992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.791Z] [runtime-status] [8992] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:19:04.792Z] [runtime-status] [8992] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:04.792Z] [runtime-status] [8992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.793Z] [runtime-status] [8992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.795Z] [runtime-status] [8992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:04.795Z] [runtime-status] [8992] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:04.905Z] [runtime-status] [8992] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:19:04.905Z] [runtime-status] [8992] Listening to port: \\?\pipe\fire_emu_0fa53d5ebecdba64 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8992] Listening to port: \\\\?\\pipe\\fire_emu_0fa53d5ebecdba64"}}
[debug] [2023-03-25T17:19:04.998Z] [worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: IDLE"}}
[debug] [2023-03-25T17:19:04.999Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:04.999Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 576.2345ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 576.2345ms"}}
[debug] [2023-03-25T17:19:05.576Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: IDLE"}}
[debug] [2023-03-25T17:19:05.576Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:19:32.563Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.562Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:19:32.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.562Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:32.563Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:19:32.566Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:32.566Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:19:32.566Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:32.566Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: BUSY"}}
[debug] [2023-03-25T17:19:32.567Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.567Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.562Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:32.567Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.562Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.567Z"],"workRunningCount":2}
[debug] [2023-03-25T17:19:32.567Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:19:32.569Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:32.569Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:19:32.569Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:32.569Z] [worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_6k1Mn8Ue9JbR5V?t=1679764771', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_6k1Mn8Ue9JbR5V?t=1679764771',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_6k1Mn8Ue9JbR5V?t=1679764771',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:19:31 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:19:31 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:19:31 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442', {"user":"      'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442',\r"}}
[info] >        'original-request': 'req_6k1Mn8Ue9JbR5V', {"user":"      'original-request': 'req_6k1Mn8Ue9JbR5V',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_6k1Mn8Ue9JbR5V',\r"}}
[info] >        'request-id': 'req_6k1Mn8Ue9JbR5V', {"user":"      'request-id': 'req_6k1Mn8Ue9JbR5V',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_6k1Mn8Ue9JbR5V',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_6k1Mn8Ue9JbR5V' {"user":"    requestId: 'req_6k1Mn8Ue9JbR5V'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_6k1Mn8Ue9JbR5V'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:19:31 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:19:31 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:19:31 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442', {"user":"    'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '1f30d5b1-1fdb-479b-9187-b675a9d97442',\r"}}
[info] >      'original-request': 'req_6k1Mn8Ue9JbR5V', {"user":"    'original-request': 'req_6k1Mn8Ue9JbR5V',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_6k1Mn8Ue9JbR5V',\r"}}
[info] >      'request-id': 'req_6k1Mn8Ue9JbR5V', {"user":"    'request-id': 'req_6k1Mn8Ue9JbR5V',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_6k1Mn8Ue9JbR5V',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_6k1Mn8Ue9JbR5V', {"user":"  requestId: 'req_6k1Mn8Ue9JbR5V',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_6k1Mn8Ue9JbR5V',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:19:32.983Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:32.567Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:32.983Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: exited"}}
[debug] [2023-03-25T17:19:32.983Z] [worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ccf5e3f0-0b19-490f-92a0-94f4d49357d6]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_AcnIFf8OhcIzSA?t=1679764772', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_AcnIFf8OhcIzSA?t=1679764772',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_AcnIFf8OhcIzSA?t=1679764772',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:19:32 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:19:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:19:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138', {"user":"      'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138',\r"}}
[info] >        'original-request': 'req_AcnIFf8OhcIzSA', {"user":"      'original-request': 'req_AcnIFf8OhcIzSA',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_AcnIFf8OhcIzSA',\r"}}
[info] >        'request-id': 'req_AcnIFf8OhcIzSA', {"user":"      'request-id': 'req_AcnIFf8OhcIzSA',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_AcnIFf8OhcIzSA',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_AcnIFf8OhcIzSA' {"user":"    requestId: 'req_AcnIFf8OhcIzSA'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_AcnIFf8OhcIzSA'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:19:32 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:19:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:19:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138', {"user":"    'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'df7c4883-30de-4bec-93a7-ce007f944138',\r"}}
[info] >      'original-request': 'req_AcnIFf8OhcIzSA', {"user":"    'original-request': 'req_AcnIFf8OhcIzSA',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_AcnIFf8OhcIzSA',\r"}}
[info] >      'request-id': 'req_AcnIFf8OhcIzSA', {"user":"    'request-id': 'req_AcnIFf8OhcIzSA',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_AcnIFf8OhcIzSA',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_AcnIFf8OhcIzSA', {"user":"  requestId: 'req_AcnIFf8OhcIzSA',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_AcnIFf8OhcIzSA',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:19:33.992Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:19:33.992Z] [worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: exited"}}
[debug] [2023-03-25T17:19:33.992Z] [worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ca718f1b-367e-49c5-8fc2-51ed39b8b46b]: FINISHED"}}
[debug] [2023-03-25T17:19:38.946Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.946Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:19:38.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.946Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:38.946Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:19:38.949Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:38.949Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:19:38.949Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:19:38.955Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:19:38.955Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:19:38.956Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.956Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.946Z"],"workRunningCount":1}
[debug] [2023-03-25T17:19:38.956Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.946Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.956Z"],"workRunningCount":2}
[debug] [2023-03-25T17:19:38.956Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:19:38.960Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:19:38.960Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:19:38.966Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:19:38.967Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:19:39.889Z] [runtime-status] [1788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:39.889Z] [runtime-status] [20396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:39.890Z] [runtime-status] [1788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:39.890Z] [runtime-status] [20396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:39.891Z] [runtime-status] [1788] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:19:39.891Z] [runtime-status] [20396] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:19:39.891Z] [runtime-status] [1788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:39.891Z] [runtime-status] [20396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.058Z] [runtime-status] [20396] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:19:40.058Z] [runtime-status] [20396] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:40.059Z] [runtime-status] [1788] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:19:40.059Z] [runtime-status] [20396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.059Z] [runtime-status] [1788] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:40.060Z] [runtime-status] [1788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.060Z] [runtime-status] [20396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.061Z] [runtime-status] [1788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.061Z] [runtime-status] [20396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.062Z] [runtime-status] [20396] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:40.062Z] [runtime-status] [1788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:19:40.062Z] [runtime-status] [1788] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:19:40.188Z] [runtime-status] [20396] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:19:40.188Z] [runtime-status] [20396] Listening to port: \\?\pipe\fire_emu_17bf085f6d6bcaf6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [20396] Listening to port: \\\\?\\pipe\\fire_emu_17bf085f6d6bcaf6"}}
[debug] [2023-03-25T17:19:40.189Z] [runtime-status] [1788] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:19:40.189Z] [runtime-status] [1788] Listening to port: \\?\pipe\fire_emu_99c5625a8b921b81 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1788] Listening to port: \\\\?\\pipe\\fire_emu_99c5625a8b921b81"}}
[debug] [2023-03-25T17:19:40.264Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:19:40.264Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:40.265Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[debug] [2023-03-25T17:19:40.265Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: IDLE"}}
[debug] [2023-03-25T17:19:40.265Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:19:40.265Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 657.6585ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 657.6585ms"}}
[debug] [2023-03-25T17:19:40.924Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: IDLE"}}
[debug] [2023-03-25T17:19:40.924Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:19:38.946Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 861.6876ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 861.6876ms"}}
[debug] [2023-03-25T17:19:41.127Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:19:41.127Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:20:53.777Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:20:53.777Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:20:53.777Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:20:53.777Z"],"workRunningCount":1}
[debug] [2023-03-25T17:20:53.777Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:20:53.780Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:20:53.780Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:20:53.780Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:20:53.781Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 397.9264ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 397.9264ms"}}
[debug] [2023-03-25T17:20:54.179Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:20:54.179Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:20:57.773Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:20:57.773Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:20:57.773Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:20:57.773Z"],"workRunningCount":1}
[debug] [2023-03-25T17:20:57.773Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:20:57.775Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:20:57.775Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:20:57.776Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:20:57.776Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 372.0249ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 372.0249ms"}}
[debug] [2023-03-25T17:20:58.148Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:20:58.149Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:00.779Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:00.779Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:00.779Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:00.779Z"],"workRunningCount":1}
[debug] [2023-03-25T17:21:00.779Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:21:00.782Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:21:00.782Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:21:00.782Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:21:00.782Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 358.109ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 358.109ms"}}
[debug] [2023-03-25T17:21:01.141Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:21:01.141Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:01.774Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:01.774Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:01.775Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:01.774Z"],"workRunningCount":1}
[debug] [2023-03-25T17:21:01.775Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:21:01.777Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:21:01.777Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:21:01.777Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:21:01.777Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 352.7939ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 352.7939ms"}}
[debug] [2023-03-25T17:21:02.131Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:21:02.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:54.778Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:54.778Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:21:54.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:21:54.778Z"],"workRunningCount":1}
[debug] [2023-03-25T17:21:54.778Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:21:54.780Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:21:54.781Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:21:54.781Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:21:54.781Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 465.269ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 465.269ms"}}
[debug] [2023-03-25T17:21:55.247Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: IDLE"}}
[debug] [2023-03-25T17:21:55.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:22:14.752Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.752Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:22:14.752Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.752Z"],"workRunningCount":1}
[debug] [2023-03-25T17:22:14.752Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:22:14.756Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:22:14.756Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:22:14.756Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:22:14.757Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: BUSY"}}
[debug] [2023-03-25T17:22:14.758Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.758Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.752Z"],"workRunningCount":1}
[debug] [2023-03-25T17:22:14.758Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.752Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.758Z"],"workRunningCount":2}
[debug] [2023-03-25T17:22:14.758Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:22:14.760Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:22:14.760Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:22:14.760Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:22:14.761Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_TlIPgf3pW79Gc7?t=1679764933', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_TlIPgf3pW79Gc7?t=1679764933',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_TlIPgf3pW79Gc7?t=1679764933',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:22:13 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:22:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:22:13 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957', {"user":"      'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957',\r"}}
[info] >        'original-request': 'req_TlIPgf3pW79Gc7', {"user":"      'original-request': 'req_TlIPgf3pW79Gc7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_TlIPgf3pW79Gc7',\r"}}
[info] >        'request-id': 'req_TlIPgf3pW79Gc7', {"user":"      'request-id': 'req_TlIPgf3pW79Gc7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_TlIPgf3pW79Gc7',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_TlIPgf3pW79Gc7' {"user":"    requestId: 'req_TlIPgf3pW79Gc7'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_TlIPgf3pW79Gc7'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:22:13 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:22:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:22:13 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957', {"user":"    'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'fbe8e83e-89eb-43d2-88b8-50e72d038957',\r"}}
[info] >      'original-request': 'req_TlIPgf3pW79Gc7', {"user":"    'original-request': 'req_TlIPgf3pW79Gc7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_TlIPgf3pW79Gc7',\r"}}
[info] >      'request-id': 'req_TlIPgf3pW79Gc7', {"user":"    'request-id': 'req_TlIPgf3pW79Gc7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_TlIPgf3pW79Gc7',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_TlIPgf3pW79Gc7', {"user":"  requestId: 'req_TlIPgf3pW79Gc7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_TlIPgf3pW79Gc7',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:22:15.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:14.758Z"],"workRunningCount":1}
[debug] [2023-03-25T17:22:15.261Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: exited"}}
[debug] [2023-03-25T17:22:15.262Z] [worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-844f1119-5673-4e19-b50e-454fdcdfe8aa]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_6DEZtm6ZX5zcPd?t=1679764934', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_6DEZtm6ZX5zcPd?t=1679764934',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_6DEZtm6ZX5zcPd?t=1679764934',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:22:14 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:22:14 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:22:14 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df', {"user":"      'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df',\r"}}
[info] >        'original-request': 'req_6DEZtm6ZX5zcPd', {"user":"      'original-request': 'req_6DEZtm6ZX5zcPd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_6DEZtm6ZX5zcPd',\r"}}
[info] >        'request-id': 'req_6DEZtm6ZX5zcPd', {"user":"      'request-id': 'req_6DEZtm6ZX5zcPd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_6DEZtm6ZX5zcPd',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_6DEZtm6ZX5zcPd' {"user":"    requestId: 'req_6DEZtm6ZX5zcPd'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_6DEZtm6ZX5zcPd'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:22:14 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:22:14 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:22:14 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df', {"user":"    'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '0b574e47-3c58-4561-9022-23d799adc5df',\r"}}
[info] >      'original-request': 'req_6DEZtm6ZX5zcPd', {"user":"    'original-request': 'req_6DEZtm6ZX5zcPd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_6DEZtm6ZX5zcPd',\r"}}
[info] >      'request-id': 'req_6DEZtm6ZX5zcPd', {"user":"    'request-id': 'req_6DEZtm6ZX5zcPd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_6DEZtm6ZX5zcPd',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_6DEZtm6ZX5zcPd', {"user":"  requestId: 'req_6DEZtm6ZX5zcPd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_6DEZtm6ZX5zcPd',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:22:16.573Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:22:16.573Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: exited"}}
[debug] [2023-03-25T17:22:16.573Z] [worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a169e90d-fa83-4d0c-8995-2a6f85527b32]: FINISHED"}}
[debug] [2023-03-25T17:22:19.817Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.817Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:22:19.817Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.817Z"],"workRunningCount":1}
[debug] [2023-03-25T17:22:19.817Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:22:19.820Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:22:19.821Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:22:19.821Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:22:19.829Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:22:19.829Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:22:19.830Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.830Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.817Z"],"workRunningCount":1}
[debug] [2023-03-25T17:22:19.830Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.817Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.830Z"],"workRunningCount":2}
[debug] [2023-03-25T17:22:19.830Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T17:22:19.833Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:22:19.833Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T17:22:19.839Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:22:19.839Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:22:20.757Z] [runtime-status] [6660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.757Z] [runtime-status] [21920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.758Z] [runtime-status] [6660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.758Z] [runtime-status] [21920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.758Z] [runtime-status] [6660] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:22:20.758Z] [runtime-status] [21920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:22:20.759Z] [runtime-status] [6660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.759Z] [runtime-status] [21920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.922Z] [runtime-status] [6660] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:22:20.922Z] [runtime-status] [21920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:22:20.922Z] [runtime-status] [6660] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:22:20.922Z] [runtime-status] [21920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:22:20.923Z] [runtime-status] [6660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.923Z] [runtime-status] [21920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.924Z] [runtime-status] [6660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.924Z] [runtime-status] [21920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.925Z] [runtime-status] [6660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.925Z] [runtime-status] [21920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:22:20.925Z] [runtime-status] [6660] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:22:20.925Z] [runtime-status] [21920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:22:21.042Z] [runtime-status] [6660] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:22:21.042Z] [runtime-status] [21920] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:22:21.042Z] [runtime-status] [21920] Listening to port: \\?\pipe\fire_emu_0459ff9b50c926d1 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21920] Listening to port: \\\\?\\pipe\\fire_emu_0459ff9b50c926d1"}}
[debug] [2023-03-25T17:22:21.042Z] [runtime-status] [6660] Listening to port: \\?\pipe\fire_emu_72c5f08366b04b23 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6660] Listening to port: \\\\?\\pipe\\fire_emu_72c5f08366b04b23"}}
[debug] [2023-03-25T17:22:21.138Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: IDLE"}}
[debug] [2023-03-25T17:22:21.138Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:22:21.139Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: BUSY"}}
[debug] [2023-03-25T17:22:21.139Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: IDLE"}}
[debug] [2023-03-25T17:22:21.139Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:22:21.140Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 2201.5892ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2201.5892ms"}}
[debug] [2023-03-25T17:22:23.341Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: IDLE"}}
[debug] [2023-03-25T17:22:23.341Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:22:19.830Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 2294.5347ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2294.5347ms"}}
[debug] [2023-03-25T17:22:23.435Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: IDLE"}}
[debug] [2023-03-25T17:22:23.435Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:25:53.247Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.247Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:25:53.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.247Z"],"workRunningCount":1}
[debug] [2023-03-25T17:25:53.247Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:25:53.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:25:53.250Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:25:53.250Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:25:53.251Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: BUSY"}}
[debug] [2023-03-25T17:25:53.252Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.251Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.247Z"],"workRunningCount":1}
[debug] [2023-03-25T17:25:53.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.247Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.251Z"],"workRunningCount":2}
[debug] [2023-03-25T17:25:53.252Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:25:53.254Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:25:53.254Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:25:53.255Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:25:53.255Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_CokvDN61tTPW78?t=1679765152', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_CokvDN61tTPW78?t=1679765152',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_CokvDN61tTPW78?t=1679765152',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:25:52 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a', {"user":"      'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a',\r"}}
[info] >        'original-request': 'req_CokvDN61tTPW78', {"user":"      'original-request': 'req_CokvDN61tTPW78',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_CokvDN61tTPW78',\r"}}
[info] >        'request-id': 'req_CokvDN61tTPW78', {"user":"      'request-id': 'req_CokvDN61tTPW78',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_CokvDN61tTPW78',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_CokvDN61tTPW78' {"user":"    requestId: 'req_CokvDN61tTPW78'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_CokvDN61tTPW78'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:25:52 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a', {"user":"    'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '7644d8fc-bf19-48f3-bf7d-ef30bd4e8a1a',\r"}}
[info] >      'original-request': 'req_CokvDN61tTPW78', {"user":"    'original-request': 'req_CokvDN61tTPW78',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_CokvDN61tTPW78',\r"}}
[info] >      'request-id': 'req_CokvDN61tTPW78', {"user":"    'request-id': 'req_CokvDN61tTPW78',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_CokvDN61tTPW78',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_CokvDN61tTPW78', {"user":"  requestId: 'req_CokvDN61tTPW78',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_CokvDN61tTPW78',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:25:54.102Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:25:53.251Z"],"workRunningCount":1}
[debug] [2023-03-25T17:25:54.102Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: exited"}}
[debug] [2023-03-25T17:25:54.102Z] [worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58e21a2d-0288-4c3e-a2d1-3aea3ab7c438]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_NXYHEjgPWQ83iS?t=1679765152', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_NXYHEjgPWQ83iS?t=1679765152',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_NXYHEjgPWQ83iS?t=1679765152',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:25:52 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4', {"user":"      'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4',\r"}}
[info] >        'original-request': 'req_NXYHEjgPWQ83iS', {"user":"      'original-request': 'req_NXYHEjgPWQ83iS',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_NXYHEjgPWQ83iS',\r"}}
[info] >        'request-id': 'req_NXYHEjgPWQ83iS', {"user":"      'request-id': 'req_NXYHEjgPWQ83iS',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_NXYHEjgPWQ83iS',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_NXYHEjgPWQ83iS' {"user":"    requestId: 'req_NXYHEjgPWQ83iS'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_NXYHEjgPWQ83iS'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:25:52 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:25:52 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4', {"user":"    'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '71b61786-5ed5-4b15-8d10-7b020cd988b4',\r"}}
[info] >      'original-request': 'req_NXYHEjgPWQ83iS', {"user":"    'original-request': 'req_NXYHEjgPWQ83iS',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_NXYHEjgPWQ83iS',\r"}}
[info] >      'request-id': 'req_NXYHEjgPWQ83iS', {"user":"    'request-id': 'req_NXYHEjgPWQ83iS',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_NXYHEjgPWQ83iS',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_NXYHEjgPWQ83iS', {"user":"  requestId: 'req_NXYHEjgPWQ83iS',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_NXYHEjgPWQ83iS',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:25:54.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:25:54.247Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: exited"}}
[debug] [2023-03-25T17:25:54.247Z] [worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-141630cc-07cb-489e-8949-6f2860255e26]: FINISHED"}}
[debug] [2023-03-25T17:26:01.963Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.963Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:26:01.963Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.963Z"],"workRunningCount":1}
[debug] [2023-03-25T17:26:01.963Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:26:01.966Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:26:01.966Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:26:01.966Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:26:01.972Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:26:01.973Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:26:01.974Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.974Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.963Z"],"workRunningCount":1}
[debug] [2023-03-25T17:26:01.974Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.963Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.974Z"],"workRunningCount":2}
[debug] [2023-03-25T17:26:01.974Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:26:01.977Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:26:01.978Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:26:01.984Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:26:01.984Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:26:02.973Z] [runtime-status] [21332] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:02.974Z] [runtime-status] [21404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:02.974Z] [runtime-status] [21332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:02.975Z] [runtime-status] [21332] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:26:02.975Z] [runtime-status] [21404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:02.975Z] [runtime-status] [21404] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:26:02.975Z] [runtime-status] [21332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:02.976Z] [runtime-status] [21404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.150Z] [runtime-status] [21404] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:26:03.150Z] [runtime-status] [21332] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:26:03.150Z] [runtime-status] [21332] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:26:03.151Z] [runtime-status] [21404] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:26:03.151Z] [runtime-status] [21404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.151Z] [runtime-status] [21332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.152Z] [runtime-status] [21404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.152Z] [runtime-status] [21332] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.154Z] [runtime-status] [21332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.154Z] [runtime-status] [21332] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:26:03.154Z] [runtime-status] [21404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:26:03.154Z] [runtime-status] [21404] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:26:03.281Z] [runtime-status] [21332] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:26:03.281Z] [runtime-status] [21332] Listening to port: \\?\pipe\fire_emu_23580953dd32c531 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21332] Listening to port: \\\\?\\pipe\\fire_emu_23580953dd32c531"}}
[debug] [2023-03-25T17:26:03.282Z] [runtime-status] [21404] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:26:03.282Z] [runtime-status] [21404] Listening to port: \\?\pipe\fire_emu_2dfc6e9cfddf1ba9 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21404] Listening to port: \\\\?\\pipe\\fire_emu_2dfc6e9cfddf1ba9"}}
[debug] [2023-03-25T17:26:03.303Z] [worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: IDLE"}}
[debug] [2023-03-25T17:26:03.303Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:26:03.304Z] [worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T17:26:03.349Z] [worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: IDLE"}}
[debug] [2023-03-25T17:26:03.349Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:26:03.350Z] [worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_YunGn5Hp9MXvGy?t=1679765161', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_YunGn5Hp9MXvGy?t=1679765161',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_YunGn5Hp9MXvGy?t=1679765161',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:26:02 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7', {"user":"      'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7',\r"}}
[info] >        'original-request': 'req_YunGn5Hp9MXvGy', {"user":"      'original-request': 'req_YunGn5Hp9MXvGy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_YunGn5Hp9MXvGy',\r"}}
[info] >        'request-id': 'req_YunGn5Hp9MXvGy', {"user":"      'request-id': 'req_YunGn5Hp9MXvGy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_YunGn5Hp9MXvGy',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_YunGn5Hp9MXvGy' {"user":"    requestId: 'req_YunGn5Hp9MXvGy'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_YunGn5Hp9MXvGy'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:26:02 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7', {"user":"    'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '7a969e3d-c119-4644-9464-0d74b3b795e7',\r"}}
[info] >      'original-request': 'req_YunGn5Hp9MXvGy', {"user":"    'original-request': 'req_YunGn5Hp9MXvGy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_YunGn5Hp9MXvGy',\r"}}
[info] >      'request-id': 'req_YunGn5Hp9MXvGy', {"user":"    'request-id': 'req_YunGn5Hp9MXvGy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_YunGn5Hp9MXvGy',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_YunGn5Hp9MXvGy', {"user":"  requestId: 'req_YunGn5Hp9MXvGy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_YunGn5Hp9MXvGy',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:26:03.848Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:26:01.963Z"],"workRunningCount":1}
[debug] [2023-03-25T17:26:03.848Z] [worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: exited"}}
[debug] [2023-03-25T17:26:03.848Z] [worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aac41f17-bc29-4857-82cb-4bc0bb7a41df]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Ogp68i1PuUXHit?t=1679765161', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Ogp68i1PuUXHit?t=1679765161',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Ogp68i1PuUXHit?t=1679765161',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:26:02 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398', {"user":"      'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398',\r"}}
[info] >        'original-request': 'req_Ogp68i1PuUXHit', {"user":"      'original-request': 'req_Ogp68i1PuUXHit',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Ogp68i1PuUXHit',\r"}}
[info] >        'request-id': 'req_Ogp68i1PuUXHit', {"user":"      'request-id': 'req_Ogp68i1PuUXHit',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Ogp68i1PuUXHit',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Ogp68i1PuUXHit' {"user":"    requestId: 'req_Ogp68i1PuUXHit'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Ogp68i1PuUXHit'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:26:02 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:26:02 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398', {"user":"    'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '97d8dbb0-1fb0-41c1-add2-7bf7c006d398',\r"}}
[info] >      'original-request': 'req_Ogp68i1PuUXHit', {"user":"    'original-request': 'req_Ogp68i1PuUXHit',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Ogp68i1PuUXHit',\r"}}
[info] >      'request-id': 'req_Ogp68i1PuUXHit', {"user":"    'request-id': 'req_Ogp68i1PuUXHit',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Ogp68i1PuUXHit',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Ogp68i1PuUXHit', {"user":"  requestId: 'req_Ogp68i1PuUXHit',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Ogp68i1PuUXHit',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:26:03.890Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:26:03.890Z] [worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: exited"}}
[debug] [2023-03-25T17:26:03.890Z] [worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7c12d1e0-9e2a-4ddb-9c5a-df8d9c21a3e7]: FINISHED"}}
[debug] [2023-03-25T17:37:51.508Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.508Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:37:51.508Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.508Z"],"workRunningCount":1}
[debug] [2023-03-25T17:37:51.508Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T17:37:51.511Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:37:51.511Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T17:37:51.512Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:37:51.517Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:37:51.517Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:37:51.518Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.518Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.508Z"],"workRunningCount":1}
[debug] [2023-03-25T17:37:51.518Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.508Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.518Z"],"workRunningCount":2}
[debug] [2023-03-25T17:37:51.518Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T17:37:51.521Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:37:51.522Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T17:37:51.528Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:37:51.528Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:37:52.431Z] [runtime-status] [12132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.431Z] [runtime-status] [11688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.432Z] [runtime-status] [12132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.433Z] [runtime-status] [11688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.433Z] [runtime-status] [11688] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:37:52.433Z] [runtime-status] [12132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:37:52.433Z] [runtime-status] [12132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.433Z] [runtime-status] [11688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.589Z] [runtime-status] [11688] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:37:52.589Z] [runtime-status] [11688] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:37:52.589Z] [runtime-status] [11688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.589Z] [runtime-status] [12132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:37:52.589Z] [runtime-status] [12132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:37:52.590Z] [runtime-status] [11688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.590Z] [runtime-status] [12132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.591Z] [runtime-status] [12132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.591Z] [runtime-status] [11688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.591Z] [runtime-status] [11688] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:37:52.592Z] [runtime-status] [12132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:37:52.592Z] [runtime-status] [12132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:37:52.703Z] [runtime-status] [11688] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:37:52.703Z] [runtime-status] [11688] Listening to port: \\?\pipe\fire_emu_7607d2f4e373dedd {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11688] Listening to port: \\\\?\\pipe\\fire_emu_7607d2f4e373dedd"}}
[debug] [2023-03-25T17:37:52.704Z] [runtime-status] [12132] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:37:52.704Z] [runtime-status] [12132] Listening to port: \\?\pipe\fire_emu_388f11b9bfca76ec {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12132] Listening to port: \\\\?\\pipe\\fire_emu_388f11b9bfca76ec"}}
[debug] [2023-03-25T17:37:52.811Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: IDLE"}}
[debug] [2023-03-25T17:37:52.811Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:37:52.811Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: BUSY"}}
[debug] [2023-03-25T17:37:52.812Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: IDLE"}}
[debug] [2023-03-25T17:37:52.812Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:37:52.812Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 708.3892ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 708.3892ms"}}
[debug] [2023-03-25T17:37:53.521Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: IDLE"}}
[debug] [2023-03-25T17:37:53.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:37:51.508Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 721.4524ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 721.4524ms"}}
[debug] [2023-03-25T17:37:53.533Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: IDLE"}}
[debug] [2023-03-25T17:37:53.533Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:38:18.596Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.596Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:38:18.596Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.596Z"],"workRunningCount":1}
[debug] [2023-03-25T17:38:18.596Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:38:18.599Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:38:18.599Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:38:18.599Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:38:18.600Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: BUSY"}}
[debug] [2023-03-25T17:38:18.602Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.602Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.596Z"],"workRunningCount":1}
[debug] [2023-03-25T17:38:18.602Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.596Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.602Z"],"workRunningCount":2}
[debug] [2023-03-25T17:38:18.602Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:38:18.604Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:38:18.605Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:38:18.605Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:38:18.605Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_ppClzBM7CogB3l?t=1679765896', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_ppClzBM7CogB3l?t=1679765896',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_ppClzBM7CogB3l?t=1679765896',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:38:17 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0', {"user":"      'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0',\r"}}
[info] >        'original-request': 'req_ppClzBM7CogB3l', {"user":"      'original-request': 'req_ppClzBM7CogB3l',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ppClzBM7CogB3l',\r"}}
[info] >        'request-id': 'req_ppClzBM7CogB3l', {"user":"      'request-id': 'req_ppClzBM7CogB3l',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ppClzBM7CogB3l',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_ppClzBM7CogB3l' {"user":"    requestId: 'req_ppClzBM7CogB3l'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ppClzBM7CogB3l'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:38:17 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0', {"user":"    'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9d946b0f-449c-4e41-a8c1-b7b67d250ae0',\r"}}
[info] >      'original-request': 'req_ppClzBM7CogB3l', {"user":"    'original-request': 'req_ppClzBM7CogB3l',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ppClzBM7CogB3l',\r"}}
[info] >      'request-id': 'req_ppClzBM7CogB3l', {"user":"    'request-id': 'req_ppClzBM7CogB3l',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ppClzBM7CogB3l',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_ppClzBM7CogB3l', {"user":"  requestId: 'req_ppClzBM7CogB3l',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ppClzBM7CogB3l',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:38:18.845Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:38:18.596Z"],"workRunningCount":1}
[debug] [2023-03-25T17:38:18.845Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: exited"}}
[debug] [2023-03-25T17:38:18.845Z] [worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-784c1742-8144-4f9b-93be-ae3788adcba9]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tlu9uQ1ZRckviN?t=1679765896', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tlu9uQ1ZRckviN?t=1679765896',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tlu9uQ1ZRckviN?t=1679765896',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:38:17 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931', {"user":"      'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931',\r"}}
[info] >        'original-request': 'req_Tlu9uQ1ZRckviN', {"user":"      'original-request': 'req_Tlu9uQ1ZRckviN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Tlu9uQ1ZRckviN',\r"}}
[info] >        'request-id': 'req_Tlu9uQ1ZRckviN', {"user":"      'request-id': 'req_Tlu9uQ1ZRckviN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Tlu9uQ1ZRckviN',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Tlu9uQ1ZRckviN' {"user":"    requestId: 'req_Tlu9uQ1ZRckviN'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Tlu9uQ1ZRckviN'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:38:17 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:38:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931', {"user":"    'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '8daef19a-861a-4914-84fc-bdb07bd03931',\r"}}
[info] >      'original-request': 'req_Tlu9uQ1ZRckviN', {"user":"    'original-request': 'req_Tlu9uQ1ZRckviN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Tlu9uQ1ZRckviN',\r"}}
[info] >      'request-id': 'req_Tlu9uQ1ZRckviN', {"user":"    'request-id': 'req_Tlu9uQ1ZRckviN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Tlu9uQ1ZRckviN',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Tlu9uQ1ZRckviN', {"user":"  requestId: 'req_Tlu9uQ1ZRckviN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Tlu9uQ1ZRckviN',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:38:18.891Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:38:18.892Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: exited"}}
[debug] [2023-03-25T17:38:18.892Z] [worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-527259e7-e956-446f-b07e-e1ae9af3133d]: FINISHED"}}
[debug] [2023-03-25T17:40:17.853Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.853Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:40:17.853Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.853Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:17.853Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:40:17.855Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:40:17.855Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:40:17.856Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:40:17.862Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:40:17.862Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:40:17.863Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.863Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.853Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:17.863Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.853Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.863Z"],"workRunningCount":2}
[debug] [2023-03-25T17:40:17.863Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:40:17.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:40:17.866Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:40:17.872Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:40:17.872Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:40:18.798Z] [runtime-status] [7684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.798Z] [runtime-status] [10172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.799Z] [runtime-status] [7684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.800Z] [runtime-status] [10172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.800Z] [runtime-status] [7684] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:40:18.800Z] [runtime-status] [10172] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:40:18.801Z] [runtime-status] [7684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.801Z] [runtime-status] [10172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.967Z] [runtime-status] [10172] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:40:18.967Z] [runtime-status] [7684] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:40:18.967Z] [runtime-status] [10172] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:18.967Z] [runtime-status] [7684] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:18.968Z] [runtime-status] [10172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.968Z] [runtime-status] [7684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.968Z] [runtime-status] [10172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.968Z] [runtime-status] [7684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.970Z] [runtime-status] [10172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.970Z] [runtime-status] [10172] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:18.970Z] [runtime-status] [7684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:18.970Z] [runtime-status] [7684] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:19.091Z] [runtime-status] [10172] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:40:19.091Z] [runtime-status] [7684] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:40:19.092Z] [runtime-status] [7684] Listening to port: \\?\pipe\fire_emu_8b5b68c4fda98ffd {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7684] Listening to port: \\\\?\\pipe\\fire_emu_8b5b68c4fda98ffd"}}
[debug] [2023-03-25T17:40:19.092Z] [runtime-status] [10172] Listening to port: \\?\pipe\fire_emu_91b3adba0fbe770f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10172] Listening to port: \\\\?\\pipe\\fire_emu_91b3adba0fbe770f"}}
[debug] [2023-03-25T17:40:19.166Z] [worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: IDLE"}}
[debug] [2023-03-25T17:40:19.166Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:40:19.166Z] [worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: BUSY"}}
[debug] [2023-03-25T17:40:19.167Z] [worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: IDLE"}}
[debug] [2023-03-25T17:40:19.167Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:40:19.167Z] [worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAiyy9n2qYN9Sj?t=1679766017', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAiyy9n2qYN9Sj?t=1679766017',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_IAiyy9n2qYN9Sj?t=1679766017',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:40:17 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213', {"user":"      'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213',\r"}}
[info] >        'original-request': 'req_IAiyy9n2qYN9Sj', {"user":"      'original-request': 'req_IAiyy9n2qYN9Sj',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_IAiyy9n2qYN9Sj',\r"}}
[info] >        'request-id': 'req_IAiyy9n2qYN9Sj', {"user":"      'request-id': 'req_IAiyy9n2qYN9Sj',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_IAiyy9n2qYN9Sj',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_IAiyy9n2qYN9Sj' {"user":"    requestId: 'req_IAiyy9n2qYN9Sj'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_IAiyy9n2qYN9Sj'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:40:17 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213', {"user":"    'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '74aa0a35-1715-4027-a2b3-92951ba6d213',\r"}}
[info] >      'original-request': 'req_IAiyy9n2qYN9Sj', {"user":"    'original-request': 'req_IAiyy9n2qYN9Sj',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_IAiyy9n2qYN9Sj',\r"}}
[info] >      'request-id': 'req_IAiyy9n2qYN9Sj', {"user":"    'request-id': 'req_IAiyy9n2qYN9Sj',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_IAiyy9n2qYN9Sj',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_IAiyy9n2qYN9Sj', {"user":"  requestId: 'req_IAiyy9n2qYN9Sj',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_IAiyy9n2qYN9Sj',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:40:19.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:17.853Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:19.713Z] [worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: exited"}}
[debug] [2023-03-25T17:40:19.713Z] [worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a3cef91f-f3a1-4934-9430-80471fbdb4d4]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_NrIkMKSvSaBrfD?t=1679766017', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_NrIkMKSvSaBrfD?t=1679766017',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_NrIkMKSvSaBrfD?t=1679766017',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:40:17 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d', {"user":"      'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d',\r"}}
[info] >        'original-request': 'req_NrIkMKSvSaBrfD', {"user":"      'original-request': 'req_NrIkMKSvSaBrfD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_NrIkMKSvSaBrfD',\r"}}
[info] >        'request-id': 'req_NrIkMKSvSaBrfD', {"user":"      'request-id': 'req_NrIkMKSvSaBrfD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_NrIkMKSvSaBrfD',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_NrIkMKSvSaBrfD' {"user":"    requestId: 'req_NrIkMKSvSaBrfD'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_NrIkMKSvSaBrfD'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:40:17 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:40:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d', {"user":"    'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'bd2b43e9-8057-46b3-967a-b2379393f22d',\r"}}
[info] >      'original-request': 'req_NrIkMKSvSaBrfD', {"user":"    'original-request': 'req_NrIkMKSvSaBrfD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_NrIkMKSvSaBrfD',\r"}}
[info] >      'request-id': 'req_NrIkMKSvSaBrfD', {"user":"    'request-id': 'req_NrIkMKSvSaBrfD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_NrIkMKSvSaBrfD',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_NrIkMKSvSaBrfD', {"user":"  requestId: 'req_NrIkMKSvSaBrfD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_NrIkMKSvSaBrfD',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:40:19.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:40:19.738Z] [worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: exited"}}
[debug] [2023-03-25T17:40:19.738Z] [worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d0bbda1e-337b-46a5-bab2-8d93e908f5fc]: FINISHED"}}
[debug] [2023-03-25T17:40:20.852Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.852Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:40:20.852Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.852Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:20.852Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:40:20.856Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:40:20.856Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:40:20.856Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:40:20.861Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:40:20.861Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:40:20.863Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.863Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.852Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:20.863Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.852Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.863Z"],"workRunningCount":2}
[debug] [2023-03-25T17:40:20.863Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:40:20.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:40:20.866Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:40:20.875Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:40:20.875Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:40:21.820Z] [runtime-status] [11684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.820Z] [runtime-status] [16032] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.821Z] [runtime-status] [11684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.821Z] [runtime-status] [11684] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:40:21.821Z] [runtime-status] [16032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.822Z] [runtime-status] [16032] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:40:21.822Z] [runtime-status] [11684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.822Z] [runtime-status] [16032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.988Z] [runtime-status] [16032] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:40:21.988Z] [runtime-status] [16032] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:21.989Z] [runtime-status] [16032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.989Z] [runtime-status] [11684] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:40:21.989Z] [runtime-status] [11684] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:21.989Z] [runtime-status] [16032] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.990Z] [runtime-status] [11684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.991Z] [runtime-status] [16032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.991Z] [runtime-status] [16032] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:21.991Z] [runtime-status] [11684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.993Z] [runtime-status] [11684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:40:21.993Z] [runtime-status] [11684] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:40:22.110Z] [runtime-status] [16032] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:40:22.110Z] [runtime-status] [16032] Listening to port: \\?\pipe\fire_emu_50adcc96272a4c93 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16032] Listening to port: \\\\?\\pipe\\fire_emu_50adcc96272a4c93"}}
[debug] [2023-03-25T17:40:22.110Z] [runtime-status] [11684] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:40:22.110Z] [runtime-status] [11684] Listening to port: \\?\pipe\fire_emu_077e9852c1b480e0 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11684] Listening to port: \\\\?\\pipe\\fire_emu_077e9852c1b480e0"}}
[debug] [2023-03-25T17:40:22.166Z] [worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: IDLE"}}
[debug] [2023-03-25T17:40:22.166Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:40:22.166Z] [worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: BUSY"}}
[debug] [2023-03-25T17:40:22.170Z] [worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: IDLE"}}
[debug] [2023-03-25T17:40:22.170Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:40:22.170Z] [worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_eX5KEJBneaSizE?t=1679766020', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_eX5KEJBneaSizE?t=1679766020',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_eX5KEJBneaSizE?t=1679766020',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:40:20 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5', {"user":"      'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5',\r"}}
[info] >        'original-request': 'req_eX5KEJBneaSizE', {"user":"      'original-request': 'req_eX5KEJBneaSizE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_eX5KEJBneaSizE',\r"}}
[info] >        'request-id': 'req_eX5KEJBneaSizE', {"user":"      'request-id': 'req_eX5KEJBneaSizE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_eX5KEJBneaSizE',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_eX5KEJBneaSizE' {"user":"    requestId: 'req_eX5KEJBneaSizE'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_eX5KEJBneaSizE'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:40:20 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5', {"user":"    'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '36588760-22cf-4e55-b16d-d5cd0c551dc5',\r"}}
[info] >      'original-request': 'req_eX5KEJBneaSizE', {"user":"    'original-request': 'req_eX5KEJBneaSizE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_eX5KEJBneaSizE',\r"}}
[info] >      'request-id': 'req_eX5KEJBneaSizE', {"user":"    'request-id': 'req_eX5KEJBneaSizE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_eX5KEJBneaSizE',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_eX5KEJBneaSizE', {"user":"  requestId: 'req_eX5KEJBneaSizE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_eX5KEJBneaSizE',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:40:22.774Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:40:20.852Z"],"workRunningCount":1}
[debug] [2023-03-25T17:40:22.775Z] [worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: exited"}}
[debug] [2023-03-25T17:40:22.775Z] [worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9f1eceb3-fa73-4217-8d57-1cf0ef890f91]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_yB2vzrB3MntGpD?t=1679766020', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_yB2vzrB3MntGpD?t=1679766020',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_yB2vzrB3MntGpD?t=1679766020',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:40:20 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e', {"user":"      'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e',\r"}}
[info] >        'original-request': 'req_yB2vzrB3MntGpD', {"user":"      'original-request': 'req_yB2vzrB3MntGpD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_yB2vzrB3MntGpD',\r"}}
[info] >        'request-id': 'req_yB2vzrB3MntGpD', {"user":"      'request-id': 'req_yB2vzrB3MntGpD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_yB2vzrB3MntGpD',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_yB2vzrB3MntGpD' {"user":"    requestId: 'req_yB2vzrB3MntGpD'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_yB2vzrB3MntGpD'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:40:20 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:40:20 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e', {"user":"    'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a696119e-79af-4b8f-8575-1f944cfa437e',\r"}}
[info] >      'original-request': 'req_yB2vzrB3MntGpD', {"user":"    'original-request': 'req_yB2vzrB3MntGpD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_yB2vzrB3MntGpD',\r"}}
[info] >      'request-id': 'req_yB2vzrB3MntGpD', {"user":"    'request-id': 'req_yB2vzrB3MntGpD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_yB2vzrB3MntGpD',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_yB2vzrB3MntGpD', {"user":"  requestId: 'req_yB2vzrB3MntGpD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_yB2vzrB3MntGpD',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:40:22.801Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:40:22.802Z] [worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: exited"}}
[debug] [2023-03-25T17:40:22.802Z] [worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1518d69e-ec8b-4a40-bd58-e510029b63e7]: FINISHED"}}
[debug] [2023-03-25T17:46:43.272Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.272Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:46:43.272Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.272Z"],"workRunningCount":1}
[debug] [2023-03-25T17:46:43.272Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:46:43.274Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:46:43.274Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:46:43.275Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:46:43.279Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:46:43.280Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:46:43.281Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.281Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.272Z"],"workRunningCount":1}
[debug] [2023-03-25T17:46:43.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.272Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.281Z"],"workRunningCount":2}
[debug] [2023-03-25T17:46:43.281Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:46:43.283Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:46:43.283Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:46:43.289Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:46:43.289Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:46:44.179Z] [runtime-status] [7504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.179Z] [runtime-status] [9064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.179Z] [runtime-status] [7504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.180Z] [runtime-status] [7504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:46:44.180Z] [runtime-status] [9064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.180Z] [runtime-status] [7504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.181Z] [runtime-status] [9064] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:46:44.181Z] [runtime-status] [9064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.343Z] [runtime-status] [7504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:46:44.343Z] [runtime-status] [9064] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:46:44.343Z] [runtime-status] [7504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:46:44.343Z] [runtime-status] [9064] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:46:44.344Z] [runtime-status] [7504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.344Z] [runtime-status] [9064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.344Z] [runtime-status] [7504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.344Z] [runtime-status] [9064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.346Z] [runtime-status] [7504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.346Z] [runtime-status] [9064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:46:44.346Z] [runtime-status] [7504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:46:44.346Z] [runtime-status] [9064] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:46:44.472Z] [runtime-status] [7504] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:46:44.472Z] [runtime-status] [7504] Listening to port: \\?\pipe\fire_emu_b8c73c04286aaf8d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7504] Listening to port: \\\\?\\pipe\\fire_emu_b8c73c04286aaf8d"}}
[debug] [2023-03-25T17:46:44.472Z] [runtime-status] [9064] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:46:44.473Z] [runtime-status] [9064] Listening to port: \\?\pipe\fire_emu_df404dbe297db4b2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9064] Listening to port: \\\\?\\pipe\\fire_emu_df404dbe297db4b2"}}
[debug] [2023-03-25T17:46:44.491Z] [worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: IDLE"}}
[debug] [2023-03-25T17:46:44.492Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:46:44.492Z] [worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T17:46:44.523Z] [worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: IDLE"}}
[debug] [2023-03-25T17:46:44.523Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:46:44.523Z] [worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_J5S7II01Ho6XfH?t=1679766408', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_J5S7II01Ho6XfH?t=1679766408',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_J5S7II01Ho6XfH?t=1679766408',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:46:48 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb', {"user":"      'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb',\r"}}
[info] >        'original-request': 'req_J5S7II01Ho6XfH', {"user":"      'original-request': 'req_J5S7II01Ho6XfH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_J5S7II01Ho6XfH',\r"}}
[info] >        'request-id': 'req_J5S7II01Ho6XfH', {"user":"      'request-id': 'req_J5S7II01Ho6XfH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_J5S7II01Ho6XfH',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_J5S7II01Ho6XfH' {"user":"    requestId: 'req_J5S7II01Ho6XfH'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_J5S7II01Ho6XfH'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:46:48 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb', {"user":"    'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '032c93ab-4b2f-490c-8048-136baddfbefb',\r"}}
[info] >      'original-request': 'req_J5S7II01Ho6XfH', {"user":"    'original-request': 'req_J5S7II01Ho6XfH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_J5S7II01Ho6XfH',\r"}}
[info] >      'request-id': 'req_J5S7II01Ho6XfH', {"user":"    'request-id': 'req_J5S7II01Ho6XfH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_J5S7II01Ho6XfH',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_J5S7II01Ho6XfH', {"user":"  requestId: 'req_J5S7II01Ho6XfH',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_J5S7II01Ho6XfH',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:46:50.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:46:43.272Z"],"workRunningCount":1}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_D8pwM56qAUfRwy?t=1679766408', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_D8pwM56qAUfRwy?t=1679766408',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_D8pwM56qAUfRwy?t=1679766408',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:46:48 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d', {"user":"      'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d',\r"}}
[info] >        'original-request': 'req_D8pwM56qAUfRwy', {"user":"      'original-request': 'req_D8pwM56qAUfRwy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_D8pwM56qAUfRwy',\r"}}
[info] >        'request-id': 'req_D8pwM56qAUfRwy', {"user":"      'request-id': 'req_D8pwM56qAUfRwy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_D8pwM56qAUfRwy',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_D8pwM56qAUfRwy' {"user":"    requestId: 'req_D8pwM56qAUfRwy'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_D8pwM56qAUfRwy'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:46:48 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:46:48 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d', {"user":"    'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'dd1f448b-479a-4e81-83db-b2f98146cb1d',\r"}}
[info] >      'original-request': 'req_D8pwM56qAUfRwy', {"user":"    'original-request': 'req_D8pwM56qAUfRwy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_D8pwM56qAUfRwy',\r"}}
[info] >      'request-id': 'req_D8pwM56qAUfRwy', {"user":"    'request-id': 'req_D8pwM56qAUfRwy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_D8pwM56qAUfRwy',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_D8pwM56qAUfRwy', {"user":"  requestId: 'req_D8pwM56qAUfRwy',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_D8pwM56qAUfRwy',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:46:50.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:46:50.282Z] [worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: exited"}}
[debug] [2023-03-25T17:46:50.282Z] [worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68954df8-1c26-44dd-a982-2c6ace4014a9]: FINISHED"}}
[debug] [2023-03-25T17:46:50.282Z] [worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: exited"}}
[debug] [2023-03-25T17:46:50.282Z] [worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a88afabd-e0ed-4eba-9daf-cc2b4042a760]: FINISHED"}}
[debug] [2023-03-25T17:49:04.549Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.549Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:49:04.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.549Z"],"workRunningCount":1}
[debug] [2023-03-25T17:49:04.549Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=589800 --> us-central1-api
[debug] [2023-03-25T17:49:04.552Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:49:04.552Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=589800, mapping to path=/payments/create?total=589800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=589800, mapping to path=/payments/create?total=589800"}}
[debug] [2023-03-25T17:49:04.552Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T17:49:04.558Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:49:04.558Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T17:49:04.559Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.559Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.549Z"],"workRunningCount":1}
[debug] [2023-03-25T17:49:04.559Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.549Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.559Z"],"workRunningCount":2}
[debug] [2023-03-25T17:49:04.560Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=589800 --> us-central1-api
[debug] [2023-03-25T17:49:04.563Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:49:04.563Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=589800, mapping to path=/payments/create?total=589800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=589800, mapping to path=/payments/create?total=589800"}}
[debug] [2023-03-25T17:49:04.567Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T17:49:04.568Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T17:49:05.483Z] [runtime-status] [13644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.483Z] [runtime-status] [14072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.484Z] [runtime-status] [13644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.484Z] [runtime-status] [14072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.484Z] [runtime-status] [13644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:49:05.484Z] [runtime-status] [14072] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T17:49:05.485Z] [runtime-status] [13644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.485Z] [runtime-status] [14072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.647Z] [runtime-status] [13644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:49:05.647Z] [runtime-status] [13644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:49:05.647Z] [runtime-status] [14072] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T17:49:05.647Z] [runtime-status] [14072] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T17:49:05.647Z] [runtime-status] [13644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.648Z] [runtime-status] [14072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.648Z] [runtime-status] [13644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.649Z] [runtime-status] [14072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.650Z] [runtime-status] [13644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.650Z] [runtime-status] [13644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:49:05.650Z] [runtime-status] [14072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T17:49:05.651Z] [runtime-status] [14072] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T17:49:05.765Z] [runtime-status] [14072] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:49:05.765Z] [runtime-status] [14072] Listening to port: \\?\pipe\fire_emu_efdfc53c76261235 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14072] Listening to port: \\\\?\\pipe\\fire_emu_efdfc53c76261235"}}
[debug] [2023-03-25T17:49:05.765Z] [runtime-status] [13644] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T17:49:05.765Z] [runtime-status] [13644] Listening to port: \\?\pipe\fire_emu_6643d99c626168d4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13644] Listening to port: \\\\?\\pipe\\fire_emu_6643d99c626168d4"}}
[debug] [2023-03-25T17:49:05.848Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: IDLE"}}
[debug] [2023-03-25T17:49:05.848Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:49:05.848Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: BUSY"}}
[debug] [2023-03-25T17:49:05.849Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: IDLE"}}
[debug] [2023-03-25T17:49:05.849Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:49:05.849Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 668.5266ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 668.5266ms"}}
[debug] [2023-03-25T17:49:06.517Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: IDLE"}}
[debug] [2023-03-25T17:49:06.517Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:04.549Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 697.0985ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 697.0985ms"}}
[debug] [2023-03-25T17:49:06.547Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: IDLE"}}
[debug] [2023-03-25T17:49:06.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:49:32.040Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.040Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:49:32.040Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.040Z"],"workRunningCount":1}
[debug] [2023-03-25T17:49:32.040Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:49:32.043Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:49:32.043Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:49:32.043Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:49:32.043Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: BUSY"}}
[debug] [2023-03-25T17:49:32.044Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.044Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.040Z"],"workRunningCount":1}
[debug] [2023-03-25T17:49:32.044Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.040Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.044Z"],"workRunningCount":2}
[debug] [2023-03-25T17:49:32.044Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T17:49:32.047Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T17:49:32.047Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T17:49:32.047Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T17:49:32.048Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_tWnFeDX489hilw?t=1679766570', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_tWnFeDX489hilw?t=1679766570',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_tWnFeDX489hilw?t=1679766570',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:49:30 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf', {"user":"      'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf',\r"}}
[info] >        'original-request': 'req_tWnFeDX489hilw', {"user":"      'original-request': 'req_tWnFeDX489hilw',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tWnFeDX489hilw',\r"}}
[info] >        'request-id': 'req_tWnFeDX489hilw', {"user":"      'request-id': 'req_tWnFeDX489hilw',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tWnFeDX489hilw',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_tWnFeDX489hilw' {"user":"    requestId: 'req_tWnFeDX489hilw'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tWnFeDX489hilw'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:49:30 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf', {"user":"    'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '3e3dfc42-ea0e-4a2b-963a-446d396b93cf',\r"}}
[info] >      'original-request': 'req_tWnFeDX489hilw', {"user":"    'original-request': 'req_tWnFeDX489hilw',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tWnFeDX489hilw',\r"}}
[info] >      'request-id': 'req_tWnFeDX489hilw', {"user":"    'request-id': 'req_tWnFeDX489hilw',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tWnFeDX489hilw',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_tWnFeDX489hilw', {"user":"  requestId: 'req_tWnFeDX489hilw',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tWnFeDX489hilw',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:49:32.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T17:49:32.040Z"],"workRunningCount":1}
[debug] [2023-03-25T17:49:32.308Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: exited"}}
[debug] [2023-03-25T17:49:32.308Z] [worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85749288-0847-4b85-9b40-1b51e0e02e74]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_5AwPEdZnsO4e63?t=1679766570', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_5AwPEdZnsO4e63?t=1679766570',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_5AwPEdZnsO4e63?t=1679766570',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 17:49:30 GMT', {"user":"      date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec', {"user":"      'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec',\r"}}
[info] >        'original-request': 'req_5AwPEdZnsO4e63', {"user":"      'original-request': 'req_5AwPEdZnsO4e63',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_5AwPEdZnsO4e63',\r"}}
[info] >        'request-id': 'req_5AwPEdZnsO4e63', {"user":"      'request-id': 'req_5AwPEdZnsO4e63',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_5AwPEdZnsO4e63',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_5AwPEdZnsO4e63' {"user":"    requestId: 'req_5AwPEdZnsO4e63'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_5AwPEdZnsO4e63'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 17:49:30 GMT', {"user":"    date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 17:49:30 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec', {"user":"    'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '9a7be22c-fcec-43d6-9867-47b057f0e3ec',\r"}}
[info] >      'original-request': 'req_5AwPEdZnsO4e63', {"user":"    'original-request': 'req_5AwPEdZnsO4e63',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_5AwPEdZnsO4e63',\r"}}
[info] >      'request-id': 'req_5AwPEdZnsO4e63', {"user":"    'request-id': 'req_5AwPEdZnsO4e63',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_5AwPEdZnsO4e63',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_5AwPEdZnsO4e63', {"user":"  requestId: 'req_5AwPEdZnsO4e63',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_5AwPEdZnsO4e63',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T17:49:32.448Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T17:49:32.449Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: exited"}}
[debug] [2023-03-25T17:49:32.449Z] [worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-220426df-5c7b-4c0c-8d90-1fe9d2e69eab]: FINISHED"}}
[debug] [2023-03-25T18:00:46.570Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T18:00:47.579Z] Validating nodejs source
[debug] [2023-03-25T18:00:48.567Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T18:00:48.568Z] Building nodejs source
[debug] [2023-03-25T18:00:48.568Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T18:00:48.568Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T18:00:48.573Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T18:00:48.739Z] Serving at port 8133

[debug] [2023-03-25T18:00:48.970Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T18:00:48.973Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T18:13:01.455Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.455Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:13:01.455Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.455Z"],"workRunningCount":1}
[debug] [2023-03-25T18:13:01.455Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=3999900 --> us-central1-api
[debug] [2023-03-25T18:13:01.459Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:13:01.459Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=3999900, mapping to path=/payments/create?total=3999900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=3999900, mapping to path=/payments/create?total=3999900"}}
[debug] [2023-03-25T18:13:01.459Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:13:01.465Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:13:01.466Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:13:01.468Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.468Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.455Z"],"workRunningCount":1}
[debug] [2023-03-25T18:13:01.468Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.455Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.468Z"],"workRunningCount":2}
[debug] [2023-03-25T18:13:01.468Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=3999900 --> us-central1-api
[debug] [2023-03-25T18:13:01.471Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:13:01.471Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=3999900, mapping to path=/payments/create?total=3999900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=3999900, mapping to path=/payments/create?total=3999900"}}
[debug] [2023-03-25T18:13:01.478Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:13:01.478Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:13:02.448Z] [runtime-status] [13712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.448Z] [runtime-status] [7916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.448Z] [runtime-status] [13712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.449Z] [runtime-status] [13712] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:13:02.449Z] [runtime-status] [7916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.449Z] [runtime-status] [13712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.449Z] [runtime-status] [7916] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:13:02.450Z] [runtime-status] [7916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.609Z] [runtime-status] [7916] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:13:02.609Z] [runtime-status] [7916] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:02.609Z] [runtime-status] [7916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.610Z] [runtime-status] [13712] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:13:02.610Z] [runtime-status] [13712] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:02.610Z] [runtime-status] [7916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.610Z] [runtime-status] [13712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.611Z] [runtime-status] [13712] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.612Z] [runtime-status] [7916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.612Z] [runtime-status] [7916] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:02.613Z] [runtime-status] [13712] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:02.613Z] [runtime-status] [13712] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:02.731Z] [runtime-status] [7916] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:13:02.732Z] [runtime-status] [13712] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:13:02.732Z] [runtime-status] [13712] Listening to port: \\?\pipe\fire_emu_7091184cdb5fbba2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13712] Listening to port: \\\\?\\pipe\\fire_emu_7091184cdb5fbba2"}}
[debug] [2023-03-25T18:13:02.732Z] [runtime-status] [7916] Listening to port: \\?\pipe\fire_emu_397fdb2869539ab7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7916] Listening to port: \\\\?\\pipe\\fire_emu_397fdb2869539ab7"}}
[debug] [2023-03-25T18:13:02.786Z] [worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: IDLE"}}
[debug] [2023-03-25T18:13:02.786Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:13:02.787Z] [worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T18:13:02.791Z] [worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: IDLE"}}
[debug] [2023-03-25T18:13:02.791Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:13:02.792Z] [worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: BUSY"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:13:02.800Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:01.468Z"],"workRunningCount":1}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:13:02.808Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:13:02.808Z] [worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: exited"}}
[debug] [2023-03-25T18:13:02.808Z] [worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379bc1df-bc68-4e3e-b1d8-3dbb4eaab643]: FINISHED"}}
[debug] [2023-03-25T18:13:02.815Z] [worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: exited"}}
[debug] [2023-03-25T18:13:02.815Z] [worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-525a5f84-6ee8-484c-83f2-476e82c0ce1f]: FINISHED"}}
[debug] [2023-03-25T18:13:56.394Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.394Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:13:56.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.394Z"],"workRunningCount":1}
[debug] [2023-03-25T18:13:56.394Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:13:56.398Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:13:56.398Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:13:56.398Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:13:56.405Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:13:56.406Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:13:56.407Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.407Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.394Z"],"workRunningCount":1}
[debug] [2023-03-25T18:13:56.407Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.394Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.407Z"],"workRunningCount":2}
[debug] [2023-03-25T18:13:56.407Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:13:56.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:13:56.411Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:13:56.417Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:13:56.418Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:13:57.432Z] [runtime-status] [9884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.433Z] [runtime-status] [9884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.433Z] [runtime-status] [13980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.434Z] [runtime-status] [9884] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:13:57.434Z] [runtime-status] [9884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.434Z] [runtime-status] [13980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.435Z] [runtime-status] [13980] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:13:57.435Z] [runtime-status] [13980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.591Z] [runtime-status] [9884] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:13:57.591Z] [runtime-status] [9884] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:57.592Z] [runtime-status] [9884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.593Z] [runtime-status] [9884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.593Z] [runtime-status] [13980] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:13:57.594Z] [runtime-status] [13980] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:57.594Z] [runtime-status] [13980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.594Z] [runtime-status] [9884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.594Z] [runtime-status] [9884] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:57.595Z] [runtime-status] [13980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.596Z] [runtime-status] [13980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:13:57.597Z] [runtime-status] [13980] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:13:57.712Z] [runtime-status] [9884] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:13:57.712Z] [runtime-status] [9884] Listening to port: \\?\pipe\fire_emu_ae5c26ce116eb101 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9884] Listening to port: \\\\?\\pipe\\fire_emu_ae5c26ce116eb101"}}
[debug] [2023-03-25T18:13:57.714Z] [runtime-status] [13980] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:13:57.714Z] [runtime-status] [13980] Listening to port: \\?\pipe\fire_emu_c755f8c51dd4376e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13980] Listening to port: \\\\?\\pipe\\fire_emu_c755f8c51dd4376e"}}
[debug] [2023-03-25T18:13:57.737Z] [worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: IDLE"}}
[debug] [2023-03-25T18:13:57.738Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:13:57.738Z] [worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: BUSY"}}
[debug] [2023-03-25T18:13:57.739Z] [worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: IDLE"}}
[debug] [2023-03-25T18:13:57.739Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:13:57.739Z] [worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:13:57.763Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:13:56.407Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:13:57.763Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:13:57.764Z] [worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: exited"}}
[debug] [2023-03-25T18:13:57.764Z] [worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5d38c0af-180d-4890-8ee6-2de7a72fbc7a]: FINISHED"}}
[debug] [2023-03-25T18:13:57.766Z] [worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: exited"}}
[debug] [2023-03-25T18:13:57.766Z] [worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c38b62ad-318f-4d14-9806-5355bd8bbf83]: FINISHED"}}
[debug] [2023-03-25T18:14:03.322Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.322Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:14:03.322Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.322Z"],"workRunningCount":1}
[debug] [2023-03-25T18:14:03.322Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T18:14:03.325Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:14:03.326Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T18:14:03.326Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:14:03.332Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:14:03.332Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:14:03.334Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.334Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.322Z"],"workRunningCount":1}
[debug] [2023-03-25T18:14:03.334Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.322Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.334Z"],"workRunningCount":2}
[debug] [2023-03-25T18:14:03.334Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T18:14:03.337Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:14:03.337Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T18:14:03.342Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:14:03.342Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:14:04.263Z] [runtime-status] [8920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.264Z] [runtime-status] [8920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.264Z] [runtime-status] [8920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:14:04.264Z] [runtime-status] [14688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.265Z] [runtime-status] [8920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.265Z] [runtime-status] [14688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.266Z] [runtime-status] [14688] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:14:04.266Z] [runtime-status] [14688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.424Z] [runtime-status] [14688] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:14:04.424Z] [runtime-status] [8920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:14:04.424Z] [runtime-status] [8920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:14:04.424Z] [runtime-status] [14688] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:14:04.425Z] [runtime-status] [14688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.425Z] [runtime-status] [8920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.426Z] [runtime-status] [14688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.426Z] [runtime-status] [8920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.427Z] [runtime-status] [14688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.428Z] [runtime-status] [14688] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:14:04.428Z] [runtime-status] [8920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:14:04.428Z] [runtime-status] [8920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:14:04.545Z] [runtime-status] [14688] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:14:04.545Z] [runtime-status] [14688] Listening to port: \\?\pipe\fire_emu_76e7aa09f81e711b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [14688] Listening to port: \\\\?\\pipe\\fire_emu_76e7aa09f81e711b"}}
[debug] [2023-03-25T18:14:04.545Z] [runtime-status] [8920] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:14:04.545Z] [runtime-status] [8920] Listening to port: \\?\pipe\fire_emu_b653a66e6383d314 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8920] Listening to port: \\\\?\\pipe\\fire_emu_b653a66e6383d314"}}
[debug] [2023-03-25T18:14:04.553Z] [worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: IDLE"}}
[debug] [2023-03-25T18:14:04.553Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:14:04.553Z] [worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: BUSY"}}
[debug] [2023-03-25T18:14:04.555Z] [worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: IDLE"}}
[debug] [2023-03-25T18:14:04.555Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:14:04.555Z] [worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:14:04.572Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:14:03.322Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:14:04.572Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:14:04.574Z] [worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: exited"}}
[debug] [2023-03-25T18:14:04.574Z] [worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-22b4360e-1af1-43b4-ae64-db3880990109]: FINISHED"}}
[debug] [2023-03-25T18:14:04.574Z] [worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: exited"}}
[debug] [2023-03-25T18:14:04.574Z] [worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e941c635-5d92-43a5-8eb3-03f3d2ea8378]: FINISHED"}}
[debug] [2023-03-25T18:16:13.487Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.487Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:16:13.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.487Z"],"workRunningCount":1}
[debug] [2023-03-25T18:16:13.487Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:16:13.490Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:16:13.491Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:16:13.491Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:16:13.496Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:16:13.496Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:16:13.497Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.497Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.487Z"],"workRunningCount":1}
[debug] [2023-03-25T18:16:13.497Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.487Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.497Z"],"workRunningCount":2}
[debug] [2023-03-25T18:16:13.497Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:16:13.501Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:16:13.501Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:16:13.509Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:16:13.509Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:16:14.563Z] [runtime-status] [17960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.563Z] [runtime-status] [12708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.564Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.564Z] [runtime-status] [12708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.564Z] [runtime-status] [17960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:16:14.564Z] [runtime-status] [12708] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:16:14.565Z] [runtime-status] [12708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.565Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.727Z] [runtime-status] [12708] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:16:14.728Z] [runtime-status] [12708] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:14.728Z] [runtime-status] [17960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:16:14.728Z] [runtime-status] [17960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:14.728Z] [runtime-status] [12708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.728Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.729Z] [runtime-status] [17960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.729Z] [runtime-status] [12708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.731Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.731Z] [runtime-status] [12708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:14.731Z] [runtime-status] [17960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:14.731Z] [runtime-status] [12708] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:14.852Z] [runtime-status] [17960] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:16:14.852Z] [runtime-status] [17960] Listening to port: \\?\pipe\fire_emu_b30a03caa57de9ad {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17960] Listening to port: \\\\?\\pipe\\fire_emu_b30a03caa57de9ad"}}
[debug] [2023-03-25T18:16:14.853Z] [runtime-status] [12708] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:16:14.853Z] [runtime-status] [12708] Listening to port: \\?\pipe\fire_emu_cec71b14b7ea335b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [12708] Listening to port: \\\\?\\pipe\\fire_emu_cec71b14b7ea335b"}}
[debug] [2023-03-25T18:16:14.926Z] [worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: IDLE"}}
[debug] [2023-03-25T18:16:14.926Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:16:14.926Z] [worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[debug] [2023-03-25T18:16:14.932Z] [worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: IDLE"}}
[debug] [2023-03-25T18:16:14.932Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:16:14.932Z] [worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: BUSY"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:16:14.939Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:13.497Z"],"workRunningCount":1}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:16:14.947Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:16:14.947Z] [worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: exited"}}
[debug] [2023-03-25T18:16:14.947Z] [worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f47c75d5-1f5a-4b63-ac0a-2e07251a25bd]: FINISHED"}}
[debug] [2023-03-25T18:16:14.952Z] [worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: exited"}}
[debug] [2023-03-25T18:16:14.952Z] [worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-99075bf5-3ed1-442c-bd2d-5fc755929f3a]: FINISHED"}}
[debug] [2023-03-25T18:16:19.799Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.799Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:16:19.799Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.799Z"],"workRunningCount":1}
[debug] [2023-03-25T18:16:19.799Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=6999800 --> us-central1-api
[debug] [2023-03-25T18:16:19.802Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:16:19.803Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=6999800, mapping to path=/payments/create?total=6999800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=6999800, mapping to path=/payments/create?total=6999800"}}
[debug] [2023-03-25T18:16:19.803Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:16:19.809Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:16:19.810Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:16:19.811Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.811Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.799Z"],"workRunningCount":1}
[debug] [2023-03-25T18:16:19.811Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.799Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.811Z"],"workRunningCount":2}
[debug] [2023-03-25T18:16:19.811Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=6999800 --> us-central1-api
[debug] [2023-03-25T18:16:19.814Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:16:19.814Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=6999800, mapping to path=/payments/create?total=6999800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=6999800, mapping to path=/payments/create?total=6999800"}}
[debug] [2023-03-25T18:16:19.819Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:16:19.819Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:16:20.779Z] [runtime-status] [16788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.780Z] [runtime-status] [7920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.780Z] [runtime-status] [16788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.781Z] [runtime-status] [16788] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:16:20.781Z] [runtime-status] [7920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.781Z] [runtime-status] [7920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:16:20.782Z] [runtime-status] [16788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.782Z] [runtime-status] [7920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.944Z] [runtime-status] [16788] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:16:20.944Z] [runtime-status] [16788] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:20.945Z] [runtime-status] [16788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.945Z] [runtime-status] [16788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.946Z] [runtime-status] [7920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:16:20.946Z] [runtime-status] [7920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:20.946Z] [runtime-status] [7920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.947Z] [runtime-status] [16788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.947Z] [runtime-status] [16788] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:20.947Z] [runtime-status] [7920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.949Z] [runtime-status] [7920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:16:20.949Z] [runtime-status] [7920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:16:21.072Z] [runtime-status] [7920] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:16:21.072Z] [runtime-status] [7920] Listening to port: \\?\pipe\fire_emu_d06463841b7d5ad8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7920] Listening to port: \\\\?\\pipe\\fire_emu_d06463841b7d5ad8"}}
[debug] [2023-03-25T18:16:21.074Z] [runtime-status] [16788] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:16:21.074Z] [runtime-status] [16788] Listening to port: \\?\pipe\fire_emu_42bc06067ff2642d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16788] Listening to port: \\\\?\\pipe\\fire_emu_42bc06067ff2642d"}}
[debug] [2023-03-25T18:16:21.131Z] [worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: IDLE"}}
[debug] [2023-03-25T18:16:21.132Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:16:21.132Z] [worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: BUSY"}}
[debug] [2023-03-25T18:16:21.136Z] [worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: IDLE"}}
[debug] [2023-03-25T18:16:21.137Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:16:21.137Z] [worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:16:21.145Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:16:19.811Z"],"workRunningCount":1}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:16:21.152Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:16:21.152Z] [worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: exited"}}
[debug] [2023-03-25T18:16:21.152Z] [worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5b42948c-54fd-428a-b7e9-aa0f272bec13]: FINISHED"}}
[debug] [2023-03-25T18:16:21.157Z] [worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: exited"}}
[debug] [2023-03-25T18:16:21.157Z] [worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40e678b8-9541-400b-8e54-c0d1ea778c00]: FINISHED"}}
[debug] [2023-03-25T18:19:51.546Z] ----------------------------------------------------------------------
[debug] [2023-03-25T18:19:51.548Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Gurdeep Singh\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2023-03-25T18:19:51.548Z] CLI Version:   11.25.1
[debug] [2023-03-25T18:19:51.548Z] Platform:      win32
[debug] [2023-03-25T18:19:51.548Z] Node Version:  v18.12.1
[debug] [2023-03-25T18:19:51.549Z] Time:          Sat Mar 25 2023 23:49:51 GMT+0530 (India Standard Time)
[debug] [2023-03-25T18:19:51.549Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-25T18:19:51.625Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-25T18:19:51.625Z] > authorizing via signed-in user (gurdeepsh25@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2023-03-25T18:19:51.633Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] !  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2023-03-25T18:19:51.634Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4001},{"address":"::1","family":"IPv6","port":4001}]},"metadata":{"message":"assigned listening specs for emulators"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project clone-eca8d. This may result in unexpected behavior. 
[debug] [2023-03-25T18:19:51.641Z] [hub] writing locator at C:\Users\GURDEE~1\AppData\Local\Temp\hub-clone-eca8d.json
[debug] [2023-03-25T18:19:51.651Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-25T18:19:51.651Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-03-25T18:19:51.651Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4001},{"address":"::1","family":"IPv6","port":4001}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-03-25T18:19:51.655Z] defaultcredentials: writing to file C:\Users\Gurdeep Singh\AppData\Roaming\firebase\gurdeepsh25_gmail_com_application_default_credentials.json
[debug] [2023-03-25T18:19:51.665Z] Setting GAC to C:\Users\Gurdeep Singh\AppData\Roaming\firebase\gurdeepsh25_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Gurdeep Singh\\AppData\\Roaming\\firebase\\gurdeepsh25_gmail_com_application_default_credentials.json"}}
[debug] [2023-03-25T18:19:51.666Z] > refreshing access token with scopes: []
[debug] [2023-03-25T18:19:51.667Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-03-25T18:19:51.667Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-25T18:19:51.968Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-03-25T18:19:51.968Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-03-25T18:19:51.974Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig [none]
[debug] [2023-03-25T18:19:52.767Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig 200
[debug] [2023-03-25T18:19:52.767Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-eca8d/adminSdkConfig {"projectId":"clone-eca8d","databaseURL":"https://clone-eca8d-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"clone-eca8d.appspot.com"}
[debug] [2023-03-25T18:19:52.783Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-03-25T18:19:52.783Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-03-25T18:19:52.783Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\Gurdeep Singh\\.cache\\firebase\\emulators\\ui-v1.11.4\\server\\server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\Gurdeep Singh\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.11.4\\\\server\\\\server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-03-25T18:19:52.873Z] Web / API server started at 127.0.0.1:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4001\n"}}
[debug] [2023-03-25T18:19:52.873Z] Web / API server started at ::1:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4001\n"}}
[info] i  functions: Watching "G:\Amazon-full-stack\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"G:\\Amazon-full-stack\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2023-03-25T18:19:53.051Z] Validating nodejs source
[debug] [2023-03-25T18:19:53.980Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T18:19:53.981Z] Building nodejs source
[debug] [2023-03-25T18:19:53.981Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T18:19:53.983Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T18:19:53.988Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T18:19:54.131Z] Serving at port 8287

[debug] [2023-03-25T18:19:54.340Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T18:19:54.351Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-eca8d/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-eca8d/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4001/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4001/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-03-25T18:20:03.014Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api-2023-03-25T18:20:03.014Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:03.015Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api-2023-03-25T18:20:03.014Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:03.015Z] Accepted request GET /clone-eca8d/us-central1/api --> us-central1-api
[debug] [2023-03-25T18:20:03.018Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:20:03.019Z] [functions] Got req.url=/clone-eca8d/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api, mapping to path=/"}}
[debug] [2023-03-25T18:20:03.026Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:20:03.026Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:20:03.899Z] [runtime-status] [6504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:03.900Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:03.900Z] [runtime-status] [6504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:20:03.901Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:04.062Z] [runtime-status] [6504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:20:04.062Z] [runtime-status] [6504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:04.063Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:04.063Z] [runtime-status] [6504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:04.065Z] [runtime-status] [6504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:04.065Z] [runtime-status] [6504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:04.175Z] [runtime-status] [6504] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:20:04.175Z] [runtime-status] [6504] Listening to port: \\?\pipe\fire_emu_d790fa6aeaf83406 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6504] Listening to port: \\\\?\\pipe\\fire_emu_d790fa6aeaf83406"}}
[debug] [2023-03-25T18:20:04.242Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: IDLE"}}
[debug] [2023-03-25T18:20:04.243Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:20:04.243Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: BUSY"}}
[info] i  functions: Finished "us-central1-api" in 5.0869ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.0869ms"}}
[debug] [2023-03-25T18:20:04.249Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: IDLE"}}
[debug] [2023-03-25T18:20:04.249Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:12.934Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.934Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:12.934Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.934Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:12.934Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:20:12.938Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:20:12.938Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:20:12.938Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:20:12.939Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: BUSY"}}
[debug] [2023-03-25T18:20:12.941Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.941Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.934Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:12.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.934Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.941Z"],"workRunningCount":2}
[debug] [2023-03-25T18:20:12.941Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:20:12.945Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:20:12.945Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:20:12.957Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:20:12.958Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:20:12.971Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:12.941Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:12.973Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: exited"}}
[debug] [2023-03-25T18:20:12.973Z] [worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1aefac8c-a70f-4a85-a605-775310ae4452]: FINISHED"}}
[debug] [2023-03-25T18:20:13.978Z] [runtime-status] [10864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:13.979Z] [runtime-status] [10864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:13.979Z] [runtime-status] [10864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:20:13.979Z] [runtime-status] [10864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:14.135Z] [runtime-status] [10864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:20:14.135Z] [runtime-status] [10864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:14.135Z] [runtime-status] [10864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:14.136Z] [runtime-status] [10864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:14.138Z] [runtime-status] [10864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:14.138Z] [runtime-status] [10864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:14.262Z] [runtime-status] [10864] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:20:14.262Z] [runtime-status] [10864] Listening to port: \\?\pipe\fire_emu_70aad56e7247e7f7 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10864] Listening to port: \\\\?\\pipe\\fire_emu_70aad56e7247e7f7"}}
[debug] [2023-03-25T18:20:14.359Z] [worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: IDLE"}}
[debug] [2023-03-25T18:20:14.360Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2023-03-25T18:20:14.360Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:20:14.361Z] [worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:20:14.371Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:14.375Z] [worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: exited"}}
[debug] [2023-03-25T18:20:14.376Z] [worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-713752cb-c751-4fb1-abd5-5eebbb9c88cf]: FINISHED"}}
[debug] [2023-03-25T18:20:18.513Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.513Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:18.513Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.513Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:18.513Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T18:20:18.516Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:20:18.516Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T18:20:18.516Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-03-25T18:20:18.522Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:20:18.523Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:20:18.524Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.524Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.513Z"],"workRunningCount":1}
[debug] [2023-03-25T18:20:18.524Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.513Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.524Z"],"workRunningCount":2}
[debug] [2023-03-25T18:20:18.525Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=2499900 --> us-central1-api
[debug] [2023-03-25T18:20:18.528Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:20:18.528Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=2499900, mapping to path=/payments/create?total=2499900"}}
[debug] [2023-03-25T18:20:18.532Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:20:18.533Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:20:19.442Z] [runtime-status] [10420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.443Z] [runtime-status] [13284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.443Z] [runtime-status] [10420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.444Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.444Z] [runtime-status] [10420] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:20:19.444Z] [runtime-status] [13284] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:20:19.444Z] [runtime-status] [10420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.445Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.606Z] [runtime-status] [10420] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:20:19.607Z] [runtime-status] [10420] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:19.607Z] [runtime-status] [10420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.608Z] [runtime-status] [10420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.609Z] [runtime-status] [13284] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:20:19.609Z] [runtime-status] [13284] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:19.609Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.609Z] [runtime-status] [10420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.610Z] [runtime-status] [10420] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:19.610Z] [runtime-status] [13284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.612Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:20:19.612Z] [runtime-status] [13284] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:20:19.729Z] [runtime-status] [10420] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:20:19.729Z] [runtime-status] [10420] Listening to port: \\?\pipe\fire_emu_486f0e096fca727a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [10420] Listening to port: \\\\?\\pipe\\fire_emu_486f0e096fca727a"}}
[debug] [2023-03-25T18:20:19.732Z] [runtime-status] [13284] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:20:19.732Z] [runtime-status] [13284] Listening to port: \\?\pipe\fire_emu_cffc3863079f8613 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Listening to port: \\\\?\\pipe\\fire_emu_cffc3863079f8613"}}
[debug] [2023-03-25T18:20:19.832Z] [worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: IDLE"}}
[debug] [2023-03-25T18:20:19.832Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:20:19.833Z] [worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: BUSY"}}
[debug] [2023-03-25T18:20:19.833Z] [worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: IDLE"}}
[debug] [2023-03-25T18:20:19.833Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:20:19.833Z] [worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\index.js:22 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\index.js:22:52 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js:22:52\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:144:13) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:144:13)\r"}}
[info] >      at Route.dispatch (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\route.js:114:3) {"user":"    at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:114:3)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (G:\Amazon-full-stack\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:119:7) {"user":"    at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:119:7)\r"}}
[info] >      at Layer.handle [as handle_request] (G:\Amazon-full-stack\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:20:19.849Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:20:18.524Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:20:19.850Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:20:19.850Z] [worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: exited"}}
[debug] [2023-03-25T18:20:19.851Z] [worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-97ee91fe-786e-4f9c-a953-1093911993ad]: FINISHED"}}
[debug] [2023-03-25T18:20:19.851Z] [worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: exited"}}
[debug] [2023-03-25T18:20:19.851Z] [worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ce47baa2-bbc5-4e8f-9348-3f193cffa0be]: FINISHED"}}
[debug] [2023-03-25T18:20:59.111Z] File G:\Amazon-full-stack\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File G:\\Amazon-full-stack\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2023-03-25T18:21:00.126Z] Validating nodejs source
[debug] [2023-03-25T18:21:02.566Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0",
    "stripe": "^11.16.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-25T18:21:02.566Z] Building nodejs source
[debug] [2023-03-25T18:21:02.566Z] Failed to find version of module node: reached end of search path G:\Amazon-full-stack\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. 
[debug] [2023-03-25T18:21:02.567Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-25T18:21:02.572Z] Found firebase-functions binary at 'G:\Amazon-full-stack\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2023-03-25T18:21:02.722Z] Serving at port 8768

[debug] [2023-03-25T18:21:02.934Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-03-25T18:21:02.937Z] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-03-25T18:21:03.300Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.300Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:21:03.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.300Z"],"workRunningCount":1}
[debug] [2023-03-25T18:21:03.301Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:21:03.304Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:21:03.304Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:21:03.304Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:21:03.310Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:21:03.310Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:21:03.312Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.312Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.300Z"],"workRunningCount":1}
[debug] [2023-03-25T18:21:03.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.300Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.312Z"],"workRunningCount":2}
[debug] [2023-03-25T18:21:03.312Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-03-25T18:21:03.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:21:03.316Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-03-25T18:21:03.321Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:21:03.321Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:21:04.381Z] [runtime-status] [11208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.381Z] [runtime-status] [22380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.382Z] [runtime-status] [11208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.382Z] [runtime-status] [11208] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:21:04.382Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.382Z] [runtime-status] [22380] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:21:04.383Z] [runtime-status] [11208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.383Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.543Z] [runtime-status] [11208] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:21:04.543Z] [runtime-status] [11208] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:04.543Z] [runtime-status] [11208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.544Z] [runtime-status] [11208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.546Z] [runtime-status] [11208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.546Z] [runtime-status] [11208] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:04.547Z] [runtime-status] [22380] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:21:04.547Z] [runtime-status] [22380] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:04.547Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.549Z] [runtime-status] [22380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.550Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:04.551Z] [runtime-status] [22380] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:04.662Z] [runtime-status] [11208] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:21:04.662Z] [runtime-status] [11208] Listening to port: \\?\pipe\fire_emu_d6c23782cc156f16 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [11208] Listening to port: \\\\?\\pipe\\fire_emu_d6c23782cc156f16"}}
[debug] [2023-03-25T18:21:04.664Z] [runtime-status] [22380] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:21:04.664Z] [runtime-status] [22380] Listening to port: \\?\pipe\fire_emu_c731b5cf59d42f32 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22380] Listening to port: \\\\?\\pipe\\fire_emu_c731b5cf59d42f32"}}
[debug] [2023-03-25T18:21:04.735Z] [worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: IDLE"}}
[debug] [2023-03-25T18:21:04.735Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:21:04.735Z] [worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: BUSY"}}
[debug] [2023-03-25T18:21:04.736Z] [worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: IDLE"}}
[debug] [2023-03-25T18:21:04.736Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:21:04.736Z] [worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vvcvxdod9sGaDb?t=1679768463', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vvcvxdod9sGaDb?t=1679768463',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Vvcvxdod9sGaDb?t=1679768463',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 18:21:03 GMT', {"user":"      date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6', {"user":"      'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6',\r"}}
[info] >        'original-request': 'req_Vvcvxdod9sGaDb', {"user":"      'original-request': 'req_Vvcvxdod9sGaDb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Vvcvxdod9sGaDb',\r"}}
[info] >        'request-id': 'req_Vvcvxdod9sGaDb', {"user":"      'request-id': 'req_Vvcvxdod9sGaDb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Vvcvxdod9sGaDb',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_Vvcvxdod9sGaDb' {"user":"    requestId: 'req_Vvcvxdod9sGaDb'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Vvcvxdod9sGaDb'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 18:21:03 GMT', {"user":"    date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6', {"user":"    'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '4313424a-f56d-420c-9d96-ef80f0b77bd6',\r"}}
[info] >      'original-request': 'req_Vvcvxdod9sGaDb', {"user":"    'original-request': 'req_Vvcvxdod9sGaDb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Vvcvxdod9sGaDb',\r"}}
[info] >      'request-id': 'req_Vvcvxdod9sGaDb', {"user":"    'request-id': 'req_Vvcvxdod9sGaDb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Vvcvxdod9sGaDb',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_Vvcvxdod9sGaDb', {"user":"  requestId: 'req_Vvcvxdod9sGaDb',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Vvcvxdod9sGaDb',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:21:05.430Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:03.312Z"],"workRunningCount":1}
[debug] [2023-03-25T18:21:05.430Z] [worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: exited"}}
[debug] [2023-03-25T18:21:05.430Z] [worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f0b00a3d-bb21-4747-96ca-13eadd27b7b3]: FINISHED"}}
[info] >  G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at StripeError.generate (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\Amazon-full-stack\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_XQql81SoxK9Jdz?t=1679768463', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_XQql81SoxK9Jdz?t=1679768463',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_XQql81SoxK9Jdz?t=1679768463',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sat, 25 Mar 2023 18:21:03 GMT', {"user":"      date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0', {"user":"      'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0',\r"}}
[info] >        'original-request': 'req_XQql81SoxK9Jdz', {"user":"      'original-request': 'req_XQql81SoxK9Jdz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_XQql81SoxK9Jdz',\r"}}
[info] >        'request-id': 'req_XQql81SoxK9Jdz', {"user":"      'request-id': 'req_XQql81SoxK9Jdz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_XQql81SoxK9Jdz',\r"}}
[info] >        'stripe-version': '2022-11-15', {"user":"      'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2022-11-15',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_XQql81SoxK9Jdz' {"user":"    requestId: 'req_XQql81SoxK9Jdz'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_XQql81SoxK9Jdz'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sat, 25 Mar 2023 18:21:03 GMT', {"user":"    date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Sat, 25 Mar 2023 18:21:03 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0', {"user":"    'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '6555e0b7-6210-4399-b1e5-929db69482e0',\r"}}
[info] >      'original-request': 'req_XQql81SoxK9Jdz', {"user":"    'original-request': 'req_XQql81SoxK9Jdz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_XQql81SoxK9Jdz',\r"}}
[info] >      'request-id': 'req_XQql81SoxK9Jdz', {"user":"    'request-id': 'req_XQql81SoxK9Jdz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_XQql81SoxK9Jdz',\r"}}
[info] >      'stripe-version': '2022-11-15', {"user":"    'stripe-version': '2022-11-15',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2022-11-15',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_XQql81SoxK9Jdz', {"user":"  requestId: 'req_XQql81SoxK9Jdz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_XQql81SoxK9Jdz',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v18.12.1 {"user":"Node.js v18.12.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.12.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-03-25T18:21:05.544Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:21:05.544Z] [worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: exited"}}
[debug] [2023-03-25T18:21:05.544Z] [worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bac394e2-dec7-41d8-a689-55a7f2cdcc53]: FINISHED"}}
[debug] [2023-03-25T18:21:08.902Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.902Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:21:08.903Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.902Z"],"workRunningCount":1}
[debug] [2023-03-25T18:21:08.903Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=8498900 --> us-central1-api
[debug] [2023-03-25T18:21:08.905Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:21:08.905Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=8498900, mapping to path=/payments/create?total=8498900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=8498900, mapping to path=/payments/create?total=8498900"}}
[debug] [2023-03-25T18:21:08.906Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-03-25T18:21:08.913Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:21:08.914Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-03-25T18:21:08.915Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.915Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.902Z"],"workRunningCount":1}
[debug] [2023-03-25T18:21:08.915Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.902Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.915Z"],"workRunningCount":2}
[debug] [2023-03-25T18:21:08.915Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=8498900 --> us-central1-api
[debug] [2023-03-25T18:21:08.918Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:21:08.918Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=8498900, mapping to path=/payments/create?total=8498900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=8498900, mapping to path=/payments/create?total=8498900"}}
[debug] [2023-03-25T18:21:08.924Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-03-25T18:21:08.924Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-03-25T18:21:09.830Z] [runtime-status] [1352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.830Z] [runtime-status] [16756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.831Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.831Z] [runtime-status] [1352] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:21:09.831Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.832Z] [runtime-status] [16756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-03-25T18:21:09.832Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.833Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [16756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [1352] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [16756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [1352] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.994Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.995Z] [runtime-status] [16756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.995Z] [runtime-status] [1352] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.997Z] [runtime-status] [16756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.997Z] [runtime-status] [1352] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.2.1","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.2.1\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2023-03-25T18:21:09.997Z] [runtime-status] [16756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:09.997Z] [runtime-status] [1352] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.5.0","resolution":"G:\\Amazon-full-stack\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.5.0\",\"resolution\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2023-03-25T18:21:10.114Z] [runtime-status] [16756] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:21:10.114Z] [runtime-status] [16756] Listening to port: \\?\pipe\fire_emu_0225d179af067bb4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16756] Listening to port: \\\\?\\pipe\\fire_emu_0225d179af067bb4"}}
[debug] [2023-03-25T18:21:10.114Z] [runtime-status] [1352] Functions runtime initialized. {"cwd":"G:\\Amazon-full-stack\\amazon-clone\\functions","node_version":"18.12.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Functions runtime initialized. {\"cwd\":\"G:\\\\Amazon-full-stack\\\\amazon-clone\\\\functions\",\"node_version\":\"18.12.1\"}"}}
[debug] [2023-03-25T18:21:10.115Z] [runtime-status] [1352] Listening to port: \\?\pipe\fire_emu_04cc8869c069c62f {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1352] Listening to port: \\\\?\\pipe\\fire_emu_04cc8869c069c62f"}}
[debug] [2023-03-25T18:21:10.208Z] [worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE"}}
[debug] [2023-03-25T18:21:10.208Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:21:10.209Z] [worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: BUSY"}}
[debug] [2023-03-25T18:21:10.209Z] [worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE"}}
[debug] [2023-03-25T18:21:10.209Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:21:10.210Z] [worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 615.8499ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 615.8499ms"}}
[debug] [2023-03-25T18:21:10.826Z] [worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE"}}
[debug] [2023-03-25T18:21:10.826Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:21:08.915Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 726.7825ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 726.7825ms"}}
[debug] [2023-03-25T18:21:10.936Z] [worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE"}}
[debug] [2023-03-25T18:21:10.936Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:24:21.568Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.568Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-03-25T18:24:21.568Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.568Z"],"workRunningCount":1}
[debug] [2023-03-25T18:24:21.568Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T18:24:21.571Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:24:21.571Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T18:24:21.571Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:24:21.572Z] [worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: BUSY"}}
[debug] [2023-03-25T18:24:21.572Z] [work-queue] {"queuedWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.572Z"],"queueLength":1,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.568Z"],"workRunningCount":1}
[debug] [2023-03-25T18:24:21.572Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.568Z","/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.572Z"],"workRunningCount":2}
[debug] [2023-03-25T18:24:21.573Z] Accepted request POST /clone-eca8d/us-central1/api/payments/create?total=429800 --> us-central1-api
[debug] [2023-03-25T18:24:21.574Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-03-25T18:24:21.575Z] [functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-eca8d/us-central1/api/payments/create?total=429800, mapping to path=/payments/create?total=429800"}}
[debug] [2023-03-25T18:24:21.575Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-03-25T18:24:21.575Z] [worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: BUSY"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] >  Payment Request Received BOOM!!! for this amount >>>, total {"user":"Payment Request Received BOOM!!! for this amount >>>, total","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received BOOM!!! for this amount >>>, total"}}
[info] i  functions: Finished "us-central1-api" in 653.6629ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 653.6629ms"}}
[debug] [2023-03-25T18:24:22.226Z] [worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-25584cac-70cf-4b6d-a4cd-f349c43f718b]: IDLE"}}
[debug] [2023-03-25T18:24:22.226Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-eca8d/us-central1/api/payments/create-2023-03-25T18:24:21.572Z"],"workRunningCount":1}
[info] i  functions: Finished "us-central1-api" in 712.2062ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 712.2062ms"}}
[debug] [2023-03-25T18:24:22.287Z] [worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58f8a1ef-f5a6-4128-ac89-ddaf5ee8dfe3]: IDLE"}}
[debug] [2023-03-25T18:24:22.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
